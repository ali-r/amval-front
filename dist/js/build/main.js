function init_sidebar(){var setContentHeight=function(){$RIGHT_COL.css("min-height",$(window).height());$BODY.outerHeight();var footerHeight=$BODY.hasClass("footer_fixed")?-10:$FOOTER.height();$LEFT_COL.eq(1).height(),$SIDEBAR_FOOTER.height();$NAV_MENU.height(),$RIGHT_COL.css("min-height","100vh")};$SIDEBAR_MENU.find("a").on("click",function(ev){var $li=$(this).parent(),$liParent=$(this).parent().parent();$li.is(".active")?($li.removeClass("active active-sm"),$("ul:first",$li).slideUp(function(){setContentHeight()})):($li.parent().is(".child_menu")?($BODY.is(".nav-sm")&&($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),$liParent.find("li").removeClass("active")):($SIDEBAR_MENU.find("li").removeClass("active active-sm"),$SIDEBAR_MENU.find("li ul").slideUp()),$li.addClass("active"),$("ul:first",$li).slideDown(function(){setContentHeight()}))}),$MENU_TOGGLE.on("click",function(){$BODY.hasClass("nav-md")?($SIDEBAR_MENU.find("li.active ul").hide(),$SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")):($SIDEBAR_MENU.find("li.active-sm ul").show(),$SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")),$BODY.toggleClass("nav-md nav-sm"),setContentHeight()}),$SIDEBAR_MENU.find('a[href="'+CURRENT_URL+'"]').parent("li").addClass("current-page"),$SIDEBAR_MENU.find("a").filter(function(){return this.href==CURRENT_URL}).parent("li").addClass("current-page").parents("ul").slideDown(function(){setContentHeight()}).parent().addClass("active"),$(window).smartresize(function(){setContentHeight()}),setContentHeight(),$.fn.mCustomScrollbar&&$(".menu_fixed").mCustomScrollbar({autoHideScrollbar:!0,theme:"minimal",mouseWheel:{preventDefault:!0}})}function gd(year,month,day){return new Date(year,month-1,day).getTime()}function init_skycons(){if("undefined"!=typeof Skycons){var i,icons=new Skycons({color:"#73879C"}),list=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"];for(i=list.length;i--;)icons.set(list[i],list[i]);icons.play()}}function init_parsley(){if("undefined"!=typeof parsley){$("parsley:field:validate",function(){validateFront()}),$("#demo-form .btn").on("click",function(){$("#demo-form").parsley().validate(),validateFront()});validateFront=function(){!0===$("#demo-form").parsley().isValid()?($(".bs-callout-info").removeClass("hidden"),$(".bs-callout-warning").addClass("hidden")):($(".bs-callout-info").addClass("hidden"),$(".bs-callout-warning").removeClass("hidden"))};$("parsley:field:validate",function(){validateFront()}),$("#demo-form2 .btn").on("click",function(){$("#demo-form2").parsley().validate(),validateFront()});var validateFront=function(){!0===$("#demo-form2").parsley().isValid()?($(".bs-callout-info").removeClass("hidden"),$(".bs-callout-warning").addClass("hidden")):($(".bs-callout-info").addClass("hidden"),$(".bs-callout-warning").removeClass("hidden"))};try{hljs.initHighlightingOnLoad()}catch(err){}}}function onAddTag(tag){alert("Added a tag: "+tag)}function onRemoveTag(tag){alert("Removed a tag: "+tag)}function onChangeTag(input,tag){alert("Changed a tag: "+tag)}function init_TagsInput(){void 0!==$.fn.tagsInput&&$("#tags_1").tagsInput({width:"auto"})}if(function(x){"use strict";function L(a,b){return b=b||Error,function(){var c,d=arguments[0];for(c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.6.4/"+(a?a+"/":"")+d,d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var f;c+=encodeURIComponent(f="function"==typeof(f=arguments[d])?f.toString().replace(/ \{[\s\S]*$/,""):void 0===f?"undefined":"string"!=typeof f?JSON.stringify(f):f)}return new b(c)}}function me(a){if(!C(a))return Ic;u(a.objectMaxDepth)&&(Ic.objectMaxDepth=Sb(a.objectMaxDepth)?a.objectMaxDepth:NaN)}function Sb(a){return ba(a)&&0<a}function qa(a){if(null==a||Wa(a))return!1;if(H(a)||F(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return ba(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(H(a)||qa(a)){var f="object"!=typeof a;for(c=0,e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(Jc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ua.call(a,c)&&b.call(d,a[c],c,a);return a}function Kc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Lc(a){return function(b,d){a(d,b)}}function ne(){return++qb}function Tb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(C(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&C(n)?ga(n)?a[m]=new Date(n.valueOf()):Xa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Ub(n)?a[m]=n.clone():(C(a[m])||(a[m]=H(n)?[]:{}),Tb(a[m],[n],!0)):a[m]=n}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function S(a){return Tb(a,va.call(arguments,1),!1)}function oe(a){return Tb(a,va.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Vb(a,b){return S(Object.create(a),b)}function z(){}function Ya(a){return a}function la(a){return function(){return a}}function Wb(a){return D(a.toString)&&a.toString!==ma}function w(a){return void 0===a}function u(a){return void 0!==a}function C(a){return null!==a&&"object"==typeof a}function Jc(a){return null!==a&&"object"==typeof a&&!Mc(a)}function F(a){return"string"==typeof a}function ba(a){return"number"==typeof a}function ga(a){return"[object Date]"===ma.call(a)}function D(a){return"function"==typeof a}function Xa(a){return"[object RegExp]"===ma.call(a)}function Wa(a){return a&&a.window===a}function Za(a){return a&&a.$evalAsync&&a.$watch}function Ha(a){return"boolean"==typeof a}function pe(a){return a&&ba(a.length)&&qe.test(ma.call(a))}function Ub(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function re(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function wa(a){return Q(a.nodeName||a[0]&&a[0].nodeName)}function $a(a,b){var d=a.indexOf(b);return 0<=d&&a.splice(d,1),d}function ra(a,b,d){function c(a,b,c){if(0>--c)return"...";var f,d=b.$$hashKey;if(H(a)){f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Jc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ua.call(a,f)&&(b[f]=e(a[f],c));return d?b.$$hashKey=d:delete b.$$hashKey,b}function e(a,b){if(!C(a))return a;if(-1!==(d=g.indexOf(a)))return h[d];if(Wa(a)||Za(a))throw Fa("cpws");var d=!1,e=f(a);return void 0===e&&(e=H(a)?[]:Object.create(Mc(a)),d=!0),g.push(a),h.push(e),d?c(a,e,b):e}function f(a){switch(ma.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(D(a.cloneNode))return a.cloneNode(!0)}var g=[],h=[];if(d=Sb(d)?d:NaN,b){if(pe(b)||"[object ArrayBuffer]"===ma.call(b))throw Fa("cpta");if(a===b)throw Fa("cpi");return H(b)?b.length=0:q(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),h.push(b),c(a,b,d)}return e(a,d)}function Xb(a,b){return a===b||a!==a&&b!==b}function sa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d=typeof a;if(d===typeof b&&"object"===d){if(!H(a)){if(ga(a))return!!ga(b)&&Xb(a.getTime(),b.getTime());if(Xa(a))return!!Xa(b)&&a.toString()===b.toString();if(Za(a)||Za(b)||Wa(a)||Wa(b)||H(b)||ga(b)||Xa(b))return!1;d=V();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!sa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!D(b[c]))return!1;return!0}if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!sa(a[c],b[c]))return!1;return!0}}return!1}function ab(a,b,d){return a.concat(va.call(b,d))}function bb(a,b){var d=2<arguments.length?va.call(arguments,2):[];return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,ab(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Nc(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Wa(b)?d="$WINDOW":b&&x.document===b?d="$DOCUMENT":Za(b)&&(d="$SCOPE"),d}function cb(a,b){if(!w(a))return ba(b)||(b=b?2:null),JSON.stringify(a,Nc,b)}function Oc(a){return F(a)?JSON.parse(a):a}function Pc(a,b){a=a.replace(se,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return da(d)?b:d}function Yb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return b=Pc(b,c),d*=b-c,(a=new Date(a.getTime())).setMinutes(a.getMinutes()+d),a}function xa(a){a=B(a).clone();try{a.empty()}catch(b){}var d=B("<div>").append(a).html();try{return a[0].nodeType===Ia?Q(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+Q(b)})}catch(c){return Q(d)}}function Qc(a){try{return decodeURIComponent(a)}catch(b){}}function Rc(a){var b={};return q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),-1!==(c=a.indexOf("="))&&(e=a.substring(0,c),f=a.substring(c+1)),e=Qc(e),u(e)&&(f=!u(f)||Qc(f),ua.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function Zb(a){var b=[];return q(a,function(a,c){H(a)?q(a,function(a){b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))}):b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))}),b.length?b.join("&"):""}function db(a){return $(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function te(a,b){var d,c,e=Ja.length;for(c=0;c<e;++c)if(d=Ja[c]+b,F(d=a.getAttribute(d)))return d;return null}function ue(a,b){var d,c,e={};q(Ja,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))}),q(Ja,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))}),d&&(ve?(e.strictDi=null!==te(d,"strict-di"),b(d,c?[c]:[],e)):x.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Sc(a,b,d){C(d)||(d={}),d=S({strictDi:!1},d);var c=function(){if((a=B(a)).injector()){var c=a[0]===x.document?"document":xa(a);throw Fa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(b=b||[]).unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),(c=eb(b,d.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;if(x&&e.test(x.name)&&(d.debugInfoEnabled=!0,x.name=x.name.replace(e,"")),x&&!f.test(x.name))return c();x.name=x.name.replace(f,""),ea.resumeBootstrap=function(a){return q(a,function(a){b.push(a)}),c()},D(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function we(){x.name="NG_ENABLE_DEBUG_INFO!"+x.name,x.location.reload()}function xe(a){if(!(a=ea.element(a).injector()))throw Fa("test");return a.get("$$testability")}function Tc(a,b){return b=b||"_",a.replace(ye,function(a,c){return(c?b:"")+a.toLowerCase()})}function fb(a,b,d){if(!a)throw Fa("areq",b||"?",d||"required");return a}function sb(a,b,d){return d&&H(a)&&(a=a[a.length-1]),fb(D(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Ka(a,b){if("hasOwnProperty"===a)throw Fa("badname",b)}function Vc(a,b,d){if(!b)return a;for(var c,e=a,f=(b=b.split(".")).length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?bb(e,a):a}function tb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=B(va.call(a,0,e))),c.push(b));return c||a}function V(){return Object.create(null)}function $b(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=!Wb(a)||H(a)||ga(a)?cb(a):a.toString()}return a}function Ae(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=L("$injector"),c=L("ng");return a=b(a,"angular",Object),a.$$minErr=a.$$minErr||L,b(a,"module",function(){var a={};return function(f,g,h){var k={};if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,c,d,f){return f||(f=e),function(){return f[d||"push"]([b,c,arguments]),v}}function b(a,c,d){return d||(d=e),function(b,e){return e&&D(e)&&(e.$$moduleName=f),d.push([a,c,arguments]),v}}if(!g)throw d("nomod",f);var e=[],p=[],r=[],J=a("$injector","invoke","push",p),v={_invokeQueue:e,_configBlocks:p,_runBlocks:r,info:function(a){if(u(a)){if(!C(a))throw c("aobj","value");return k=a,this}return k},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",p),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:J,run:function(a){return r.push(a),this}};return h&&J(h),v})}})}function pa(a,b){if(H(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(C(a))for(d in b=b||{},a)"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function Be(a,b){var d=[];return Sb(b)&&(a=ra(a,null,b)),JSON.stringify(a,function(a,b){if(b=Nc(a,b),C(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function gb(a,b){return b.toUpperCase()}function wb(a){return a.replace(ag,gb)}function bc(a){return 1===(a=a.nodeType)||!a||9===a}function dd(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(cc.test(a)){for(d=e.appendChild(b.createElement("div")),c=(bg.exec(a)||["",""])[1].toLowerCase(),c=ha[c]||ha._default,d.innerHTML=c[1]+a.replace(cg,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=ab(f,d.childNodes),(d=e.firstChild).textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",q(f,function(a){e.appendChild(a)}),e}function W(a){if(a instanceof W)return a;var b;if(F(a)&&(a=T(a),b=!0),!(this instanceof W)){if(b&&"<"!==a.charAt(0))throw dc("nosel");return new W(a)}if(b){b=x.document;var d;ec(this,a=(d=dg.exec(a))?[b.createElement(d[1])]:(d=dd(a,b))?d.childNodes:[])}else D(a)?ed(a):ec(this,a)}function fc(a){return a.cloneNode(!0)}function xb(a,b){!b&&bc(a)&&B.cleanData([a]),a.querySelectorAll&&B.cleanData(a.querySelectorAll("*"))}function fd(a,b,d,c){if(u(c))throw dc("offargs");var e=(c=yb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&$a(c||[],d),u(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};q(b.split(" "),function(a){g(a),zb[a]&&g(zb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b]}function gc(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),fd(a)),delete hb[d],a.ng339=void 0))}function yb(a,b){var d=(d=a.ng339)&&hb[d];return b&&!d&&(a.ng339=d=++eg,d=hb[d]={events:{},data:{},handle:void 0}),d}function hc(a,b,d){if(bc(a)){var c,e=u(d),f=!e&&b&&!C(b),g=!b;if(a=(a=yb(a,!f))&&a.data,e)a[wb(b)]=d;else{if(g)return a;if(f)return a&&a[wb(b)];for(c in b)a[wb(c)]=b[c]}}}function Ab(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Bb(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",T((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+T(b)+" "," ")))})}function Cb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=T(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),a.setAttribute("class",T(d))}}function ec(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function gd(a,b){return Db(a,"$"+(b||"ngController")+"Controller")}function Db(a,b,d){for(9===a.nodeType&&(a=a.documentElement),b=H(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function hd(a){for(xb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Eb(a,b){b||xb(a);var d=a.parentNode;d&&d.removeChild(a)}function fg(a,b){"complete"===(b=b||x).document.readyState?b.setTimeout(a):B(b).on("load",a)}function ed(a){function b(){x.document.removeEventListener("DOMContentLoaded",b),x.removeEventListener("load",b),a()}"complete"===x.document.readyState?x.setTimeout(a):(x.document.addEventListener("DOMContentLoaded",b),x.addEventListener("load",b))}function id(a,b){var d=Fb[b.toLowerCase()];return d&&jd[wa(a)]&&d}function gg(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(w(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||hg;1<g&&(f=pa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};return d.elem=a,d}function hg(a,b,d){d.call(a,b)}function ig(a,b,d){var c=b.relatedTarget;c&&(c===a||jg.call(a,c))||d.call(a,b)}function Yf(){this.$get=function(){return S(W,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ab(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Cb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Bb(a,b)}})}}function Pa(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):(d=typeof a,d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||ne)():d+":"+a)}function kd(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ld(a){return(a=Function.prototype.toString.call(a).replace(kg,"")).match(lg)||a.match(mg)}function ng(a){return(a=ld(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function eb(a,b){function d(a){return function(b,c){if(!C(b))return a(b,c);q(b,Lc(a))}}function c(a,b){if(Ka(a,"service"),(D(b)||H(b))&&(b=p.instantiate(b)),!b.$get)throw ya("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=v.invoke(b,this);if(w(c))throw ya("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){fb(w(a)||H(a),"modulesToLoad","not an array");var c,b=[];return q(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{F(a)?(c=ac(a),v.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(p.invoke(a)):H(a)?b.push(p.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),ya("modulerr",a,e.stack||e.message||e)}}}),b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw ya("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e),a[b]}catch(f){throw a[b]===k&&delete a[b],f}finally{l.shift()}}function e(a,c,f){for(var g=[],k=0,h=(a=eb.$$annotate(a,b,f)).length;k<h;k++){var l=a[k];if("string"!=typeof l)throw ya("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){if("string"==typeof c&&(d=c,c=null),c=e(a,c,d),H(a)&&(a=a[a.length-1]),d=a,za||"function"!=typeof d)d=!1;else{var f=d.$$ngIsClass;Ha(f)||(f=d.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(d))),d=f}return d?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;return(a=e(a,b,c)).unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Gb,n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,la(b),!1)}),constant:d(function(a,b){Ka(a,"constant"),n[a]=b,r[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=v.invoke(d,c);return v.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){throw ea.isString(b)&&l.push(b),ya("unpr",l.join(" <- "))}),r={},J=h(r,function(a,b){var c=p.get(a+"Provider",b);return v.invoke(c.$get,c,void 0,a)}),v=J;n.$injectorProvider={$get:la(J)},v.modules=p.modules=V();var t=g(a);return(v=J.get("$injector")).strictDi=b,q(t,function(a){a&&v.invoke(a)}),v}function nf(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0}),b}function f(a){if(a){a.scrollIntoView();var c;D(c=g.yOffset)?c=c():Ub(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):ba(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){var b;(a=F(a)?a:ba(a)?a.toString():d.hash())?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||fg(function(){c.$evalAsync(g)})}),g}]}function ib(a,b){return a||b?a?b?(H(a)&&(a=a.join(" ")),H(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function og(a){F(a)&&(a=a.split(" "));var b=V();return q(a,function(a){a.length&&(b[a]=!0)}),b}function ia(a){return C(a)?a:{}}function pg(a,b,d,c){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(0==--J)for(;v.length;)try{v.pop()()}catch(b){d.error(b)}}}function f(){Oa=null,h()}function g(){t=I(),sa(t=w(t)?null:t,G)&&(t=G),M=G=t}function h(){var a=M;g(),N===k.url()&&a===t||(N=k.url(),M=t,q(K,function(a){a(k.url(),t)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,r={};k.isMock=!1;var J=0,v=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){J++},k.notifyWhenNoOutstandingRequests=function(a){0===J?a():v.push(a)};var t,M,N=l.href,A=b.find("base"),Oa=null,I=c.history?function(){try{return m.state}catch(a){}}:z;g(),k.url=function(b,d,e){if(w(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=M===e;if(N===b&&(!c.history||f))return k;var h=N&&Aa(N)===Aa(b);return N=b,M=e,!c.history||h&&f?(h||(Oa=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(Oa=b)):(m[d?"replaceState":"pushState"](e,"",b),g()),Oa&&(Oa=b),k}return Oa||l.href.replace(/%27/g,"'")},k.state=function(){return t};var K=[],E=!1,G=null;k.onUrlChange=function(b){return E||(c.history&&B(a).on("popstate",f),B(a).on("hashchange",f),E=!0),K.push(b),b},k.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)},k.$$checkUrlChange=h,k.baseHref=function(){var a=A.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""},k.defer=function(a,b){var c;return J++,c=n(function(){delete r[c],e(a)},b||0),r[c]=!0,c},k.defer.cancel=function(a){return!!r[a]&&(delete r[a],p(a),e(z),!0)}}function uf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new pg(a,c,b,d)}]}function vf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(p?p===a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw L("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=V(),l=c&&c.capacity||Number.MAX_VALUE,m=V(),n=null,p=null;return b[a]={put:function(a,b){if(!w(b))return l<Number.MAX_VALUE&&e(m[a]||(m[a]={key:a})),a in k||g++,k[a]=b,g>l&&this.remove(p.key),b},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p),b===p&&(p=b.n),f(b.n,b.p),delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=V(),g=0,m=V(),n=p=null},destroy:function(){m=h=k=null,delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};return a.info=function(){var a={};return q(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Sf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,e=V();return q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw fa("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(n[a]=e[f])}}),e}function c(a){var b=a.charAt(0);if(!b||b!==Q(b))throw fa("baddir",a);if(a!==a.trim())throw fa("baddir",a)}function e(a){var b=a.require||a.controller&&a.name;return!H(b)&&C(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,k=re("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=V();this.directive=function N(b,d){return fb(b,"name"),Ka(b,"directive"),F(b)?(c(b),fb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return q(f[b],function(f,g){try{var h=a.invoke(f);D(h)?h={compile:la(h)}:!h.compile&&h.link&&(h.compile=la(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=e(h);var k=h,l=h.restrict;if(l&&(!F(l)||!/[EACM]/.test(l)))throw fa("badrestrict",l,b);k.restrict=l||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(m){c(m)}}),d}])),f[b].push(d)):q(b,Lc(N)),this},this.component=function(a,b){function c(a){function e(b){return D(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:qg(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var d=b.controller||function(){};return q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,D(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return u(a)?(p=a,this):p};var r=!1;this.preAssignBindingsEnabled=function(a){return u(a)?(r=a,this):r};var J=10;this.onChangesTtl=function(a){return arguments.length?(J=a,this):J};var v=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(v=a,this):v};var t=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(t=a,this):t},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,E,G,y,O,X){function P(){try{if(!--ya)throw ia=void 0,fa("infchng",J);G.$apply(function(){for(var a=[],b=0,c=ia.length;b<c;++b)try{ia[b]()}catch(d){a.push(d)}if(ia=void 0,a.length)throw a})}finally{ya++}}function s(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function R(a,b,c){ta.innerHTML="<span "+b+">";var d=(b=ta.firstChild.attributes)[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}function La(a,b){try{a.addClass(b)}catch(c){}}function ca(a,b,c,d,e){a instanceof B||(a=B(a));var f=Ma(a,b,a,c,d,e);ca.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw fa("multilink");fb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new());var h=(d=d||{}).parentBoundTranscludeFn,k=d.transcludeControllers;if(d=d.futureParentElement,h&&h.$$boundTransclude&&(h=h.$$boundTransclude),g||(g=(d=d&&d[0])&&"foreignobject"!==wa(d)&&ma.call(d).match(/SVG/)?"svg":"html"),d="html"!==g?B(ha(g,B("<div>").append(a).html())):c?Na.clone.call(a):a,k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);return ca.$$addScopeInfo(d,b),c&&c(d,b),f&&f(b,d,d,h),c||(a=f=null),d}}function Ma(a,b,c,d,e,f){for(var l,m,n,p,K,h=[],k=H(a)||a instanceof B,r=0;r<a.length;r++)l=new s,11===za&&L(a,r,k),(f=(m=jc(a[r],[],l,0===r?d:void 0,e)).length?W(m,a[r],l,b,c,null,[],[],f):null)&&f.scope&&ca.$$addScopeClass(l.$$element),l=f&&f.terminal||!(n=a[r].childNodes)||!n.length?null:Ma(n,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||l)&&(h.push(r,f,l),p=!0,K=K||f),f=null;return p?function(a,c,d,e){var f,k,l,m,n,p,r;if(K)for(r=Array(c.length),m=0;m<h.length;m+=3)f=h[m],r[f]=c[f];else r=c;for(m=0,n=h.length;m<n;)k=r[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),ca.$$addScopeInfo(B(k),l)):l=a,p=c.transcludeOnThisElement?ja(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ja(a,b):null,c(f,l,k,d,p)):f&&f(a,k.childNodes,void 0,e)}:null}function L(a,b,c){var f,d=a[b],e=d.parentNode;if(d.nodeType===Ia)for(;(f=e?d.nextSibling:a[b+1])&&f.nodeType===Ia;)d.nodeValue+=f.nodeValue,f.parentNode&&f.parentNode.removeChild(f),c&&f===a[b+1]&&a.splice(b+1,1)}function ja(a,b,c){function d(e,f,g,h,k){return e||(e=a.$new(!1,k),e.$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=V();for(f in b.$$slots)e[f]=b.$$slots[f]?ja(a,b.$$slots[f],c):null;return d}function jc(a,b,c,d,e){var g,f=c.$attr;switch(a.nodeType){case 1:Y(b,Ba(g=wa(a)),"E",d,e);for(var k,l,m,n,p=a.attributes,K=0,r=p&&p.length;K<r;K++){var G=!1,E=!1;l=(k=p[K]).name,m=k.value,k=Ba(l),(n=Ja.test(k))&&(l=l.replace(md,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(k=k.match(Ka))&&Z(k[1])&&(G=l,E=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f[k=Ba(l.toLowerCase())]=l,!n&&c.hasOwnProperty(k)||(c[k]=m,id(a,k)&&(c[k]=!0)),pa(a,b,m,k,n),Y(b,k,"A",d,e,G,E)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ga)break;if(f=a.className,C(f)&&(f=f.animVal),F(f)&&""!==f)for(;a=h.exec(f);)k=Ba(a[2]),Y(b,k,"C",d,e)&&(c[k]=T(a[3])),f=f.substr(a.index+a[0].length);break;case Ia:la(b,a.nodeValue);break;case 8:if(!Fa)break;jb(a,b,c,d,e)}return b.sort(ea),b}function jb(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ba(f[1]);Y(b,h,"M",d,e)&&(c[h]=T(f[2]))}}catch(k){}}function nd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b))do{if(!a)throw fa("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e);else d.push(a);return B(d)}function od(a,b,c){return function(d,e,f,g,h){return e=nd(e[0],b,c),a(d,e,f,g,h)}}function kc(a,b,c,d,e,f){var g;return a?ca(b,c,d,e,f):function(){return g||(g=ca(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function W(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&&(c&&(a=od(a,c,d)),a.require=y.require,a.directiveName=P,(E===y||y.$$isolateScope)&&(a=qa(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=od(b,c,d)),b.require=y.require,b.directiveName=P,(E===y||y.$$isolateScope)&&(b=qa(b,{isolateScope:!0})),k.push(b))}function n(a,e,f,g,l){var p,y,t,v,J,O,N,P;b===f?(g=d,P=d.$$element):(P=B(f),g=new s(P,d)),J=e,E?v=e.$new(!0):K&&(J=e.$parent),l&&(N=function(a,b,c,d){var e;if(Za(a)||(d=c,c=b,b=a,a=void 0),X&&(e=O),c||(c=X?P.parent():P),!d)return l(a,b,e,c,R);var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(w(f))throw fa("noslot",d,xa(P))},N.$$boundTransclude=l,N.isSlotFilled=function(a){return!!l.$$slots[a]}),G&&(O=ba(P,g,N,G,v,e,E)),E&&(ca.$$addScopeInfo(P,v,!0,!(I&&(I===E||I===E.$$originalDirective))),ca.$$addScopeClass(P,!0),v.$$isolateBindings=E.$$isolateBindings,(y=na(e,g,v,v.$$isolateBindings,E)).removeWatches&&v.$on("$destroy",y.removeWatches));for(p in O){y=G[p],t=O[p];var Hb=y.$$bindings.bindToController;if(r){t.bindingInfo=Hb?na(J,g,t.instance,Hb,y):{};var A=t();A!==t.instance&&(t.instance=A,P.data("$"+y.name+"Controller",A),t.bindingInfo.removeWatches&&t.bindingInfo.removeWatches(),t.bindingInfo=na(J,g,t.instance,Hb,y))}else t.instance=t(),P.data("$"+y.name+"Controller",t.instance),t.bindingInfo=na(J,g,t.instance,Hb,y)}for(q(G,function(a,b){var c=a.require;a.bindToController&&!H(c)&&C(c)&&S(O[b].instance,U(b,c,P,O))}),q(O,function(a){var b=a.instance;if(D(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(D(b.$onInit))try{b.$onInit()}catch(e){c(e)}D(b.$doCheck)&&(J.$watch(function(){b.$doCheck()}),b.$doCheck()),D(b.$onDestroy)&&J.$on("$destroy",function(){b.$onDestroy()})}),p=0,y=h.length;p<y;p++)t=h[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);var R=e;for(E&&(E.template||null===E.templateUrl)&&(R=v),a&&a(R,f.childNodes,void 0,l),p=k.length-1;0<=p;p--)t=k[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);q(O,function(a){D((a=a.instance).$postLink)&&a.$postLink()})}l=l||{};for(var y,P,N,R,x,p=-Number.MAX_VALUE,K=l.newScopeDirective,G=l.controllerDirectives,E=l.newIsolateScopeDirective,I=l.templateDirective,t=l.nonTlbTranscludeDirective,J=!1,O=!1,X=l.hasElementTranscludeDirective,v=d.$$element=B(b),A=e,u=!1,La=!1,z=0,F=a.length;z<F;z++){var Ma=(y=a[z]).$$start,L=y.$$end;if(Ma&&(v=nd(b,Ma,L)),N=void 0,p>y.priority)break;if((x=y.scope)&&(y.templateUrl||(C(x)?($("new/isolated scope",E||K,y,v),E=y):$("new/isolated scope",E,y,v)),K=K||y),P=y.name,!u&&(y.replace&&(y.templateUrl||y.template)||y.transclude&&!y.$$tlb)){for(x=z+1;u=a[x++];)if(u.transclude&&!u.$$tlb||u.replace&&(u.templateUrl||u.template)){La=!0;break}u=!0}if(!y.templateUrl&&y.controller&&(G=G||V(),$("'"+P+"' controller",G[P],y,v),G[P]=y),x=y.transclude)if(J=!0,y.$$tlb||($("transclusion",t,y,v),t=y),"element"===x)X=!0,p=y.priority,N=v,v=d.$$element=B(ca.$$createComment(P,d[P])),b=v[0],ka(f,va.call(N,0),b),N[0].$$parentNode=N[0].parentNode,A=kc(La,N,e,p,g&&g.name,{nonTlbTranscludeDirective:t});else{var ja=V();if(C(x)){N=[];var Q=V(),jb=V();q(x,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,Q[a]=b,ja[b]=null,jb[b]=c}),q(v.contents(),function(a){var b=Q[Ba(wa(a))];b?(jb[b]=!0,ja[b]=ja[b]||[],ja[b].push(a)):N.push(a)}),q(jb,function(a,b){if(!a)throw fa("reqslot",b)});for(var ic in ja)ja[ic]&&(ja[ic]=kc(La,ja[ic],e))}else N=B(fc(b)).contents();v.empty(),(A=kc(La,N,e,void 0,void 0,{needsNewScope:y.$$isolateScope||y.$$newScope})).$$slots=ja}if(y.template)if(O=!0,$("template",I,y,v),I=y,x=D(y.template)?y.template(v,d):y.template,x=Ea(x),y.replace){if(g=y,N=cc.test(x)?pd(ha(y.templateNamespace,T(x))):[],b=N[0],1!==N.length||1!==b.nodeType)throw fa("tplrt",P,"");ka(f,v,b),x=jc(b,[],F={$attr:{}});var Y=a.splice(z+1,a.length-(z+1));(E||K)&&aa(x,E,K),a=a.concat(x).concat(Y),da(d,F),F=a.length}else v.html(x);if(y.templateUrl)O=!0,$("template",I,y,v),I=y,y.replace&&(g=y),n=ga(a.splice(z,a.length-z),v,d,f,J&&A,h,k,{controllerDirectives:G,newScopeDirective:K!==y&&K,newIsolateScopeDirective:E,templateDirective:I,nonTlbTranscludeDirective:t}),F=a.length;else if(y.compile)try{R=y.compile(v,d,A);var Z=y.$$originalDirective||y;D(R)?m(null,bb(Z,R),Ma,L):R&&m(bb(Z,R.pre),bb(Z,R.post),Ma,L)}catch(ea){c(ea,xa(v))}y.terminal&&(n.terminal=!0,p=Math.max(p,y.priority))}return n.scope=K&&!0===K.scope,n.transcludeOnThisElement=J,n.templateOnThisElement=O,n.transclude=A,l.hasElementTranscludeDirective=X,n}function U(a,b,c,d){var e;if(F(b)){f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw fa("ctreq",b,a)}else if(H(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=U(a,b[g],c,d);else C(b)&&(e={},q(b,function(b,f){e[f]=U(a,b,c,d)}));return e||null}function ba(a,b,c,d,e,f,g){var k,h=V();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"===n&&(n=b[l.name]),m=E(n,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function aa(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Vb(a[d],{$$isolateScope:b,$$newScope:c})}function Y(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c))for(var n=0,p=(h=a.get(c+"Directive")).length;n<p;n++)if(c=h[n],(w(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){if(k&&(c=Vb(c,{$$start:k,$$end:l})),!c.$$bindings){var K=m=c,r=c.name,t={isolateScope:null,bindToController:null};if(C(K.scope)&&(!0===K.bindToController?(t.bindToController=d(K.scope,r,!0),t.isolateScope={}):t.isolateScope=d(K.scope,r,!1)),C(K.bindToController)&&(t.bindToController=d(K.bindToController,r,!0)),t.bindToController&&!K.controller)throw fa("noctrl",r);C((m=m.$$bindings=t).isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c),m=c}return m}function Z(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if((b=c[d]).multiElement)return!0;return!1}function da(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+("style"===e?";":" ")+b[e]:b[e]),a.$set(e,d,!0,c[e]))}),q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ga(a,b,d,f,g,h,k,l){var n,p,m=[],K=b[0],r=a.shift(),t=Vb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),y=D(r.templateUrl)?r.templateUrl(b,d):r.templateUrl,E=r.templateNamespace;return b.empty(),e(y).then(function(c){var e,G;if(c=Ea(c),r.replace){if(c=cc.test(c)?pd(ha(E,T(c))):[],e=c[0],1!==c.length||1!==e.nodeType)throw fa("tplrt",r.name,y);c={$attr:{}},ka(f,b,e);I=jc(e,[],c);C(r.scope)&&aa(I,!0),a=I.concat(a),da(d,c)}else e=K,b.html(c);for(a.unshift(t),n=W(a,e,d,g,b,r,h,k,l),q(f,function(a,c){a===e&&(f[c]=b[0])}),p=Ma(b[0].childNodes,g);m.length;){c=m.shift(),G=m.shift();var v=m.shift(),J=m.shift(),I=b[0];if(!c.$$destroyed){if(G!==K){var O=G.className;l.hasElementTranscludeDirective&&r.replace||(I=fc(e)),ka(v,B(G),I),La(B(I),O)}G=n.transcludeOnThisElement?ja(c,n.transclude,J):J,n(p,c,I,f,G)}}m=null}).catch(function(a){a instanceof Error&&c(a)}),function(a,b,c,d,e){a=e,b.$$destroyed||(m?m.push(b,c,d,a):(n.transcludeOnThisElement&&(a=ja(b,n.transclude,e)),n(p,b,c,d,a)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function $(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw fa("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,xa(d))}function la(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=!!(a=a.parent()).length;return b&&ca.$$addBindingClass(a),function(a,c){var e=c.parent();b||ca.$$addBindingClass(e),ca.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ha(a,b){switch(a=Q(a||"html")){case"svg":case"math":var c=x.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function oa(a,b){if("srcdoc"===b)return y.HTML;var c=wa(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return y.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b||"link"===c&&"href"===b)return y.RESOURCE_URL}function pa(a,c,d,e,f){var g=oa(a,e),h=k[e]||f,l=b(d,!f,g,h);if(l){if("multiple"===e&&"select"===wa(a))throw fa("selmulti",xa(a));if(m.test(e))throw fa("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=V());var k=f[e];k!==d&&(l=k&&b(k,!0,g,h),d=k),l&&(f[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function ka(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c,h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=x.document.createDocumentFragment(),g=0;g<e;g++)a.appendChild(b[g]);for(B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy")),B.cleanData(a.querySelectorAll("*")),g=1;g<e;g++)delete b[g];b[0]=c,b.length=1}function qa(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function ra(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,xa(d))}}function na(a,c,d,e,f){function g(b,c,e){D(d.$onChanges)&&!Xb(c,e)&&(ia||(a.$$postDigest(P),ia=[]),m||(m={},ia.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Ib(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return q(e,function(e,h){var r,t,y,G,m=e.attrName,p=e.optional;switch(e.mode){case"@":p||ua.call(c,m)||(d[h]=c[m]=void 0),p=c.$observe(m,function(a){(F(a)||Ha(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,F(r=c[m])?d[h]=b(r)(a):Ha(r)&&(d[h]=r),l[h]=new Ib(lc,d[h]),k.push(p);break;case"=":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;t=n(c[m]),G=t.literal?sa:Xb,y=t.assign||function(){throw r=d[h]=t(a),fa("nonassign",c[m],m,f.name)},r=d[h]=t(a),(p=function(b){return G(b,d[h])||(G(b,r)?y(a,b=d[h]):d[h]=b),r=b}).$stateful=!0,p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,t.literal),k.push(p);break;case"<":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;var E=(t=n(c[m])).literal,I=d[h]=t(a);l[h]=new Ib(lc,d[h]),p=a.$watch(t,function(a,b){if(b===a){if(b===I||E&&sa(b,I))return;b=I}g(h,a,b),d[h]=a},E),k.push(p);break;case"&":if((t=c.hasOwnProperty(m)?n(c[m]):z)===z&&p)break;d[h]=function(b){return t(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var ia,Ca=/^\w/,ta=x.document.createElement("div"),Fa=v,Ga=t,ya=J;s.prototype={$normalize:Ba,$addClass:function(a){a&&0<a.length&&O.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&O.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qd(a,b);c&&c.length&&O.addClass(this.$$element,c),(c=qd(b,a))&&c.length&&O.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=id(this.$$element[0],a),g=rd[a],h=a;if(f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Tc(a,"-")),"a"===(f=wa(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=X(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){for(var f="",g=T(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+X(T(g[m]),!0),f=f+" "+T(g[m+1]);g=T(g[2*l]).split(/\s/),f+=X(T(g[0]),!0),2===g.length&&(f+=" "+T(g[1])),this[a]=b=f}!1!==d&&(null===b||w(b)?this.$$element.removeAttr(e):Ca.test(e)?this.$$element.attr(e,b):R(this.$$element[0],e,b)),(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=V()),e=d[a]||(d[a]=[]);return e.push(b),G.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||w(c[a])||b(c[a])}),function(){$a(e,b)}}};var Aa=b.startSymbol(),Da=b.endSymbol(),Ea="{{"===Aa&&"}}"===Da?Ya:function(a){return a.replace(/\{\{/g,Aa).replace(/}}/g,Da)},Ja=/^ngAttr[A-Z]/,Ka=/^(.+)Start$/;return ca.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:z,ca.$$addBindingClass=p?function(a){La(a,"ng-binding")}:z,ca.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:z,ca.$$addScopeClass=p?function(a,b){La(a,b?"ng-isolate-scope":"ng-scope")}:z,ca.$$createComment=function(a,b){var c="";return p&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),x.document.createComment(c)},ca}]}function Ib(a,b){this.previousValue=a,this.currentValue=b}function Ba(a){return a.replace(md,"").replace(rg,gb)}function qd(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g===e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function pd(a){var b=(a=B(a)).length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Ia&&""===d.nodeValue.trim())&&sg.call(a,b,1)}return a}function qg(a,b){if(b&&F(b))return b;if(F(a)){var d=sd.exec(a);if(d)return d[3]}}function wf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){Ka(b,"controller"),C(b)?S(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!C(a.$scope))throw L("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;if(h=!0===h,k&&F(k)&&(n=k),F(f)){if(!(k=f.match(sd)))throw td("ctrlfmt",f);if(m=k[1],n=n||k[3],!(f=a.hasOwnProperty(m)?a[m]:Vc(g.$scope,m,!0)||(b?Vc(c,m,!0):void 0)))throw td("ctrlreg",m);sb(f,m,!0)}return h?(h=(H(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);return a!==l&&(C(a)||D(a))&&(l=a,n&&e(g,n,l,m||f.name)),l},{instance:l,identifier:n})):(l=d.instantiate(f,g,m),n&&e(g,n,l,m||f.name),l)}}]}function xf(){this.$get=["$window",function(a){return B(a.document)}]}function yf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;return a.on("visibilitychange",d),b.$on("$destroy",function(){a.off("visibilitychange",d)}),function(){return e}}]}function zf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function mc(a){return C(a)?ga(a)?a.toISOString():cb(a):a}function Ef(){this.$get=function(){return function(a){if(!a)return"";var b=[];return Kc(a,function(a,c){null===a||w(a)||(H(a)?q(a,function(a){b.push($(c)+"="+$(mc(a)))}):b.push($(c)+"="+$(mc(a))))}),b.join("&")}}}function Ff(){this.$get=function(){return function(a){function b(a,e,f){null===a||w(a)||(H(a)?q(a,function(a,c){b(a,e+"["+(C(a)?c:"")+"]")}):C(a)&&!ga(a)?Kc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push($(e)+"="+$(mc(a))))}if(!a)return"";var d=[];return b(a,"",!0),d.join("&")}}}function nc(a,b){if(F(a)){var d=a.replace(tg,"").trim();if(d){var c=b("Content-Type");if((c=c&&0===c.indexOf(ud))||(c=(c=d.match(ug))&&vg[c[0]].test(d)),c)try{a=Oc(d)}catch(e){throw oc("baddata",a,e)}}}return a}function vd(a){var d,b=V();return F(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=Q(T(a.substr(0,d)));a=T(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):C(a)&&q(a,function(a,d){var f=Q(d),g=T(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function wd(a){var b;return function(d){return b||(b=vd(a)),d?(void 0===(d=b[Q(d)])&&(d=null),d):b}}function xd(a,b,d,c){return D(c)?c(a,b,d):(q(c,function(c){a=c(a,b,d)}),a)}function Df(){var a=this.defaults={transformResponse:[nc],transformRequest:[function(a){return C(a)&&"[object File]"!==ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pa(pc),put:pa(pc),patch:pa(pc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(c,e,f,g,h,k,l,m){function n(b){function d(a,b){for(var c=0,e=b.length;c<e;){var f=b[c++],g=b[c++];a=a.then(f,g)}return b.length=0,a}function e(a,b){var c,d={};return q(a,function(a,e){D(a)?null!=(c=a(b))&&(d[e]=c):d[e]=a}),d}function f(a){var b=S({},a);return b.data=xd(a.data,a.headers,a.status,g.transformResponse),200<=(a=a.status)&&300>a?b:k.reject(b)}if(!C(b))throw L("$http")("badreq",b);if(!F(m.valueOf(b.url)))throw L("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=function(b){var f,g,h,c=a.headers,d=S({},b.headers),c=S({},c.common,c[Q(b.method)]);a:for(f in c){g=Q(f);for(h in d)if(Q(h)===g)continue a;d[f]=c[f]}return e(d,pa(b))}(b),g.method=ub(g.method),g.paramSerializer=F(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer,c.$$incOutstandingRequestCount();var h=[],n=[];return b=k.resolve(g),q(t,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&n.push(a.response,a.responseError)}),b=d(b,h),b=b.then(function(b){var c=b.headers,d=xd(b.data,wd(c),void 0,b.transformRequest);return w(d)&&q(c,function(a,b){"content-type"===Q(b)&&delete c[b]}),w(b.withCredentials)&&!w(a.withCredentials)&&(b.withCredentials=a.withCredentials),p(b,d).then(f,f)}),b=d(b,n),b=b.finally(function(){c.$$completeOutstandingRequest(z)})}function p(c,d){function g(a){if(a){var c={};return q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function p(a,b,d,e){(200<=(b=-1<=b?b:0)&&300>b?G.resolve:G.reject)({data:a,status:b,headers:wd(d),config:c,statusText:e})}function K(a){p(a.data,a.status,pa(a.headers()),a.statusText)}function t(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var O,X,G=k.defer(),y=G.promise,P=c.headers,s="jsonp"===Q(c.method),R=c.url;return s?R=m.getTrustedResourceUrl(R):F(R)||(R=m.valueOf(R)),R=r(R,c.paramSerializer(c.params)),s&&(R=J(R,c.jsonpCallbackParam)),n.pendingRequests.push(c),y.then(t,t),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(O=C(c.cache)?c.cache:C(a.cache)?a.cache:v),O&&(X=O.get(R),u(X)?X&&D(X.then)?X.then(K,K):H(X)?p(X[1],X[0],pa(X[2]),X[3]):p(X,200,{},"OK"):O.put(R,y)),w(X)&&((X=yd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(P[c.xsrfHeaderName||a.xsrfHeaderName]=X),e(c.method,R,d,function(a,c,d,e){function f(){p(c,a,d,e)}O&&(200<=a&&300>a?O.put(R,[a,c,vd(d),e]):O.remove(R)),b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())},P,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers))),y}function r(a,b){return 0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}function J(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw oc("badjsonp",a);if(new RegExp("[&?]"+b+"=").test(a))throw oc("badjsonp",b,a);return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var v=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var t=[];return q(d,function(a){t.unshift(F(a)?l.get(a):l.invoke(a))}),n.pendingRequests=[],function(a){q(arguments,function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){q(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Hf(){this.$get=function(){return function(){return new x.XMLHttpRequest}}}function Gf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return wg(a,c,a.defer,b,d[0])}]}function wg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m),f.removeEventListener("error",m),e.body.removeChild(f),f=null;var g=-1,r="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),r=a.type,g="error"===a.type?404:200),d&&d(g,r)},f.addEventListener("load",m),f.addEventListener("error",m),e.body.appendChild(f),m}return function(e,h,k,l,m,n,p,r,J,v){function t(){N&&N(),A&&A.abort()}if(h=h||a.url(),"jsonp"===Q(e))var M=c.createCallback(h),N=f(h,M,function(a,b){var e=200===a&&c.getResponse(M);u(I)&&d.cancel(I),N=A=null,l(a,e,"",b),c.removeCallback(M)});else{var A=b(e,h);if(A.open(e,h,!0),q(m,function(a,b){u(a)&&A.setRequestHeader(b,a)}),A.onload=function(){var a=A.statusText||"",b="response"in A?A.response:A.responseText,c=1223===A.status?204:A.status;0===c&&(c=b?200:"file"===Ca(h).protocol?404:0);var e=A.getAllResponseHeaders();u(I)&&d.cancel(I),N=A=null,l(c,b,e,a)},e=function(){u(I)&&d.cancel(I),N=A=null,l(-1,null,null,"")},A.onerror=e,A.onabort=e,A.ontimeout=e,q(J,function(a,b){A.addEventListener(b,a)}),q(v,function(a,b){A.upload.addEventListener(b,a)}),p&&(A.withCredentials=!0),r)try{A.responseType=r}catch(s){if("json"!==r)throw s}A.send(w(k)?null:k)}if(0<n)var I=d(t,n);else n&&D(n.then)&&n.then(t)}}function Bf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function k(f,k,n,p){if(!f.length||-1===f.indexOf(a)){var q;return k||(k=g(f),q=la(k),q.exp=f,q.expressions=[],q.$$watchDelegate=h),q}p=!!p;var A,s,I=0,K=[],E=[];q=f.length;for(var G=[],y=[];I<q;){if(-1===(A=f.indexOf(a,I))||-1===(s=f.indexOf(b,A+l))){I!==q&&G.push(g(f.substring(I)));break}I!==A&&G.push(g(f.substring(I,A))),I=f.substring(A+l,s),K.push(I),E.push(d(I,function(a){try{var b=a;return a=n?e.getTrusted(n,b):e.valueOf(b),p&&!u(a)?a:$b(a)}catch(d){c(Da.interr(f,d))}})),I=s+m,y.push(G.length),G.push("")}if(n&&1<G.length&&Da.throwNoconcat(f),!k||K.length){var O=function(a){for(var b=0,c=K.length;b<c;b++){if(p&&w(a[b]))return;G[y[b]]=a[b]}return G.join("")};return S(function(a){var b=0,d=K.length,e=Array(d);try{for(;b<d;b++)e[b]=E[b](a);return O(e)}catch(g){c(Da.interr(f,g))}},{exp:f,expressions:K,$$watchDelegate:function(a,b){var c;return a.$watchGroup(E,function(d,e){var f=O(d);D(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Cf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,r):f(t)}var p=4<arguments.length,r=p?va.call(arguments,4):[],J=b.setInterval,v=b.clearInterval,t=0,M=u(m)&&!m,q=(M?c:d).defer(),A=q.promise;return l=u(l)?l:0,A.$$intervalId=J(function(){M?e.defer(n):a.$evalAsync(n),q.notify(t++),0<l&&t>=l&&(q.resolve(t),v(A.$$intervalId),delete g[A.$$intervalId]),M||a.$apply()},k),g[A.$$intervalId]=q,A}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].promise.catch(z),g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function qc(a){for(var b=(a=a.split("/")).length;b--;)a[b]=db(a[b]);return a.join("/")}function zd(a,b){var d=Ca(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=Z(d.port)||xg[d.protocol]||null}function Ad(a,b){if(yg.test(a))throw kb("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Ca(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname),b.$$search=Rc(c.search),b.$$hash=decodeURIComponent(c.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function rc(a,b){return a.slice(0,b.length)===b}function ka(a,b){if(rc(b,a))return b.substr(a.length)}function Aa(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function lb(a){return a.replace(/(#.+)|#$/,"$1")}function sc(a,b,d){this.$$html5=!0,d=d||"",zd(a,this),this.$$parse=function(a){var d=ka(b,a);if(!F(d))throw kb("ipthprfx",a,b);Ad(d,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Zb(this.$$search),d=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(a?"?"+a:"")+d,this.$$absUrl=b+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return u(f=ka(a,c))?(g=f,g=d&&u(f=ka(d,f))?b+(ka("/",f)||f):a+g):u(f=ka(b,c))?g=b+f:b===c+"/"&&(g=b),g&&this.$$parse(g),!!g}}function tc(a,b,d){zd(a,this),this.$$parse=function(c){var f,e=ka(a,c)||ka(b,c);w(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",w(e)&&(a=c,this.replace())):(f=ka(d,e),w(f)&&(f=e)),Ad(f,this),c=this.$$path;var g=/^\/[A-Z]:(\/.*)/;rc(f,e=a)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+(this.$$url?d+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(b,d){return Aa(a)===Aa(b)&&(this.$$parse(b),!0)}}function Bd(a,b,d){this.$$html5=!0,tc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a===Aa(c)?f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+d+this.$$url,this.$$urlUpdatedByLocation=!0}}function Jb(a){return function(){return this[a]}}function Cd(a,b){return function(d){return w(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function Jf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return Ha(a)?(b.enabled=a,this):C(a)?(Ha(a.enabled)&&(b.enabled=a.enabled),Ha(a.requireBase)&&(b.requireBase=a.requireBase),(Ha(a.rewriteLinks)||F(a.rewriteLinks))&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var p,n=c.url();if(b.enabled){if(!m&&b.requireBase)throw kb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/"),m=e.history?sc:Bd}else p=Aa(n),m=tc;var r=p.substr(0,Aa(p).lastIndexOf("/")+1);(l=new m(p,r,"#"+a)).$$parseLinkUrl(n,n),l.$$state=c.state();var J=/^\s*(javascript|mailto):/i;f.on("click",function(a){if((e=b.rewriteLinks)&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var h=B(a.target);"a"!==wa(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!F(e)||!w(h.attr(e))){var e=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");C(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=Ca(e.animVal).href),J.test(e)||!e||h.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(e,k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}}),lb(l.absUrl())!==lb(n)&&c.url(l.absUrl(),!0);var v=!0;return c.onUrlChange(function(a,b){rc(a,r)?(d.$evalAsync(function(){var f,c=l.absUrl(),e=l.$$state;a=lb(a),l.$$parse(a),l.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(v=!1,k(c,e)))}),d.$$phase||d.$digest()):g.location.href=a}),d.$watch(function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var a=lb(c.url()),b=lb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;(v||m)&&(v=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))}))}l.$$replace=!1}),l}]}function Kf(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(d){function c(a){return a instanceof Error&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=d.console||{},e=b[a]||b.log||z;a=!1;try{a=!!e.apply}catch(f){}return a?function(){var a=[];return q(arguments,function(b){a.push(c(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}var f=za||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function zg(a){return a+""}function Ag(a,b){return void 0!==a?a:b}function Dd(a,b){return void 0===a?b:void 0===b?a:a+b}function U(a,b){var d,c,e;switch(a.type){case s.Program:d=!0,q(a.body,function(a){U(a.expression,b),d=d&&a.expression.constant}),a.constant=d;break;case s.Literal:a.constant=!0,a.toWatch=[];break;case s.UnaryExpression:U(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:U(a.test,b),U(a.alternate,b),U(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1,a.toWatch=[a];break;case s.MemberExpression:U(a.object,b),a.computed&&U(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case s.CallExpression:d=e=!!a.filter&&!b(a.callee.name).$stateful,c=[],q(a.arguments,function(a){U(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=e?c:[a];break;case s.AssignmentExpression:U(a.left,b),U(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case s.ArrayExpression:d=!0,c=[],q(a.elements,function(a){U(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=c;break;case s.ObjectExpression:d=!0,c=[],q(a.properties,function(a){U(a.value,b),d=d&&a.value.constant&&!a.computed,a.value.constant||c.push.apply(c,a.value.toWatch),a.computed&&(U(a.key,b),a.key.constant||c.push.apply(c,a.key.toWatch))}),a.constant=d,a.toWatch=c;break;case s.ThisExpression:a.constant=!1,a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Ed(a){if(1===a.length){var b=(a=a[0].expression).toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Fd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function Gd(a){if(1===a.body.length&&Fd(a.body[0].expression))return{type:s.AssignmentExpression,left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function Hd(a){this.$filter=a}function Id(a){this.$filter=a}function uc(a,b,d){this.ast=new s(a,d),this.astCompiler=d.csp?new Id(b):new Hd(b)}function vc(a){return D(a.valueOf)?a.valueOf():Bg.call(a)}function Lf(){var d,c,a=V(),b={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,c){b[a]=c},this.setIdentifierFns=function(a,b){return d=a,c=b,this},this.$get=["$filter",function(e){function f(a,b,c){return null==a||null==b?a===b:!("object"==typeof a&&"object"==typeof(a=vc(a))&&!c)&&(a===b||a!==a&&b!==b)}function g(a,b,c,d,e){var h;if(1===(g=d.inputs).length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);return f(b,k,d.literal)||(h=d(a,void 0,void 0,[b]),k=b&&vc(b)),h},b,c,e)}for(var l=[],m=[],n=0,E=g.length;n<E;n++)l[n]=f,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;c<e;c++){var k=g[c](a);(b||(b=!f(k,l[c],d.literal)))&&(m[c]=k,l[c]=k&&vc(k))}return b&&(h=d(a,void 0,void 0,m)),h},b,c,e)}function h(a,b,c,d,e){function h(a,c,d){n=a,D(b)&&b(a,c,d),l(a)&&d.$$postDigest(function(){l(n)&&m()})}var m,n,l=d.literal?k:u;return m=d.inputs?g(a,h,c,d,e):a.$watch(function(a){return d(a)},h,c)}function k(a){var b=!0;return q(a,function(a){u(a)||(b=!1)}),b}function l(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function m(a,b){if(!b)return a;var e=a.$$watchDelegate,f=!1,h=a.literal?k:u,l=a.oneTime?function(c,e,g,k){return g=f&&k?k[0]:a(c,e,g,k),c=b(g,c,e),h(g)?c:g}:function(d,e,g,h){return g=f&&h?h[0]:a(d,e,g,h),b(g,d,e)};return l.literal=a.literal,l.oneTime=a.oneTime,f=!a.inputs,e&&e!==g?(l.$$watchDelegate=e,l.inputs=a.inputs):b.$stateful||(l.$$watchDelegate=g,l.inputs=a.inputs?a.inputs:[a]),l}var n={csp:Ga().noUnsafeEval,literals:ra(b),isIdentifierStart:D(d)&&d,isIdentifierContinue:D(c)&&c};return function(b,c){var d,f,k;switch(typeof b){case"string":return k=b=b.trim(),(d=a[k])||(":"===b.charAt(0)&&":"===b.charAt(1)&&(f=!0,b=b.substring(2)),d=new wc(n),(d=new uc(d,e,n).parse(b)).constant?d.$$watchDelegate=l:f?(d.oneTime=!0,d.$$watchDelegate=h):d.inputs&&(d.$$watchDelegate=g),a[k]=d),m(d,c);case"function":return m(b,c);default:return m(z,c)}}}]}function Nf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Jd(function(a){b.$evalAsync(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Of(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Jd(function(a){b.defer(a)},d,a)}],this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Jd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){k(a,b)},this.reject=function(b){m(a,b)},this.notify=function(b){p(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!s&&A.length;){var a=A.shift();if(!a.pur){a.pur=!0;var c="Possibly unhandled rejection: "+("function"==typeof(c=a.value)?c.toString().replace(/ \{[\s\S]*$/,""):w(c)?"undefined":"string"!=typeof c?Be(c,void 0):c);a.value instanceof Error?b(a.value,c):b(c)}}}function h(b){!d||b.pending||2!==b.status||b.pur||(0===s&&0===A.length&&a(g),A.push(b)),!b.processScheduled&&b.pending&&(b.processScheduled=!0,++s,a(function(){var c,e,f;f=b.pending,b.processScheduled=!1,b.pending=void 0;try{for(var h=0,l=f.length;h<l;++h){b.pur=!0,e=f[h][0],c=f[h][b.status];try{D(c)?k(e,c(b.value)):1===b.status?k(e,b.value):m(e,b.value)}catch(n){m(e,n)}}}finally{--s,d&&0===s&&a(g)}}))}function k(a,b){a.$$state.status||(b===a?n(a,M("qcycle",b)):l(a,b))}function l(a,b){function d(b){g||(g=!0,n(a,b))}var f,g=!1;try{(C(b)||D(b))&&(f=b.then),D(f)?(a.$$state.status=-1,f.call(b,function(b){g||(g=!0,l(a,b))},d,function(b){p(a,b)})):(a.$$state.value=b,a.$$state.status=1,h(a.$$state))}catch(k){d(k)}}function m(a,b){a.$$state.status||n(a,b)}function n(a,b){a.$$state.value=b,a.$$state.status=2,h(a.$$state)}function p(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0],a=e[f][3];try{p(c,D(a)?a(d):d)}catch(h){b(h)}}})}function r(a){var b=new f;return m(b,a),b}function J(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return r(e)}return d&&D(d.then)?d.then(function(){return b(a)},r):b(a)}function v(a,b,c,d){var e=new f;return k(e,a),e.then(b,c,d)}function t(a){if(!D(a))throw M("norslvr",a);var b=new f;return a(function(a){k(b,a)},function(a){m(b,a)}),b}var M=L("$q",TypeError),s=0,A=[];S(f.prototype,{then:function(a,b,c){if(w(a)&&w(b)&&w(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&h(this.$$state),d},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return J(b,u,a)},function(b){return J(b,r,a)},b)}});var u=v;return t.prototype=f.prototype,t.defer=c,t.reject=r,t.when=v,t.resolve=u,t.all=function(a){var b=new f,c=0,d=H(a)?[]:{};return q(a,function(a,e){c++,v(a).then(function(a){d[e]=a,--c||k(b,d)},function(a){m(b,a)})}),0===c&&k(b,d),b},t.race=function(a){var b=c();return q(a,function(a){v(a).then(b.resolve,b.reject)}),b.promise},t}function Xf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Mf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++qb,this.$$ChildScope=null}return b.prototype=a,b}var b=10,d=L("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===za&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++qb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function n(a){if(M.$$phase)throw d("inprog",M.$$phase);M.$$phase=a}function p(a,b){do{a.$$watchersCount+=b}while(a=a.$parent)}function r(a,b,c){do{a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c]}while(a=a.$parent)}function J(){}function v(){for(;u.length;)try{u.shift()()}catch(a){f(a)}e=null}function t(){null===e&&(e=h.defer(function(){M.$apply(v)}))}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",k),d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:J,get:f,exp:e||a,eq:!!d};return c=null,D(b)||(l.fn=z),k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1),k.unshift(l),k.$$digestWatchIndex++,p(this,1),function(){var a=$a(k,l);0<=a&&(p(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--),c=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()})},$watchCollection:function(a,b){function c(a){var b,g,h;if(!w(e=a)){if(C(e))if(qa(e))for(f!==n&&(f=n,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],h!==h&&g!==g||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},t=0,l++),a=0;for(b in e)ua.call(e,b)&&(a++,g=e[b],h=f[b],b in f?h!==h&&g!==g||h===g||(l++,f[b]=g):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)ua.call(e,b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},r=!0,t=0;return this.$watch(m,function(){if(r?(r=!1,b(e,e,d)):b(e,h,d),k)if(C(e))if(qa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ua.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,m,p,r,q,w,x,t=b,u=[];n("$digest"),h.$$checkUrlChange(),this===M&&null!==e&&(h.defer.cancel(e),v()),c=null;do{for(r=!1,q=this,p=0;p<s.length;p++){try{(0,(x=s[p]).fn)(x.scope,x.locals)}catch(z){f(z)}c=null}s.length=0;a:do{if(p=q.$$watchers)for(p.$$digestWatchIndex=p.length;p.$$digestWatchIndex--;)try{if(a=p[p.$$digestWatchIndex])if(m=a.get,(g=m(q))===(k=a.last)||(a.eq?sa(g,k):da(g)&&da(k))){if(a===c){r=!1;break a}}else r=!0,c=a,a.last=a.eq?ra(g,null):g,(0,a.fn)(g,k===J?g:k,q),5>t&&(w=4-t,u[w]||(u[w]=[]),u[w].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}))}catch(B){f(B)}if(!(p=q.$$watchersCount&&q.$$childHead||q!==this&&q.$$nextSibling))for(;q!==this&&!(p=q.$$nextSibling);)q=q.$parent}while(q=p);if((r||s.length)&&!t--)throw M.$$phase=null,d("infdig",b,u)}while(r||s.length);for(M.$$phase=null;I<A.length;)try{A[I++]()}catch(F){f(F)}A.length=I=0,h.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===M&&h.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)r(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=z,this.$on=this.$watch=this.$watchGroup=function(){return z},this.$$listeners={},this.$$nextSibling=null,l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){M.$$phase||s.length||h.defer(function(){s.length&&M.$digest()}),s.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{M.$$phase=null}}catch(b){f(b)}finally{try{M.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){var c=this;a&&u.push(function(){c.$eval(a)}),a=g(a),t()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do{d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++}while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,r(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=ab([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=ab([e],arguments,1);c=d;){for(e.currentScope=c,h=0,k=(d=c.$$listeners[a]||[]).length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var M=new m,s=M.$$asyncQueue=[],A=M.$$postDigestQueue=[],u=M.$$applyAsyncQueue=[],I=0;return M}]}function Ee(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(d,c){var f,e=c?b:a;return""===(f=Ca(d).href)||f.match(e)?d:"unsafe:"+f}}}function Cg(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw ta("iwcard",a);return a=Kd(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+a+"$")}if(Xa(a))return new RegExp("^"+a.source+"$");throw ta("imatcher")}function Ld(a){var b=[];return u(a)&&q(a,function(a){b.push(Cg(a))}),b}function Qf(){this.SCE_CONTEXTS=oa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Ld(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Ld(a)),b},this.$get=["$injector",function(d){function c(a,b){return"self"===a?yd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw ta("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[oa.HTML]=e(g),h[oa.CSS]=e(g),h[oa.URL]=e(g),h[oa.JS]=e(g),h[oa.RESOURCE_URL]=e(h[oa.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ta("icontext",a,b);if(null===b||w(b)||""===b)return b;if("string"!=typeof b)throw ta("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||w(e)||""===e)return e;if((g=h.hasOwnProperty(d)?h[d]:null)&&e instanceof g)return e.$$unwrapTrustedValue();if(d===oa.RESOURCE_URL){var n,p,g=Ca(e.toString()),r=!1;for(n=0,p=a.length;n<p;n++)if(c(a[n],g)){r=!0;break}if(r)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){r=!1;break}if(r)return e;throw ta("insecurl",e.toString())}if(d===oa.HTML)return f(e);throw ta("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Pf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>za)throw ta("iequirks");var c=pa(oa);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ya),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return q(oa,function(a,b){var d=Q(b);c[("parse_as_"+d).replace(xc,gb)]=function(b){return e(a,b)},c[("get_trusted_"+d).replace(xc,gb)]=function(b){return f(a,b)},c[("trust_as_"+d).replace(xc,gb)]=function(b){return g(a,b)}}),c}]}function Rf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(Q((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=g.body&&g.body.style,k=!1,l=!1;return h&&(k=!!("transition"in h||"webkitTransition"in h),l=!!("animation"in h||"webkitAnimation"in h)),{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&za)return!1;if(w(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ga(),transitions:k,animations:l,android:e}}]}function Tf(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(h,k){g.totalPendingRequests++,F(h)&&!w(d.get(h))||(h=f.getTrustedResourceUrl(h));var l=c.defaults&&c.defaults.transformResponse;return H(l)?l=l.filter(function(a){return a!==nc}):l===nc&&(l=null),c.get(h,S({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return d.put(h,a.data),a.data},function(a){return k||(a=Dg("tpload",h,a.status,a.statusText),b(a)),e.reject(a)})}return g.totalPendingRequests=0,g}]}function Uf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){var g=[];return q(a=a.getElementsByClassName("ng-binding"),function(a){var c=ea.element(a).data("$binding");c&&q(c,function(c){d?new RegExp("(^|\\s)"+Kd(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Vf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=z);var q,m=va.call(arguments,3),n=u(l)&&!l,p=(n?c:d).defer(),r=p.promise;return q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[r.$$timeoutId]}n||a.$apply()},k),r.$$timeoutId=q,g[q]=p,r}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].promise.catch(z),g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Ca(a){return za&&(aa.setAttribute("href",a),a=aa.href),aa.setAttribute("href",a),{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function yd(a){return(a=F(a)?Ca(a):a).protocol===Md.protocol&&a.host===Md.host}function Wf(){this.$get=la(x)}function Nd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],0<(k=g.indexOf("="))&&(l=b(g.substring(0,k)),w(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function $f(){this.$get=Nd}function cd(a){function b(d,c){if(C(d)){var e={};return q(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Od),b("date",Pd),b("filter",Eg),b("json",Fg),b("limitTo",Gg),b("lowercase",Hg),b("number",Qd),b("orderBy",Rd),b("uppercase",Ig)}function Eg(){return function(a,b,d,c){if(!qa(a)){if(null==a)return a;throw L("filter")("notarray",a)}c=c||"$";var e;switch(yc(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=Jg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Jg(a,b,d,c){var e=C(a)&&d in a;return!0===b?b=sa:D(b)||(b=function(a,b){return!w(a)&&(null===a||null===b?a===b:!(C(b)||C(a)&&!Wb(a))&&(a=Q(""+a),b=Q(""+b),-1!==a.indexOf(b)))}),function(f){return e&&!C(f)?Ea(f,a[d],b,d,!1):Ea(f,a,b,d,c)}}function Ea(a,b,d,c,e,f){var g=yc(a),h=yc(b);if("string"===h&&"!"===b.charAt(0))return!Ea(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Ea(a,b,d,c,e)});switch(g){case"object":var k;if(e){for(k in a)if(k.charAt&&"$"!==k.charAt(0)&&Ea(a[k],b,d,c,!0))return!0;return!f&&Ea(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!D(f)&&!w(f)&&(g=k===c,!Ea(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case"function":return!1;default:return d(a,b)}}function yc(a){return null===a?"null":typeof a}function Od(a){var b=a.NUMBER_FORMATS;return function(a,c,e){return w(c)&&(c=b.CURRENCY_SYM),w(e)&&(e=b.PATTERNS[1].maxFrac),null==a?a:Sd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Qd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Sd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Kg(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Td))&&(a=a.replace(Td,"")),0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length),e=0;a.charAt(e)===zc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===zc;)g--;for(c-=e,d=[],f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}return c>Ud&&(d=d.splice(0,Ud-1),b=c-1,c=1),{d:d,e:b,i:c}}function Lg(a,b,d,c){var e=a.d,f=e.length-a.i;if(b=w(b)?Math.min(Math.max(d,f),c):+b,d=b+a.i,c=e[d],0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}function Sd(a,b,d,c,e){if(!F(a)&&!ba(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="";else{for(Lg(g=Kg(h),e,b.minFrac,b.maxFrac),k=g.d,h=g.i,e=g.e,f=[],g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;for(0<h?f=k.splice(h,k.length):(f=k,k=[0]),h=[],k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join("")),k=h.join(d),f.length&&(k+=c+f.join("")),e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";for((0>a||c&&0>=a)&&(c?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=zc+a;return d&&(a=a.substr(a.length-b)),e+a}function Y(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0<d||f>-d)&&(f+=d),0===f&&-12===d&&(f=12),Kb(f,b,c,e)}}function mb(a,b,d){return function(c,e){var f=c["get"+a]();return e[ub((d?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Vd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Wd(a){return function(b){var d=Vd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,b=1+Math.round(b/6048e5),Kb(b,a)}}function Ac(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Pd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11])),h.call(a,Z(b[1]),Z(b[2])-1,Z(b[3])),f=Z(b[4]||0)-f,g=Z(b[5]||0)-g,h=Z(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var k,l,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,F(c)&&(c=Mg.test(c)?Z(c):b(c)),ba(c)&&(c=new Date(c)),!ga(c)||!isFinite(c.getTime()))return c;for(;d;)(l=Ng.exec(d))?(h=ab(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();return f&&(m=Pc(f,m),c=Yb(c,f,!0)),q(h,function(b){k=Og[b],g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Fg(){return function(a,b){return w(b)&&(b=2),cb(a,b)}}function Gg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):Z(b),da(b)?a:(ba(a)&&(a=a.toString()),qa(a)?(d=!d||isNaN(d)?0:Z(d),d=0>d?Math.max(0,a.length+d):d,0<=b?Bc(a,d,d+b):0===d?Bc(a,b,a.length):Bc(a,Math.max(0,d+b),d)):a)}}function Bc(a,b,d){return F(a)?a.slice(b,d):va.call(a,b,d)}function Rd(a){function b(b){return b.map(function(b){var c=1,d=Ya;if(D(b))d=b;else if(F(b)&&("+"!==b.charAt(0)&&"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b)).constant))var e=d(),d=function(a){return a[e]};return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type;if(d===(k=b.type)){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(C(k)&&(k=a.index),C(l)&&(l=b.index)),k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!qa(a))throw L("orderBy")("notarray",a);H(f)||(f=[f]),0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=D(h)?h:c;return(a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=c.get(a);return c=typeof e,null===e?(c="string",e="null"):"object"===c&&(D(e.valueOf)&&(e=e.valueOf(),d(e))||Wb(e)&&(e=e.toString(),d(e))),{value:e,type:c,index:b}})}})).sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l}),a=a.map(function(a){return a.value})}}function Qa(a){return D(a)&&(a={link:a}),a.restrict=a.restrict||"AC",la(a)}function Lb(a,b,d,c,e){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(b.name||b.ngForm||"")(d),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=Mb,this.$$element=a,this.$$animate=c,Xd(this)}function Xd(a){a.$$classCache={},a.$$classCache[Yd]=!(a.$$classCache[nb]=a.$$element.hasClass(nb))}function Zd(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Tc(c,"-"):"",b(a,nb+c,!0===d),b(a,Yd+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,h){w(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,h)):(this.$pending&&e(this.$pending,a,h),$d(this.$pending)&&(this.$pending=void 0)),Ha(g)?g?(e(this.$error,a,h),c(this.$$success,a,h)):(c(this.$error,a,h),e(this.$$success,a,h)):(e(this.$error,a,h),e(this.$$success,a,h)),this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=$d(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid)),d(this,a,g=this.$pending&&this.$pending[a]?void 0:!this.$error[a]&&(!!this.$$success[a]||null)),this.$$parentForm.$setValidity(a,g,this)}}function $d(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Cc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Ra(a,b,d,c,e,f){var g=Q(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,l()})}var k,l=function(a){if(k&&(f.defer.cancel(k),k=null),!h){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=T(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),ae[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(ga(d))return d;if(F(d)){if('"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),Pg.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function ob(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function p(a){return u(a)&&!ga(a)?d(a)||void 0:a}Dc(e,f,g,h),Ra(e,f,g,h,k,l);var q,r=h&&h.$options.getOption("timezone");if(h.$$parserName=a,h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,q),r&&(a=Yb(a,r)),a):void 0}),h.$formatters.push(function(a){if(a&&!ga(a))throw pb("datefmt",a);return n(a)?((q=a)&&r&&(q=Yb(q,r,!0)),m("date")(a,c,r)):(q=null,"")}),u(g.min)||g.ngMin){var v;h.$validators.min=function(a){return!n(a)||w(v)||d(a)>=v},g.$observe("min",function(a){v=p(a),h.$validate()})}if(u(g.max)||g.ngMax){var t;h.$validators.max=function(a){return!n(a)||w(t)||d(a)<=t},g.$observe("max",function(a){t=p(a),h.$validate()})}}}function Dc(a,b,d,c){(c.$$hasNativeValidators=C(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function be(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:Qg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!ba(b))throw pb("numfmt",b);b=b.toString()}return b})}function Sa(a){return u(a)&&!ba(a)&&(a=parseFloat(a)),da(a)?void 0:a}function Ec(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ce(a,b,d){var c=(0|(a=Number(a)))!==a,e=(0|b)!==b,f=(0|d)!==d;if(c||e||f){var g=c?Ec(a):0,h=e?Ec(b):0,k=f?Ec(d):0,g=Math.max(g,h,k);a*=g=Math.pow(10,g),b*=g,d*=g,c&&(a=Math.round(a)),e&&(b=Math.round(b)),f&&(d=Math.round(d))}return 0==(a-b)%d}function de(a,b,d,c,e){if(u(c)){if(!(a=a(c)).constant)throw pb("constexpr",d,c);return a(b)}return e}function Fc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){var b=a;return H(a)?b=a.map(c).join(" "):C(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" ")),b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,h,k){function l(a,b){var c=[];return q(a,function(a){(0<b||n[a])&&(n[a]=(n[a]||0)+b,n[a]===+(0<b)&&c.push(a))}),c.join(" ")}var r,n=h.data("$classCounts"),p=!0;n||(n=V(),h.data("$classCounts",n)),"ngClass"!==a&&(e||(e=f("$index",function(a){return 1&a})),g.$watch(e,function(a){if(a===b){var c=l((c=r)&&c.split(" "),1);k.$addClass(c)}else c=r,c=l(c&&c.split(" "),-1),k.$removeClass(c);p=a})),g.$watch(f(k[a],c),function(a){if(F(a)||(a=c(a)),p===b){var e=a,f=r&&r.split(" "),g=e&&e.split(" "),e=d(f,g),f=d(g,f),e=l(e,-1),f=l(f,1);k.$addClass(f),k.$removeClass(e)}r=a})}}}]}function Ob(a,b,d,c,e,f,g,h,k){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(d.name||"",!1)(a),this.$$parentForm=Mb,this.$options=Pb,this.$$parsedNgModel=e(d.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:a}),this.$$attr=d,this.$$element=c,this.$$animate=f,this.$$timeout=g,this.$$parse=e,this.$$q=h,this.$$exceptionHandler=b,Xd(this),Rg(this)}function Rg(a){a.$$scope.$watch(function(b){if((b=a.$$ngModelGet(b))!==a.$modelValue&&(a.$modelValue===a.$modelValue||b===b)){a.$modelValue=a.$$rawModelValue=b,a.$$parserValid=void 0;for(var d=a.$formatters,c=d.length,e=b;c--;)e=d[c](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,z))}return b})}function Gc(a){this.$$options=a}function ee(a,b){q(b,function(b,c){u(a[c])||(a[c]=b)})}function Ta(a,b){a.prop("selected",b),a.attr("selected",b)}var za,B,na,ac,Sg=/^\/(.+)\/([a-z]*)$/,ua=Object.prototype.hasOwnProperty,Ic={objectMaxDepth:5},Q=function(a){return F(a)?a.toLowerCase():a},ub=function(a){return F(a)?a.toUpperCase():a},va=[].slice,sg=[].splice,Tg=[].push,ma=Object.prototype.toString,Mc=Object.getPrototypeOf,Fa=L("ng"),ea=x.angular||(x.angular={}),qb=0;za=x.document.documentMode;var da=Number.isNaN||function(a){return a!==a};z.$inject=[],Ya.$inject=[];var H=Array.isArray,qe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,T=function(a){return F(a)?a.trim():a},Kd=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ga=function(){if(!u(Ga.rules)){var a=x.document.querySelector("[ng-csp]")||x.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ga.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ga;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ga.rules},rb=function(){if(u(rb.name_))return rb.name_;var a,b,c,e,d=Ja.length;for(b=0;b<d;++b)if(c=Ja[b],a=x.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},se=/:/g,Ja=["ng-","data-ng-","ng:","x-ng-"],ve=function(a){var b=a.currentScript;return!b||(b instanceof x.HTMLScriptElement||b instanceof x.SVGScriptElement)&&(b=b.attributes,[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");if(c.href=b.value,a.location.origin===c.origin)return!0;switch(c.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(x.document),ye=/[A-Z]/g,Uc=!1,Ia=3,De={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};W.expando="ng339";var hb=W.cache={},eg=1;W._data=function(a){return this.cache[a[this.expando]]||{}};var ag=/-([a-z])/g,Ug=/^-ms-/,zb={mouseleave:"mouseout",mouseenter:"mouseover"},dc=L("jqLite"),dg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,cc=/<|&#?\w+;/,bg=/<([\w:-]+)/,cg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ha={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option,ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead,ha.th=ha.td;var jg=x.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Na=W.prototype={ready:ed,toString:function(){var a=[];return q(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return B(0<=a?this[a]:this[this.length+a])},length:0,push:Tg,sort:[].sort,splice:[].splice},Fb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Fb[Q(a)]=a});var jd={};q("input select option textarea button form details".split(" "),function(a){jd[a]=!0});var rd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};q({data:hc,removeData:gc,hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gc(a[b])}},function(a,b){W[b]=a}),q({data:hc,inheritedData:Db,scope:function(a){return B.data(a,"$scope")||Db(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:gd,injector:function(a){return Db(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ab,css:function(a,b,d){if(b=wb(b.replace(Ug,"ms-")),!u(d))return a.style[b];a.style[b]=d},attr:function(a,b,d){if((c=a.nodeType)!==Ia&&2!==c&&8!==c&&a.getAttribute){var c=Q(b),e=Fb[c];if(!u(d))return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a;null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d)}},prop:function(a,b,d){if(!u(d))return a[b];a[b]=d},text:function(){function a(a,d){if(w(d)){var c=a.nodeType;return 1===c||c===Ia?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(w(b)){if(a.multiple&&"select"===wa(a)){var d=[];return q(a.options,function(a){a.selected&&d.push(a.value||a.text)}),d}return a.value}a.value=b},html:function(a,b){if(w(b))return a.innerHTML;xb(a,!0),a.innerHTML=b},empty:hd},function(a,b){W.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==hd&&w(2===a.length&&a!==Ab&&a!==gd?b:c)){if(C(b)){for(e=0;e<g;e++)if(a===hc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(g=w(e=a.$dv)?Math.min(g,1):g,f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}}),q({removeData:gc,on:function(a,b,d,c){if(u(c))throw dc("onargs");if(bc(a)){var e=(c=yb(a,!0)).events,f=c.handle;f||(f=c.handle=gg(a,e));for(var g=(c=0<=b.indexOf(" ")?b.split(" "):[b]).length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f)),h.push(d)};g--;)b=c[g],zb[b]?(h(zb[b],ig),h(b,void 0,!0)):h(b)}},off:fd,one:function(a,b,d){(a=B(a)).on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;xb(a),q(new W(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return q(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){if(1===(d=a.nodeType)||11===d)for(var d=0,c=(b=new W(b)).length;d<c;d++)a.appendChild(b[d])},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new W(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=B(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a),d.appendChild(a)},remove:Eb,detach:function(a){Eb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c)for(var e=0,f=(b=new W(b)).length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Cb,removeClass:Bb,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;w(e)&&(e=!Ab(a,b)),(e?Cb:Bb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:fc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=yb(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:z,type:f,target:a},b.type&&(c=S(c,b)),b=pa(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){W.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)w(f)?(f=a(this[g],b,c,e),u(f)&&(f=B(f))):ec(f,a(this[g],b,c,e));return u(f)?f:this}}),W.prototype.bind=W.prototype.on,W.prototype.unbind=W.prototype.off;var Vg=Object.create(null);kd.prototype={_idx:function(a){return a===this._lastKey?this._lastIndex:(this._lastKey=a,this._lastIndex=this._keys.indexOf(a))},_transformKey:function(a){return da(a)?Vg:a},get:function(a){if(a=this._transformKey(a),-1!==(a=this._idx(a)))return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length),this._keys[d]=a,this._values[d]=b},delete:function(a){return a=this._transformKey(a),-1!==(a=this._idx(a))&&(this._keys.splice(a,1),this._values.splice(a,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Gb=kd,Zf=[function(){this.$get=[function(){return Gb}]}],lg=/^([^(]+?)=>/,mg=/^[^(]*\(\s*([^)]*)\)/m,Wg=/,/,Xg=/^\s*(_?)(\S+?)\1\s*$/,kg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ya=L("$injector");eb.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw F(d)&&d||(d=a.name||ng(a)),ya("strictdi",d);q((b=ld(a))[1].split(Wg),function(a){a.replace(Xg,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(b=a.length-1,sb(a[b],"fn"),c=a.slice(0,b)):sb(a,"fn",!0);return c};var fe=L("$animate"),qf=function(){this.$get=z},rf=function(){var a=new Gb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&(b=F(b)?b.split(" "):H(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)})),d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=og(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),q(b,function(a){e&&Cb(a,e),f&&Bb(a,f)}),a.delete(b)}}),b.length=0}return{enabled:z,on:z,off:z,pin:z,push:function(g,h,k,l){return l&&l(),(k=k||{}).from&&g.css(k.from),k.to&&g.css(k.to),(k.addClass||k.removeClass)&&(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),(h||l)&&(a.set(g,k),b.push(g),1===b.length&&c.$$postDigest(f))),(g=new d).complete(),g}}}]},of=["$provide",function(a){var b=this,d=null;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw fe("notcsel",c);var f=c+"-animation";b.$$registeredAnimations[c.substr(1)]=f,a.factory(f,d)},this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,fe("nongcls","ng-animate");return d},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var l=d[e];if(1===l.nodeType){e=l;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(d,g,h,k){return g=g&&B(g),h=h&&B(h),g=g||h.parent(),b(d,g,h),a.push(d,"enter",ia(k))},move:function(d,g,h,k){return g=g&&B(g),h=h&&B(h),g=g||h.parent(),b(d,g,h),a.push(d,"move",ia(k))},leave:function(b,d){return a.push(b,"leave",ia(d),function(){b.remove()})},addClass:function(b,d,e){return e=ia(e),e.addClass=ib(e.addclass,d),a.push(b,"addClass",e)},removeClass:function(b,d,e){return e=ia(e),e.removeClass=ib(e.removeClass,d),a.push(b,"removeClass",e)},setClass:function(b,d,e,k){return k=ia(k),k.addClass=ib(k.addClass,d),k.removeClass=ib(k.removeClass,e),a.push(b,"setClass",k)},animate:function(b,d,e,k,l){return l=ia(l),l.from=l.from?S(l.from,d):d,l.to=l.to?S(l.to,e):e,l.tempClasses=ib(l.tempClasses,k||"ng-inline-animate"),a.push(b,"animate",l)}}}]}],tf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},sf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){c()?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:z,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},pf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),h||k.complete(),h=!0}),k}var g=e||{};g.$$prepared||(g=ra(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},fa=L("$compile"),lc=new function(){};Wc.$inject=["$provide","$$sanitizeUriProvider"],Ib.prototype.isFirstChange=function(){return this.previousValue===lc};var md=/^((?:x|data)[:\-_])/i,rg=/[:\-_]+(.)/g,td=L("$controller"),sd=/^(\S+)(\s+as\s+([\w$]+))?$/,Af=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},ud="application/json",pc={"Content-Type":ud+";charset=utf-8"},ug=/^\[|^\{(?!\{)/,vg={"[":/]$/,"{":/}$/},tg=/^\)]\}',?\n/,oc=L("$http"),Da=ea.$interpolateMinErr=L("$interpolate");Da.throwNoconcat=function(a){throw Da("noconcat",a)},Da.interr=function(a,b){return Da("interr",a,b.toString())};var If=function(){this.$get=function(){function a(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}var b=ea.callbacks,d={};return{createCallback:function(c){var e="angular.callbacks."+(c="_"+(b.$$counter++).toString(36)),f=a(c);return d[e]=b[c]=f,e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id],delete d[a]}}}},Yg=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,xg={http:80,https:443,ftp:21},kb=L("$location"),yg=/^\s*[\\/]{2,}/,Zg={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jb("$$absUrl"),url:function(a){if(w(a))return this.$$url;var b=Yg.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Jb("$$protocol"),host:Jb("$$host"),port:Jb("$$port"),path:Cd("$$path",function(a){return"/"===(a=null!==a?a.toString():"").charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||ba(a))a=a.toString(),this.$$search=Rc(a);else{if(!C(a))throw kb("isrcharg");q(a=ra(a,{}),function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:w(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Cd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};q([Bd,tc,sc],function(a){a.prototype=Object.create(Zg),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==sc||!this.$$html5)throw kb("nostate");return this.$$state=w(b)?null:b,this.$$urlUpdatedByLocation=!0,this}});var Ua=L("$parse"),Bg={}.constructor.prototype.valueOf,Qb=V();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Qb[a]=!0});var $g={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wc=function(a){this.options=a};wc.prototype={constructor:wc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(a=this.text.charAt(this.index))||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Qb[b],e=Qb[d];Qb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||""===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,Ua("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=Q(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?((e=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=$g[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a,this.options=b};s.Program="Program",s.ExpressionStatement="ExpressionStatement",s.AssignmentExpression="AssignmentExpression",s.ConditionalExpression="ConditionalExpression",s.LogicalExpression="LogicalExpression",s.BinaryExpression="BinaryExpression",s.UnaryExpression="UnaryExpression",s.CallExpression="CallExpression",s.MemberExpression="MemberExpression",s.Identifier="Identifier",s.Literal="Literal",s.ArrayExpression="ArrayExpression",s.Property="Property",s.ObjectExpression="ObjectExpression",s.ThisExpression="ThisExpression",s.LocalsExpression="LocalsExpression",s.NGValueParameter="NGValueParameter",s.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Fd(a))throw Ua("lval");a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=ra(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do{a.push(this.filterChain())}while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:s.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:s.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw Ua("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw Ua("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw Ua("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){var f=(a=this.tokens[a]).text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&&(this.tokens.shift(),a)},selfReferential:{this:{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}},Hd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},U(a,b.$filter);var c,d="";return this.stage="assign",(c=Gd(a))&&(this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l")),c=Ed(a.body),b.stage="inputs",q(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}},b.state.computing=d;var h=b.nextId();b.recurse(a,h),b.return_(h),b.state.inputs.push(d),a.watchId=c}),this.state.computing="fn",this.stage="main",this.recurse(a),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;",a=new Function("$filter","getStringValue","ifDefined","plus",a)(this.$filter,zg,Ag,Dd),this.state=this.stage=void 0,a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,l,m,n,k=this;if(c=c||z,!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a}),c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value),this.assign(b,m),c(b||m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a}),m=a.operator+"("+this.ifDefined(h,0)+")",this.assign(b,m),c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){h=a}),m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")",this.assign(b,m),c(m);break;case s.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),c(b);break;case s.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),c(b);break;case s.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.isNull(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.computedMember(g,h),k.assign(b,m),d&&(d.computed=!0,d.name=h)):(e&&1!==e&&k.if_(k.isNull(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),c(b)},!!e);break;case s.CallExpression:b=b||this.nextId(),a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){q(a.arguments,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})}),m=g.name?k.member(g.context,g.name,g.computed)+"("+l.join(",")+")":h+"("+l.join(",")+")",k.assign(b,m)},function(){k.assign(b,"undefined")}),c(b)}));break;case s.AssignmentExpression:h=this.nextId(),g={},this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h),m=k.member(g.context,g.name,g.computed)+a.operator+h,k.assign(b,m),c(b||m)})},1);break;case s.ArrayExpression:l=[],q(a.elements,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(b||m);break;case s.ObjectExpression:l=[],n=!1,q(a.properties,function(a){a.computed&&(n=!0)}),n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value,h=k.nextId(),k.recurse(a.value,h),k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case s.ThisExpression:this.assign(b,"s"),c(b||"s");break;case s.LocalsExpression:this.assign(b,"l"),c(b||"l");break;case s.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(ba(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw Ua("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},Id.prototype={compile:function(a){var b=this;U(a,b.$filter);var d,c;(d=Gd(a))&&(c=this.recurse(d));var e;(d=Ed(a.body))&&(e=[],q(d,function(a,c){var d=b.recurse(a);a.input=d,e.push(d),a.watchId=c}));var f=[];return q(a.body,function(a){f.push(b.recurse(a.expression))}),a=0===a.body.length?z:1===a.body.length?f[0]:function(a,b){var c;return q(f,function(d){c=d(a,b)}),c},c&&(a.assign=function(a,b,d){return c(a,d,b)}),e&&(a.inputs=e),a},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return f.identifier(a.name,b,d);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,e,b,d);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));return a=e.apply(void 0,n,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var p,n=e(a,c,d,f);if(null!=n.value){p=[];for(var r=0;r<g.length;++r)p.push(g[r](a,c,d,f));p=n.value.apply(n.context,p)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var n=c(a,d,f,g);return a=e(a,d,f,g),n.context[n.name]=a,b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=u(d)?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=a(d,c,e,f),d=u(d)?-d:-0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=Dd(h,c),d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=(u(h)?h:0)-(u(c)?c:0),d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){return c=e&&a in e?e:c,d&&1!==d&&c&&null==c[a]&&(c[a]={}),e=c?c[a]:void 0,b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,h){var l,m,k=a(e,f,g,h);return null!=k&&(l=b(e,f,g,h),l+="",c&&1!==c&&k&&!k[l]&&(k[l]={}),m=k[l]),d?{context:k,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h),c&&1!==c&&e&&null==e[b]&&(e[b]={}),f=null!=e?e[b]:void 0,d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}},uc.prototype={constructor:uc,parse:function(a){a=this.ast.ast(a);var b=this.astCompiler.compile(a);return b.literal=0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression),b.constant=a.constant,b}};var ta=L("$sce"),oa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xc=/_([a-z])/g,Dg=L("$compile"),aa=x.document.createElement("a"),Md=Ca(x.location.href);Nd.$inject=["$document"],cd.$inject=["$provide"];var Ud=22,Td=".",zc="0";Od.$inject=["$locale"],Qd.$inject=["$locale"];var Og={yyyy:Y("FullYear",4,0,!1,!0),yy:Y("FullYear",2,0,!0,!0),y:Y("FullYear",1,0,!1,!0),MMMM:mb("Month"),MMM:mb("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),LLLL:mb("Month",!1,!0),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:mb("Day"),EEE:mb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return a=-1*d,a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Wd(2),w:Wd(1),G:Ac,GG:Ac,GGG:Ac,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Ng=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Mg=/^-?\d+$/;Pd.$inject=["$locale"];var Hg=la(Q),Ig=la(ub);Rd.$inject=["$parse"];var Fe=la({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Fb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Ba("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,0,e)}),vb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),q(rd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){"ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Sg))?e.$set("ngPattern",new RegExp(c[1],c[2])):a.$watch(e[b],function(a){e.$set(b,a)})}}}}),q(["src","srcset","href"],function(a){var b=Ba("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),za&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:z,$$renameControl:function(a,b){a.$name=b},$removeControl:z,$setValidity:z,$setDirty:z,$setPristine:z,$setSubmitted:z};Lb.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Lb.prototype={$rollbackViewValue:function(){q(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){q(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ka(a.$name,"input"),this.$$controls.push(a),a.$name&&(this[a.$name]=a),a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d],this[b]=a,a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name],q(this.$pending,function(b,d){this.$setValidity(d,null,a)},this),q(this.$error,function(b,d){this.$setValidity(d,null,a)},this),q(this.$$success,function(b,d){this.$setValidity(d,null,a)},this),$a(this.$$controls,a),a.$$parentForm=Mb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Va),this.$$animate.addClass(this.$$element,Rb),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Va,Rb+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,q(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){q(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Zd({clazz:Lb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&($a(c,d),0===c.length&&delete a[b])}});var ge=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||z}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Lb,compile:function(d,f){d.addClass(Va).addClass(nb);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue(),n.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",p),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var r=g?c(n.$name):z;g&&(r(a,n),e.$observe(g,function(b){n.$name!==b&&(r(a,void 0),n.$$parentForm.$$renameControl(n,b),(r=c(n.$name))(a,n))})),d.on("$destroy",function(){n.$$parentForm.$removeControl(n),r(a,void 0),S(n,Mb)})}}}}}]},Ge=ge(),Se=ge(!0),Pg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ah=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,bh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,he=/^(\d{4,})-(\d{2})-(\d{2})$/,ie=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hc=/^(\d{4,})-W(\d\d)$/,je=/^(\d{4,})-(\d\d)$/,ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ae=V();q(["date","datetime-local","month","time","week"],function(a){ae[a]=!0});var le={text:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f),Cc(c)},date:ob("date",he,Nb(he,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",ie,Nb(ie,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",ke,Nb(ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",Hc,function(a,b){if(ga(a))return a;if(F(a)){Hc.lastIndex=0;var d=Hc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Vd(c),e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:ob("month",je,Nb(je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Dc(0,b,0,c),be(c),Ra(a,b,d,c,e,f);var g,h;if((u(d.min)||d.ngMin)&&(c.$validators.min=function(a){return c.$isEmpty(a)||w(g)||a>=g},d.$observe("min",function(a){g=Sa(a),c.$validate()})),(u(d.max)||d.ngMax)&&(c.$validators.max=function(a){return c.$isEmpty(a)||w(h)||a<=h},d.$observe("max",function(a){h=Sa(a),c.$validate()})),u(d.step)||d.ngStep){var k;c.$validators.step=function(a,b){return c.$isEmpty(b)||w(k)||ce(b,g||0,k)},d.$observe("step",function(a){k=Sa(a),c.$validate()})}},url:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f),Cc(c),c.$$parserName="url",c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||ah.test(d)}},email:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f),Cc(c),c.$$parserName="email",c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||bh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==T(d.ngTrim);w(d.name)&&b.attr("name",++qb),b.on("click",function(a){var g;b[0].checked&&(g=d.value,e&&(g=T(g)),c.$setViewValue(g,a&&a.type))}),c.$render=function(){var a=d.value;e&&(a=T(a)),b[0].checked=a===c.$viewValue},d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]),d.$observe(a,c)}Dc(0,b,0,c),be(c),Ra(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,n=m?0:void 0,p=m?100:void 0,r=m?1:void 0,q=b[0].validity;a=u(d.min),e=u(d.max),f=u(d.step);var s=c.$render;c.$render=m&&u(q.rangeUnderflow)&&u(q.rangeOverflow)?function(){s(),c.$setViewValue(b.val())}:s,a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(n)||b>=n},g("min",function(a){n=Sa(a),da(c.$modelValue)||(m?(a=b.val(),n>a&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())})),e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(p)||b<=p},g("max",function(a){p=Sa(a),da(c.$modelValue)||(m?(a=b.val(),p<a&&(b.val(p),a=p<n?n:p),c.$setViewValue(a)):c.$validate())})),f&&(c.$validators.step=m?function(){return!q.stepMismatch}:function(a,b){return c.$isEmpty(b)||w(r)||ce(b,n||0,r)},g("step",function(a){r=Sa(a),da(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}))},checkbox:function(a,b,d,c,e,f,g,h){var k=de(h,a,"ngTrueValue",d.ngTrueValue,!0),l=de(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return sa(a,k)}),c.$parsers.push(function(a){return a?k:l})},hidden:z,button:z,submit:z,reset:z,file:z},Xc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(le[Q(g.type)]||le.text)(e,f,g,h[0],b,a,d,c)}}}}],ch=/^(true|false|\d+)$/,kf=function(){function a(a,d,c){var e=u(c)?c:9===za?"":null;a.prop("value",e),d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return ch.test(d.ngValue)?function(b,d,f){a(d,f,b=b.$eval(f.ngValue))}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Ke=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=$b(a)})}}}}],Me=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=w(a)?"":a})}}}}],Le=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],jf=la({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ne=Fc("",!0),Pe=Fc("Odd",0),Oe=Fc("Even",1),Qe=Qa({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Re=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bd={},dh={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ba("ng-"+a);bd[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};dh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ue=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),h=null))})}}}],Ve=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var q,s,t,r=0,w=function(){s&&(s.remove(),s=null),q&&(q.$destroy(),q=null),t&&(d.leave(t).done(function(a){!1!==a&&(s=null)}),s=t,t=null)};c.$watch(f,function(f){var m=function(a){!1===a||!u(h)||h&&!c.$eval(h)||b()},s=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&s===r){var b=c.$new();n.template=a,a=p(b,function(a){w(),d.enter(a,null,e).done(m)}),t=a,(q=b).$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||s!==r||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],mf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(dd(e.template,x.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],We=Qa({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),hf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?T(e):e;c.$parsers.push(function(a){if(!w(a)){var b=[];return a&&q(a.split(g),function(a){a&&b.push(f?T(a):a)}),b}}),c.$formatters.push(function(a){if(H(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}},nb="ng-valid",Yd="ng-invalid",Va="ng-pristine",Rb="ng-dirty",pb=L("ngModel");Ob.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),Ob.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);return D(c)&&(c=a(b)),c},this.$$ngModelSet=function(a,c){D(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw pb("nonassign",this.$$attr.ngModel,xa(this.$$element))},$render:z,$isEmpty:function(a){return w(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Rb),this.$$animate.addClass(this.$$element,Va)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Va),this.$$animate.addClass(this.$$element,Rb),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!da(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function f(a,b){h===k.$$currentValidationRunId&&k.$setValidity(a,b)}function g(a){h===k.$$currentValidationRunId&&d(a)}var h=++this.$$currentValidationRunId,k=this;!function(){var a=k.$$parserName||"parse";return w(k.$$parserValid)?(f(a,null),!0):(k.$$parserValid||(q(k.$validators,function(a,b){f(b,null)}),q(k.$asyncValidators,function(a,b){f(b,null)})),f(a,k.$$parserValid),k.$$parserValid)}()?g(!1):function(){var c=!0;return q(k.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g,f(e,g)}),!!c||(q(k.$asyncValidators,function(a,b){f(b,null)}),!1)}()?function(){var c=[],d=!0;q(k.$asyncValidators,function(e,g){var k=e(a,b);if(!k||!D(k.then))throw pb("nopromise",k);f(g,void 0),c.push(k.then(function(){f(g,!0)},function(){d=!1,f(g,!1)}))}),c.length?k.$$q.all(c).then(function(){g(d)},z):g(!0)}():g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=!w(a)||void 0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),w(a)){this.$$parserValid=!1;break}da(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a,e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope()),this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),q(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=a,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");ba(b[a])?b=b[a]:ba(b.default)&&(b=b.default),this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},$overrideModelOptions:function(a){this.$options=this.$options.createChild(a)}},Zd({clazz:Ob,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var Pb,gf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ob,priority:1,compile:function(b){return b.addClass(Va).addClass("ng-untouched").addClass(nb),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,(f=f[2])&&(g.$options=f.$options),g.$$initGetterSetters(),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){h.$setTouched()}var h=f[0];h.$options.getOption("updateOn")&&c.on(h.$options.getOption("updateOn"),function(a){h.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){h.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],eh=/(\s+|^)default(\s+|$)/;Gc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;return a=S({},a),q(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=T(d.replace(eh,function(){return a.updateOnDefault=!0," "})))},this),b&&(delete a["*"],ee(a,this.$$options)),ee(a,Pb.$$options),new Gc(a)}},Pb=new Gc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var lf=function(){function a(a,d){this.$$attrs=a,this.$$scope=d}return a.$inject=["$attrs","$scope"],a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Pb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Xe=Qa({terminal:!0,priority:1e3}),fh=L("ngOptions"),gh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ef=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!q&&qa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(gh);if(!n)throw fh("iexp",a,xa(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var v=a&&d(a)||b,t=s&&d(s),u=s?function(a,b){return t(c,b)}:function(a){return Pa(a)},w=function(a,b){return u(a,G(a,b))},A=d(n[2]||n[1]),x=d(n[3]||""),I=d(n[4]||""),K=d(n[8]),E={},G=q?function(a,b){return E[q]=b,E[p]=a,E}:function(a){return E[p]=a,E};return{trackBy:s,getTrackByValue:w,getWatchables:d(K,function(a){for(var b=[],d=f(a=a||[]),e=d.length,g=0;g<e;g++){var l=a[h=a===d?g:d[g]],h=G(l,h),l=u(l,h);b.push(l),(n[2]||n[1])&&(l=A(c,h),b.push(l)),n[4]&&(h=I(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=K(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=G(d[p],p),r=v(c,q),r=new e(p=u(r,q),r,A(c,q),x(c,q),q=I(c,q));a.push(r),b[p]=r}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},getViewValueFromOption:function(a){return s?ra(a.viewValue):a.viewValue}}}}}var e=x.document.createElement("option"),f=x.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=z},post:function(d,h,k,l){function m(a){var b=(a=A.getOptionFromViewValue(a))&&a.element;return b&&!b.selected&&(b.selected=!0),a}function n(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),b.value=a.selectValue}function p(){var a=A&&r.readValue();if(A)for(var b=A.items.length-1;0<=b;b--){var c=A.items[b];Eb(u(c.group)?c.element.parentNode:c.element)}A=z.getOptions();var d={};x&&h.prepend(r.emptyOption),A.items.forEach(function(a){var b;if(u(a.group)){(b=d[a.group])||(b=f.cloneNode(!1),I.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=I,c=e.cloneNode(!1);b.appendChild(c),n(a,c)}),h[0].appendChild(I),s.$render(),s.$isEmpty(a)||(b=r.readValue(),(z.trackBy||v?sa(a,b):a===b)||(s.$setViewValue(b),s.$render()))}var r=l[0],s=l[1],v=k.multiple;l=0;for(var t=h.children(),w=t.length;l<w;l++)if(""===t[l].value){r.hasEmptyOption=!0,r.emptyOption=t.eq(l);break}var x=!!r.emptyOption;B(e.cloneNode(!1)).val("?");var A,z=c(k.ngOptions,h,d),I=b[0].createDocumentFragment();r.generateUnknownOptionValue=function(a){return"?"},v?(r.writeValue=function(a){var b=a&&a.map(m)||[];A.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})},r.readValue=function(){var b=[];return q(h.val()||[],function(a){(a=A.selectValueMap[a])&&!a.disabled&&b.push(A.getViewValueFromOption(a))}),b},z.trackBy&&d.$watchCollection(function(){if(H(s.$viewValue))return s.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){s.$render()})):(r.writeValue=function(a){var b=A.selectValueMap[h.val()],c=A.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),c?(h[0].value!==c.selectValue&&(r.removeUnknownOption(),r.unselectEmptyOption(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):x?r.selectEmptyOption():r.unknownOption.parent().length?r.updateUnknownOption(a):r.renderUnknownOption(a)},r.readValue=function(){var a=A.selectValueMap[h.val()];return a&&!a.disabled?(r.unselectEmptyOption(),r.removeUnknownOption(),A.getViewValueFromOption(a)):null},z.trackBy&&d.$watch(function(){return z.getTrackByValue(s.$viewValue)},function(){s.$render()})),x&&(r.emptyOption.remove(),a(r.emptyOption)(d),8===r.emptyOption[0].nodeType?(r.hasEmptyOption=!1,r.registerOption=function(a,b){""===b.val()&&(r.hasEmptyOption=!0,r.emptyOption=b,r.emptyOption.removeClass("ng-scope"),s.$render(),b.on("$destroy",function(){r.hasEmptyOption=!1,r.emptyOption=void 0}))}):r.emptyOption.removeClass("ng-scope")),h.empty(),p(),d.$watchCollection(z.getWatchables,p)}}}}],Ye=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var x,l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},r={},s=b.startSymbol(),v=b.endSymbol(),t=s+l+"-"+n+v,u=ea.noop;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Q(c[2]),p[c]=g.attr(h.$attr[b]))}),q(p,function(a,d){r[d]=b(a.replace(c,t))}),f.$watch(l,function(b){var c=parseFloat(b),e=da(c);e||c in p||(c=a.pluralCat(c-n)),c===x||e&&da(x)||(u(),e=r[c],w(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),u=z,k()):u=f.$watch(e,k),x=c)})}}}],Ze=["$parse","$animate","$compile",function(a,b,d){var c=L("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d,e&&(a[e]=m),a.$index=b,a.$first=0===b,a.$last=b===n-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],r=l[4];if(!(l=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw c("iidexp",m);var s=l[3]||l[1],v=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var t,u,w,x,z={$id:Pa};return r?t=a(r):(w=function(a,b){return Pa(b)},x=function(a){return a}),function(a,d,f,g,l){t&&(u=function(b,c,d){return v&&(z[v]=b),z[s]=c,z.$index=d,t(a,z)});var m=V();a.$watchCollection(n,function(f){var g,n,t,B,D,F,C,G,E,H,r=d[0],z=V();if(p&&(a[p]=f),qa(f))G=f,n=u||w;else for(H in n=u||x,G=[],f)ua.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);for(B=G.length,H=Array(B),g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],C=n(D,F,g),m[C])E=m[C],delete m[C],z[C]=E,H[g]=E;else{if(z[C])throw q(H,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,C,F);H[g]={id:C,scope:void 0,clone:void 0},z[C]=!0}for(t in m){if(E=m[t],C=tb(E.clone),b.leave(C),C[0].parentNode)for(g=0,n=C.length;g<n;g++)C[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],(E=H[g]).scope){t=r;do{t=t.nextSibling}while(t&&t.$$NG_REMOVED);E.clone[0]!==t&&b.move(tb(E.clone),null,r),r=E.clone[E.clone.length-1],e(E.scope,g,s,F,v,D,B)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d,b.enter(a,null,r),r=d,E.clone=a,z[E.id]=E,e(E.scope,g,s,F,v,D,B)});m=z})}}}}],$e=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Te=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],af=Qa(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),bf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;k.length;)a.cancel(k.pop());for(d=0,e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy(),(k[d]=a.leave(s)).done(m(k,d))}h.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],cf=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){q(d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a}),function(a){c.cases["!"+a]=c.cases["!"+a]||[],c.cases["!"+a].push({transclude:e,element:b})})}}),df=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),hh=L("ngTransclude"),ff=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());return b.empty(),function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw hh("orphan",xa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude=""),h(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==Ia||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(k(),c.$destroy())},null,f=f.ngTransclude||f.ngTranscludeSlot),f&&!h.isSlotFilled(f)&&k()}}}}],He=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],ih={$setViewValue:z,$render:z},jh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1,e.ngModelCtrl.$render()}))}function c(a){h||(h=!0,b.$$postDigest(function(){b.$$destroyed||(h=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Gb;e.selectValueMap={},e.ngModelCtrl=ih,e.multiple=!1,e.unknownOption=B(x.document.createElement("option")),e.hasEmptyOption=!1,e.emptyOption=void 0,e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),a.prepend(e.unknownOption),Ta(e.unknownOption,!0),a.val(b)},e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b),e.unknownOption.val(b),Ta(e.unknownOption,!0),a.val(b)},e.generateUnknownOptionValue=function(a){return"? "+Pa(a)+" ?"},e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()},e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Ta(e.emptyOption,!0))},e.unselectEmptyOption=function(){e.hasEmptyOption&&e.emptyOption.removeAttr("selected")},b.$on("$destroy",function(){e.renderUnknownOption=z}),e.readValue=function(){var b=(b=a.val())in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null},e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Ta(B(c),!1),e.hasOption(b)?(e.removeUnknownOption(),c=Pa(b),a.val(c in e.selectValueMap?c:b),Ta(B(a[0].options[a[0].selectedIndex]),!0)):null==b&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(b):e.renderUnknownOption(b)},e.addOption=function(a,b){if(8!==b[0].nodeType){Ka(a,'"option value"'),""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1),d()}},e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))},e.hasOption=function(a){return!!f.get(a)};var g=!1,h=!1;e.registerOption=function(a,b,f,g,h){if(f.$attr.ngValue){var q,s=NaN;f.$observe("value",function(a){var d,f=b.prop("selected");u(s)&&(e.removeOption(q),delete e.selectValueMap[s],d=!0),s=Pa(a),q=a,e.selectValueMap[s]=a,e.addOption(a,b),b.attr("value",s),d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");u(q)&&(e.removeOption(q),d=!0),q=a,e.addOption(a,b),d&&f&&c()}):h?a.$watch(h,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d),e.addOption(a,b),d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){("true"===a||a&&b.prop("selected"))&&(e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render()))}),b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b),d(),(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Ie=function(){return{restrict:"E",require:["select","?ngModel"],controller:jh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption(),a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0,e.readValue=function(){var a=[];return q(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))}),a},e.writeValue=function(a){q(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Ta(B(b),c)})};var g,h=NaN;a.$watch(function(){h!==f.$viewValue||sa(g,f.$viewValue)||(g=pa(f.$viewValue),f.$render()),h=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=z},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Je=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;return u(d.ngValue)||(u(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text())),function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],Zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(F(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw L("ngPattern")("noregexp",f,a,xa(b));e=a||void 0,c.$validate()}),c.$validators.pattern=function(a,b){return c.$isEmpty(b)||w(e)||e.test(b)}}}}},ad=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a),e=da(a)?-1:a,c.$validate()}),c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},$c=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0,c.$validate()}),c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};x.angular.bootstrap?x.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var a;if(!Uc){var b=rb();(na=w(b)?x.jQuery:b?x[b]:void 0)&&na.fn.on?(B=na,S(na.fn,{scope:Na.scope,isolateScope:Na.isolateScope,controller:Na.controller,injector:Na.injector,inheritedData:Na.inheritedData}),a=na.cleanData,na.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=na._data(f,"events"))&&c.$destroy&&na(f).triggerHandler("$destroy");a(b)}):B=W,ea.element=B,Uc=!0}}(),function(a){S(a,{errorHandlingConfig:me,bootstrap:Sc,copy:ra,extend:S,merge:oe,equals:sa,element:B,forEach:q,injector:eb,noop:z,bind:bb,toJson:cb,fromJson:Oc,identity:Ya,isUndefined:w,isDefined:u,isString:F,isFunction:D,isObject:C,isNumber:ba,isElement:Ub,isArray:H,version:De,isDate:ga,lowercase:Q,uppercase:ub,callbacks:{$$counter:0},getTestability:xe,reloadWithDebugInfo:we,$$minErr:L,$$csp:Ga,$$encodeUriSegment:db,$$encodeUriQuery:$,$$stringify:$b}),(ac=Ae(x))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ee}),a.provider("$compile",Wc).directive({a:Fe,input:Xc,textarea:Xc,form:Ge,script:He,select:Ie,option:Je,ngBind:Ke,ngBindHtml:Le,ngBindTemplate:Me,ngClass:Ne,ngClassEven:Oe,ngClassOdd:Pe,ngCloak:Qe,ngController:Re,ngForm:Se,ngHide:Te,ngIf:Ue,ngInclude:Ve,ngInit:We,ngNonBindable:Xe,ngPluralize:Ye,ngRepeat:Ze,ngShow:$e,ngStyle:af,ngSwitch:bf,ngSwitchWhen:cf,ngSwitchDefault:df,ngOptions:ef,ngTransclude:ff,ngModel:gf,ngList:hf,ngChange:jf,pattern:Yc,ngPattern:Yc,required:Zc,ngRequired:Zc,minlength:$c,ngMinlength:$c,maxlength:ad,ngMaxlength:ad,ngValue:kf,ngModelOptions:lf}).directive({ngInclude:mf}).directive(vb).directive(bd),a.provider({$anchorScroll:nf,$animate:of,$animateCss:pf,$$animateJs:qf,$$animateQueue:rf,$$AnimateRunner:sf,$$animateAsyncRun:tf,$browser:uf,$cacheFactory:vf,$controller:wf,$document:xf,$$isDocumentHidden:yf,$exceptionHandler:zf,$filter:cd,$$forceReflow:Af,$interpolate:Bf,$interval:Cf,$http:Df,$httpParamSerializer:Ef,$httpParamSerializerJQLike:Ff,$httpBackend:Gf,$xhrFactory:Hf,$jsonpCallbacks:If,$location:Jf,$log:Kf,$parse:Lf,$rootScope:Mf,$q:Nf,$$q:Of,$sce:Pf,$sceDelegate:Qf,$sniffer:Rf,$templateCache:Sf,$templateRequest:Tf,$$testability:Uf,$timeout:Vf,$window:Wf,$$rAF:Xf,$$jqLite:Yf,$$Map:Zf,$$cookieReader:$f})}]).info({angularVersion:"1.6.4"})}(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){var b=(a+="").indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(b(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),B(function(){ue(x.document,Sc)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}function F(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}function M(){this.expando=n.expando+M.uid++}function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c)}catch(e){}O.set(a,b,c)}else c=void 0;return c}function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,n.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function _(a,b){var c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if((f=a[o])||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){for(g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];k--;)g=g.lastChild;n.merge(m,g.childNodes),(g=l.firstChild).textContent=""}else m.push(b.createTextNode(f));for(l.textContent="",o=0;f=m[o++];)if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c)for(k=0;f=g[k++];)Z.test(f.type||"")&&c.push(f);return l}function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(i=(h=n.map(_(e,"script"),qa)).length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||("none"!==(c=ya(a,b))&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),(b=wa[0].contentDocument).write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),""!==(g=c?c.getPropertyValue(b)||c[b]:void 0)&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Ma(a){if(a in La)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;c--;)if((a=Ka[c]+b)in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if((0>(g=Fa(b,c,h))||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)(d=a[g]).style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)(d=a[g]).style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=n.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),f=1-(c/j.duration||0),g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function fb(a){return a.getAttribute&&a.getAttribute("class")||""}function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===tb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if((h=e.split(" "))[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=n.trim(a))&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a))for(c=a.length;c>d&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var e=[],f=0,g=a.length,h=!c;g>f;f++)!b(a[f],f)!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)null!=(e=b(a[g],g,c))&&h.push(e);else for(g in a)null!=(e=b(a[g],g,c))&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){for((k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),h=(r=g(a)).length,l=V.test(k)?"#"+k:"[id='"+k+"']";h--;)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){for(var c=a.split("|"),e=c.length;e--;)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function na(a){return ha(function(b){return b=+b,ha(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&void 0!==a.getElementsByTagName&&a}function pa(){}function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ua(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if((c=d.filter[a[i].type].apply(null,a[i].matches))[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){for(o=0,g||l.ownerDocument===n||(m(l),h=!p);q=a[o++];)if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){for(o=0;q=b[o++];)q(t,u,g,h);if(f){if(r>0)for(;s--;)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(void 0!==b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return void 0!==b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(1&(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1)||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);for(c=a;c=c.parentNode;)g.unshift(c);for(c=b;c=c.parentNode;)h.unshift(c);for(;g[d]===h[d];)d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},(d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(t=(n=(j=(k=(l=(m=q)[u]||(m[u]={}))[m.uniqueID]||(l[m.uniqueID]={}))[a]||[])[0]===w&&j[1])&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}}).pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(b);return pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)},h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)(f=wa(b[c]))[u]?d.push(f):e.push(f);(f=A(a,xa(e,d))).selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if((j=o[0]=o[0].slice(0)).length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(!(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0]))return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=W.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),!(a=f.length&&qa(j)))return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(!(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a))||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return(f=d.getElementById(e[2]))&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))}).prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1)for(c=g.shift();++h<f.length;)!1===f[h].apply(c[0],c[1])&&a.stopOnFalse&&(h=f.length,c=!1);a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,f,c))>-1;)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(!0===a?--n.readyWait:n.isReady)||(n.isReady=!0,!0!==a&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}}),n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?void 0!==(d=this.get(a,b))?d:this.get(a,n.camelCase(b)):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&0===(d=g[c].name).indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d]));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(void 0!==(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase())))return c;if(d=n.camelCase(a),void 0!==(c=O.get(f,d)))return c;if(void 0!==(c=R(f,d,void 0)))return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b);"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,function(){n.dequeue(a,b)},f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=N.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;var ba=/<|&#?\w+;/;!function(){var b=d.createDocumentFragment().appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return void 0!==n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),j=(b=(b||"").match(G)||[""]).length;j--;)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,p,g)||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){for(j=(b=(b||"").match(G)||[""]).length;j--;)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},m=i[o=(d?l.delegateType:l.bindType)||o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,p,r.handle)||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,void 0!==(d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(!0!==i.disabled||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];for(h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;b--;)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return(g=_(h,"script")).length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pa(this,a).appendChild(a)})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)1===(b=this[c]||{}).nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"},Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}}))}();var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:("string"===(f=typeof c)&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),void(null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),(g=n.cssHooks[b]||n.cssHooks[h])&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(0,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}}),n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""))&&"auto"!==b?b:0},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,e,f,g,h,i,j,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(null==(h=n._queueHooks(a,"fx")).unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],"inline"===("none"===(j=n.css(a,"display"))?N.get(a,"olddisplay")||za(a.nodeName):j)&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,(a=d.createElement("input")).value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:null==(d=n.find.attr(a,b))?void 0:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return!1===b?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");e!==(h=n.trim(d))&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(G)||[];c=this[i++];)if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");e!==(h=n.trim(d))&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=n(this),f=a.match(G)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||((b=fb(this))&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(null==(e=d?a.call(this,c,n(this).val()):a)?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),(b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:"string"==typeof(c=e.value)?c.replace(gb,""):null==c?"":c:void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(((c=d[i]).selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||!1!==o.trigger.apply(e,c))){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=p[g++])&&!b.isPropagationStopped();)b.type=g>1?j:o.bindType||q,(m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"))&&m.apply(h,c),(m=l&&h[l])&&m.apply&&L(h)&&(b.result=m.apply(h,c),!1===b.result&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&!1!==o._default.apply(p.pop(),c)||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&((i=e[l])&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href,n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(n.lastModified[f]=w),(w=x.getResponseHeader("etag"))&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h)for(h={};b=ob.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;(k=n.event&&m.global)&&0==n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&!1!==m.contentType||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(!1===m.beforeSend.call(o,x,m)||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):!1!==b.jsonp&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length},n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function($){"use strict";var version=jQuery.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||1==version[0]&&9==version[1]&&version[2]<1||version[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(),function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});return setTimeout(function(){called||$($el).trigger($.support.transition.end)},duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function($){"use strict";var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.6",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})},$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.6",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")?($input.prop("checked")&&(changed=!1),$parent.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==$input.prop("type")&&($input.prop("checked")!==this.$element.hasClass("active")&&(changed=!1),this.$element.toggleClass("active")),$input.prop("checked",this.$element.hasClass("active")),changed&&$input.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),$(e.target).is('input[type="radio"]')||$(e.target).is('input[type="checkbox"]')||e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.6",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active);if(("prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1)&&!this.options.wrap)return active;var itemIndex=(activeIndex+("prev"==direction?-1:1))%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&/show|hide/.test(option)&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],[data-toggle="collapse"][data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.6",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"))&&activesData.transitioning)){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),option=$target.data("bs.collapse")?"toggle":$this.data();Plugin.call($target,option)})}(jQuery),function($){"use strict";function getParent($this){var selector=$this.attr("data-target");selector||(selector=(selector=$this.attr("href"))&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target)||($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget)))))}))}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.6",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var $items=$parent.find(".dropdown-menu li:not(.disabled):visible a");if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery),function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.6",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),function($){"use strict";var Tooltip=function(element,options){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.6",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){if(this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return(options=$.extend({},this.getDefaults(),this.$element.data(),options)).delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusin"==obj.type?"focus":"hover"]=!0),self.tip().hasClass("in")||"in"==self.hoverState)self.hoverState="in";else{if(clearTimeout(self.timeout),self.hoverState="in",!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)}},Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState)if(this.inState[key])return!0;return!1},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusout"==obj.type?"focus":"hover"]=!1),!self.isInStateTrue()){if(clearTimeout(self.timeout),self.hoverState="out",!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)}},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,viewportDim=this.getPosition(this.$viewport);placement="bottom"==placement&&pos.bottom+actualHeight>viewportDim.bottom?"top":"top"==placement&&pos.top-actualHeight<viewportDim.top?"bottom":"right"==placement&&pos.right+actualWidth>viewportDim.width?"left":"left"==placement&&pos.left-actualWidth<viewportDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top+=marginTop,offset.left+=marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=$(this.$tip),e=$.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){var el=($element=$element||this.$element)[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var elOffset=isBody?{top:0,left:0}:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.right&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var $e=this.$element,o=this.options;return $e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do{prefix+=~~(1e6*Math.random())}while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&((self=$(e.currentTarget).data("bs."+this.type))||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),e?(self.inState.click=!self.inState.click,self.isInStateTrue()?self.enter(self):self.leave(self)):self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type),that.$tip&&that.$tip.detach(),that.$tip=null,that.$arrow=null,that.$viewport=null})};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.6",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var old=$.fn.popover;$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})},$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body),this.$scrollElement=$($(element).is(document.body)?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.6",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var that=this,offsetMethod="offset",offsetBase=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]),that.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(void 0===offsets[i+1]||scrollTop<offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.6",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.6",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=Math.max($(document).height(),$(document.body).height());"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):root.lightbox=factory(root.jQuery)}(this,function($){function Lightbox(options){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=$.extend({},this.constructor.defaults),this.option(options)}return Lightbox.defaults={albumLabel:" %1  %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},Lightbox.prototype.option=function(options){$.extend(this.options,options)},Lightbox.prototype.imageCountLabel=function(currentImageNum,totalImages){return this.options.albumLabel.replace(/%1/g,currentImageNum).replace(/%2/g,totalImages)},Lightbox.prototype.init=function(){var self=this;$(document).ready(function(){self.enable(),self.build()})},Lightbox.prototype.enable=function(){var self=this;$("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(event){return self.start($(event.currentTarget)),!1})},Lightbox.prototype.build=function(){var self=this;$('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo($("body")),this.$lightbox=$("#lightbox"),this.$overlay=$("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return self.end(),!1}),this.$lightbox.hide().on("click",function(event){return"lightbox"===$(event.target).attr("id")&&self.end(),!1}),this.$outerContainer.on("click",function(event){return"lightbox"===$(event.target).attr("id")&&self.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===self.currentImageIndex?self.changeImage(self.album.length-1):self.changeImage(self.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return self.currentImageIndex===self.album.length-1?self.changeImage(0):self.changeImage(self.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(event){3===event.which&&(self.$nav.css("pointer-events","none"),self.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(self),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return self.end(),!1})},Lightbox.prototype.start=function($link){function addToAlbum($link){self.album.push({link:$link.attr("href"),title:$link.attr("data-title")||$link.attr("title")})}var self=this,$window=$(window);$window.on("resize",$.proxy(this.sizeOverlay,this)),$("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var $links,imageNumber=0,dataLightboxValue=$link.attr("data-lightbox");if(dataLightboxValue){$links=$($link.prop("tagName")+'[data-lightbox="'+dataLightboxValue+'"]');for(var i=0;i<$links.length;i=++i)addToAlbum($($links[i])),$links[i]===$link[0]&&(imageNumber=i)}else if("lightbox"===$link.attr("rel"))addToAlbum($link);else{$links=$($link.prop("tagName")+'[rel="'+$link.attr("rel")+'"]');for(var j=0;j<$links.length;j=++j)addToAlbum($($links[j])),$links[j]===$link[0]&&(imageNumber=j)}var top=$window.scrollTop()+this.options.positionFromTop,left=$window.scrollLeft();this.$lightbox.css({top:top+"px",left:left+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&$("body").addClass("lb-disable-scrolling"),this.changeImage(imageNumber)},Lightbox.prototype.changeImage=function(imageNumber){var self=this;this.disableKeyboardNav();var $image=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),$(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var preloader=new Image;preloader.onload=function(){var imageHeight,imageWidth,maxImageHeight,maxImageWidth,windowHeight,windowWidth;$image.attr("src",self.album[imageNumber].link),$(preloader),$image.width(preloader.width),$image.height(preloader.height),self.options.fitImagesInViewport&&(windowWidth=$(window).width(),windowHeight=$(window).height(),maxImageWidth=windowWidth-self.containerPadding.left-self.containerPadding.right-self.imageBorderWidth.left-self.imageBorderWidth.right-20,maxImageHeight=windowHeight-self.containerPadding.top-self.containerPadding.bottom-self.imageBorderWidth.top-self.imageBorderWidth.bottom-120,self.options.maxWidth&&self.options.maxWidth<maxImageWidth&&(maxImageWidth=self.options.maxWidth),self.options.maxHeight&&self.options.maxHeight<maxImageWidth&&(maxImageHeight=self.options.maxHeight),(preloader.width>maxImageWidth||preloader.height>maxImageHeight)&&(preloader.width/maxImageWidth>preloader.height/maxImageHeight?(imageWidth=maxImageWidth,imageHeight=parseInt(preloader.height/(preloader.width/imageWidth),10),$image.width(imageWidth),$image.height(imageHeight)):(imageHeight=maxImageHeight,imageWidth=parseInt(preloader.width/(preloader.height/imageHeight),10),$image.width(imageWidth),$image.height(imageHeight)))),self.sizeContainer($image.width(),$image.height())},preloader.src=this.album[imageNumber].link,this.currentImageIndex=imageNumber},Lightbox.prototype.sizeOverlay=function(){this.$overlay.width($(document).width()).height($(document).height())},Lightbox.prototype.sizeContainer=function(imageWidth,imageHeight){function postResize(){self.$lightbox.find(".lb-dataContainer").width(newWidth),self.$lightbox.find(".lb-prevLink").height(newHeight),self.$lightbox.find(".lb-nextLink").height(newHeight),self.showImage()}var self=this,oldWidth=this.$outerContainer.outerWidth(),oldHeight=this.$outerContainer.outerHeight(),newWidth=imageWidth+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,newHeight=imageHeight+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;oldWidth!==newWidth||oldHeight!==newHeight?this.$outerContainer.animate({width:newWidth,height:newHeight},this.options.resizeDuration,"swing",function(){postResize()}):postResize()},Lightbox.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},Lightbox.prototype.updateNav=function(){var alwaysShowNav=!1;try{document.createEvent("TouchEvent"),alwaysShowNav=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(alwaysShowNav&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),alwaysShowNav&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),alwaysShowNav&&this.$lightbox.find(".lb-next").css("opacity","1"))))},Lightbox.prototype.updateDetails=function(){var self=this;if(void 0!==this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var $caption=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?$caption.text(this.album[this.currentImageIndex].title):$caption.html(this.album[this.currentImageIndex].title),$caption.fadeIn("fast").find("a").on("click",function(event){void 0!==$(this).attr("target")?window.open($(this).attr("href"),$(this).attr("target")):location.href=$(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){var labelText=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(labelText).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return self.sizeOverlay()})},Lightbox.prototype.preloadNeighboringImages=function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&((new Image).src=this.album[this.currentImageIndex-1].link)},Lightbox.prototype.enableKeyboardNav=function(){$(document).on("keyup.keyboard",$.proxy(this.keyboardAction,this))},Lightbox.prototype.disableKeyboardNav=function(){$(document).off(".keyboard")},Lightbox.prototype.keyboardAction=function(event){var keycode=event.keyCode,key=String.fromCharCode(keycode).toLowerCase();27===keycode||key.match(/x|o|c/)?this.end():"p"===key||37===keycode?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):"n"!==key&&39!==keycode||(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},Lightbox.prototype.end=function(){this.disableKeyboardNav(),$(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),$("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&$("body").removeClass("lb-disable-scrolling")},new Lightbox}),function(n,c){"use strict";function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;h=(f=f||{}).expires,g=c.isDefined(f.path)?f.path:d,c.isUndefined(e)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",e=""),c.isString(h)&&(h=new Date(h)),e=(e=encodeURIComponent(b)+"="+encodeURIComponent(e))+(g?";path="+g:"")+(f.domain?";domain="+f.domain:""),e+=h?";expires="+h.toUTCString():"",4096<(f=(e+=f.secure?";secure":"").length+1)&&a.warn("Cookie '"+b+"' possibly not set or overflowed because it was too large ("+f+" > 4096 bytes)!"),k.cookie=e}}c.module("ngCookies",["ng"]).info({angularVersion:"1.6.4"}).provider("$cookies",[function(){var b=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(a,g){return{get:function(d){return a()[d]},getObject:function(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function(){return a()},put:function(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function(d,b,a){this.put(d,c.toJson(b),a)},remove:function(a,k){g(a,void 0,k?c.extend({},b,k):b)}}}]}]),c.module("ngCookies").factory("$cookieStore",["$cookies",function(b){return{get:function(a){return b.getObject(a)},put:function(a,c){b.putObject(a,c)},remove:function(a){b.remove(a)}}}]),l.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=l})}(window,window.angular),function(J,d){"use strict";function A(d){k&&d.get("$route")}function B(t,u,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,c,m){function v(){l&&(g.cancel(l),l=null),n&&(n.$destroy(),n=null),p&&((l=g.leave(p)).done(function(a){!1!==a&&(l=null)}),p=null)}function E(){b=t.current&&t.current.locals;if(d.isDefined(b&&b.$template)){var b=a.$new(),c=t.current;p=m(b,function(b){g.enter(b,null,p||f).done(function(b){!1===b||!d.isDefined(w)||w&&!a.$eval(w)||u()}),v()}),(n=c.scope=b).$emit("$viewContentLoaded"),n.$eval(k)}else v()}var n,p,l,w=b.autoscroll,k=b.onload||"";a.$on("$routeChangeSuccess",E),E()}}}function C(d,k,g){return{restrict:"ECA",priority:-400,link:function(a,f){var b=g.current,c=b.locals;f.html(c.$template);var m=d(f.contents());if(b.controller){c.$scope=a;var v=k(b.controller,c);b.controllerAs&&(a[b.controllerAs]=v),f.data("$ngControllerController",v),f.children().data("$ngControllerController",v)}a[b.resolveAs||"$resolve"]=c,m(a)}}}var x,y,F,G,k,z=d.module("ngRoute",[]).info({angularVersion:"1.6.4"}).provider("$route",function(){function t(a,f){return d.extend(Object.create(a),f)}function u(a,d){var b=d.caseInsensitiveMatch,c={originalPath:a,regexp:a},g=c.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(a,b,d,c){return a="?"===c||"*?"===c?"?":null,c="*"===c||"*?"===c?"*":null,g.push({name:d,optional:!!a}),b=b||"",(a?"":b)+"(?:"+(a?b:"")+(c&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([/$*])/g,"\\$1"),c.regexp=new RegExp("^"+a+"$",b?"i":""),c}x=d.isArray,y=d.isObject,F=d.isDefined,G=d.noop;var g={};this.when=function(a,f){var b;if(b=void 0,x(f)){b=b||[];for(var c=0,m=f.length;c<m;c++)b[c]=f[c]}else if(y(f))for(c in b=b||{},f)"$"===c.charAt(0)&&"$"===c.charAt(1)||(b[c]=f[c]);return b=b||f,d.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0),d.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch),g[a]=d.extend(b,a&&u(a,b)),a&&(c="/"===a[a.length-1]?a.substr(0,a.length-1):a+"/",g[c]=d.extend({redirectTo:a},u(c,b))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},k=!0,this.eagerInstantiationEnabled=function(a){return F(a)?(k=a,this):k},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(a,f,b,c,m,k,u,n){function p(e){var h=q.current;(y=(s=C())&&h&&s.$$route===h.$$route&&d.equals(s.pathParams,h.pathParams)&&!s.reloadOnSearch&&!D)||!h&&!s||a.$broadcast("$routeChangeStart",s,h).defaultPrevented&&e&&e.preventDefault()}function l(){var e=q.current,h=s;if(y)e.params=h.params,d.copy(e.params,b),a.$broadcast("$routeUpdate",e);else if(h||e){D=!1,q.current=h;var H=c.resolve(h);n.$$incOutstandingRequestCount(),H.then(w).then(z).then(function(c){return c&&H.then(A).then(function(c){h===q.current&&(h&&(h.locals=c,d.copy(h.params,b)),a.$broadcast("$routeChangeSuccess",h,e))})}).catch(function(b){h===q.current&&a.$broadcast("$routeChangeError",h,e,b)}).finally(function(){n.$$completeOutstandingRequest(G)})}}function w(e){var a={route:e,hasRedirection:!1};if(e)if(e.redirectTo)if(d.isString(e.redirectTo))a.path=x(e.redirectTo,e.params),a.search=e.params,a.hasRedirection=!0;else{var b=f.path(),g=f.search();e=e.redirectTo(e.pathParams,b,g),d.isDefined(e)&&(a.url=e,a.hasRedirection=!0)}else if(e.resolveRedirectTo)return c.resolve(m.invoke(e.resolveRedirectTo)).then(function(e){return d.isDefined(e)&&(a.url=e,a.hasRedirection=!0),a});return a}function z(a){var b=!0;if(a.route!==q.current)b=!1;else if(a.hasRedirection){var d=f.url(),c=a.url;c?f.url(c).replace():c=f.path(a.path).search(a.search).replace().url(),c!==d&&(b=!1)}return b}function A(a){if(a){var b=d.extend({},a.resolve);return d.forEach(b,function(a,e){b[e]=d.isString(a)?m.get(a):m.invoke(a,null,null,e)}),a=B(a),d.isDefined(a)&&(b.$template=a),c.all(b)}}function B(a){var b,c;return d.isDefined(b=a.template)?d.isFunction(b)&&(b=b(a.params)):d.isDefined(c=a.templateUrl)&&(d.isFunction(c)&&(c=c(a.params)),d.isDefined(c)&&(a.loadedTemplateUrl=u.valueOf(c),b=k(c))),b}function C(){var a,b;return d.forEach(g,function(c,g){var r;if(r=!b){var k=f.path();r=c.keys;var m={};if(c.regexp)if(k=c.regexp.exec(k)){for(var l=1,n=k.length;l<n;++l){var p=r[l-1],q=k[l];p&&q&&(m[p.name]=q)}r=m}else r=null;else r=null;r=a=r}r&&(b=t(c,{params:d.extend({},f.search(),a),pathParams:a}),b.$$route=c)}),b||g[null]&&t(g[null],{params:{},pathParams:{}})}function x(a,b){var c=[];return d.forEach((a||"").split(":"),function(a,d){if(0===d)c.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];c.push(b[f]),c.push(e[2]||""),delete b[f]}}),c.join("")}var s,y,D=!1,q={routes:g,reload:function(){D=!0;var b={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,D=!1}};a.$evalAsync(function(){p(b),b.defaultPrevented||l()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw I("norout");a=d.extend({},this.current.params,a),f.path(x(this.current.$$route.originalPath,a)),f.search(a)}};return a.$on("$locationChangeStart",p),a.$on("$locationChangeSuccess",l),q}]}).run(A),I=d.$$minErr("ngRoute");A.$inject=["$injector"],z.provider("$routeParams",function(){this.$get=function(){return{}}}),z.directive("ngView",B),z.directive("ngView",C),B.$inject=["$route","$anchorScroll","$animate"],C.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,function(a){"use strict";function b(a,b){var c;try{c=a[b]}catch(d){c=!1}if(c){var e="__"+Math.round(1e7*Math.random());try{a[b].setItem(e,e),a[b].removeItem(e,e)}catch(d){c=!1}}return c}function c(c){var d=b(window,c);return function(){var e="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setKeyPrefix() expects a String.");e=a};var f=a.toJson,g=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setSerializer expects a function.");f=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+c+"Provider.setDeserializer expects a function.");g=a},this.supported=function(){return!!d},this.get=function(a){return d&&g(d.getItem(e+a))},this.set=function(a,b){return d&&d.setItem(e+a,f(b))},this.remove=function(a){d&&d.removeItem(e+a)},this.$get=["$rootScope","$window","$log","$timeout","$document",function(d,h,i,j,k){var l,m,n=e.length,o=b(h,c),p=o||(i.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),q={$default:function(b){for(var c in b)a.isDefined(q[c])||(q[c]=a.copy(b[c]));return q.$sync(),q},$reset:function(a){for(var b in q)"$"===b[0]||delete q[b]&&p.removeItem(e+b);return q.$default(a)},$sync:function(){for(var a,b=0,c=p.length;c>b;b++)(a=p.key(b))&&e===a.slice(0,n)&&(q[a.slice(n)]=g(p.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(q,l)){b=a.copy(l),a.forEach(q,function(c,d){a.isDefined(c)&&"$"!==d[0]&&(p.setItem(e+d,f(c)),delete b[d])});for(var c in b)p.removeItem(e+c);l=a.copy(q)}},$supported:function(){return!!o}};return q.$sync(),l=a.copy(q),d.$watch(function(){m||(m=j(q.$apply,100,!1))}),h.addEventListener&&h.addEventListener("storage",function(b){if(b.key){var c=k[0];c.hasFocus&&c.hasFocus()||e!==b.key.slice(0,n)||(b.newValue?q[b.key.slice(n)]=g(b.newValue):delete q[b.key.slice(n)],l=a.copy(q),d.$apply())}}),h.addEventListener&&h.addEventListener("beforeunload",function(){q.$apply()}),q}]}}return(a=a&&a.module?a:window.angular).module("ngStorage",[]).provider("$localStorage",c("localStorage")).provider("$sessionStorage",c("sessionStorage"))}),function(){function PersianJs(str){this._str=str}function _arabicChar(value){if(value){for(var arabicChars=["","","","","","","","","","",""],persianChars=["","","","","","","","","","",""],i=0,charsLen=arabicChars.length;i<charsLen;i++)value=value.replace(new RegExp(arabicChars[i],"g"),persianChars[i]);return this._str=value,this}}function _switchKey(value){if(value){for(var persianChar=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],englishChar=["q","w","e","r","t","y","u","i","o","p","[","]","a","s","d","f","g","h","j","k","l",";","'","z","x","c","v","b","n","m",",","?"],i=0,charsLen=persianChar.length;i<charsLen;i++)value=value.replace(new RegExp(persianChar[i],"g"),englishChar[i]);return this._str=value,this}}function _arabicNumber(value){if(value){for(var arabicNumbers=["","","","","","","","","",""],persianNumbers=["","","","","","","","","",""],i=0,numbersLen=arabicNumbers.length;i<numbersLen;i++)value=value.replace(new RegExp(arabicNumbers[i],"g"),persianNumbers[i]);return this._str=value,this}}function _englishNumber(value){if(value){for(var englishNumbers=["1","2","3","4","5","6","7","8","9","0"],persianNumbers=["","","","","","","","","",""],i=0,numbersLen=englishNumbers.length;i<numbersLen;i++)value=value.replace(new RegExp(englishNumbers[i],"g"),persianNumbers[i]);return this._str=value,this}}function _fixURL(value){if(value){for(var old="";old!=value;)old=value,value=value.replace(/(http\S+?)\%20/g,"$1_");return value=value.replace(/(http\S+)/g,function(s,p){return decodeURI(p)}),value=value.replace(/\u200c\u200c\u200c_\u200c\u200c\u200c/g,"%20"),this._str=value,this}}var hasModule="undefined"!=typeof module&&module.exports,persianJs=function(inputStr){if(!inputStr||""===inputStr)throw new Error("Input is null or empty.");return new PersianJs(inputStr)};persianJs.version="0.3.0",persianJs.fn=PersianJs.prototype={clone:function(){return persianJs(this)},value:function(){return this._str},toString:function(){return this._str.toString()},set:function(value){return this._str=String(value),this},arabicChar:function(){return _arabicChar.call(this,this._str)},arabicNumber:function(){return _arabicNumber.call(this,this._str)},fixURL:function(){return _fixURL.call(this,this._str)},englishNumber:function(){return _englishNumber.call(this,this._str)},switchKey:function(){return _switchKey.call(this,this._str)}},hasModule&&(module.exports=persianJs),"undefined"==typeof ender&&(this.persianJs=persianJs),"function"==typeof define&&define.amd&&define("persianJs",[],function(){return persianJs})}(),function(){var ngPersian;ngPersian="undefined"!=typeof angular&&null!==angular?angular.module("ngPersian",[]):void 0,"undefined"!=typeof persianJs&&null!==persianJs||console.error("Persian.js is required for using Angular Persian"),ngPersian.fn={},ngPersian.fn.pArabicChar=function(str){return null!=str&&""!==str.toString().trim()?persianJs(str.toString()).arabicChar().toString():""},ngPersian.fn.pArabicNumber=function(str){return null!=str&&""!==str.toString().trim()?persianJs(str.toString()).arabicNumber().toString():""},ngPersian.fn.pDigitWords=function(str){var digit,i,iThree,numbers,part,parts,result,resultThree,three;return isFinite(str)?("string"!=typeof str&&(str=str.toString()),parts=["","","","","","","",""],numbers={0:["","","","","","","","","",""],1:["","","","","","","","","",""],2:["","","","","","","","","",""],two:["","","","","","","","","",""],zero:""},"  ",str=str.split("").reverse().join("").replace(/\d{3}(?=\d)/g,"$&,").split("").reverse().join("").split(",").map(function(str){return Array(4-str.length).join("0")+str}),result=function(){var results;results=[];for(iThree in str)three=str[iThree],resultThree=function(){var j,len,results1;for(results1=[],i=j=0,len=three.length;j<len;i=++j)if(digit=three[i],1===i&&"1"===digit)results1.push(numbers.two[three[2]]);else{if(2===i&&"1"===three[1]||""===numbers[i][digit])continue;results1.push(numbers[i][digit])}return results1}(),resultThree=resultThree.join("  "),part=resultThree.length>0?" "+parts[str.length-iThree-1]:"",results.push(resultThree+part);return results}(),result=result.filter(function(x){return""!==x.trim()}),""!==(result=result.join("  ").trim())?result:numbers.zero):""},ngPersian.fn.pFixURL=function(str){return null!=str&&""!==str.toString().trim()?persianJs(str.toString()).fixURL().toString():""},ngPersian.fn.pNumber=function(str){return null!=str&&""!==str.toString().trim()?persianJs(str.toString()).englishNumber().toString():""},ngPersian.fn.pSwitchKey=function(str){return null!=str&&""!==str.toString().trim()?persianJs(str.toString()).switchKey().toString():""},ngPersian.filter("pNumber",function(){return ngPersian.fn.pNumber}),ngPersian.filter("pArabicNumber",function(){return ngPersian.fn.pArabicNumber}),ngPersian.filter("pSwitchKey",function(){return ngPersian.fn.pSwitchKey}),ngPersian.filter("pFixURL",function(){return ngPersian.fn.pFixURL}),ngPersian.filter("pArabicChar",function(){return ngPersian.fn.pArabicChar}),ngPersian.filter("pDigitWords",function(){return ngPersian.fn.pDigitWords})}.call(this),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isObjectEmpty(obj){var k;for(k in obj)return!1;return!0}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some$1.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){arg+="\n["+i+"] ";for(var key in arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(number>=0?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,function(input){return locale.longDateFormat(input)||input}),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),!isNumber(value))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-((7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7)+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return dayOfYear<=0?resDayOfYear=daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values))&&(globalLocale=data),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromRFC2822(config){var string,match,dayFormat,dateFormat,timeFormat,tzFormat,timezone,timezoneIndex,timezones={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(string=config._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),match=basicRfcRegex.exec(string)){if(dayFormat=match[1]?"ddd"+(5===match[1].length?", ":" "):"",dateFormat="D MMM "+(match[2].length>10?"YYYY ":"YY "),timeFormat="HH:mm"+(match[4]?":ss":""),match[1]){var momentDay=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(match[2]).getDay()];if(match[1].substr(0,3)!==momentDay)return getParsingFlags(config).weekdayMismatch=!0,void(config._isValid=!1)}switch(match[5].length){case 2:timezone=0===timezoneIndex?" +0000":((timezoneIndex="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(match[5][1].toUpperCase())-12)<0?" -":" +")+(""+timezoneIndex).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:timezone=timezones[match[5]];break;default:timezone=timezones[" GMT"]}match[5]=timezone,config._i=match.splice(1).join(""),tzFormat=" ZZ",config._f=dayFormat+dateFormat+timeFormat+tzFormat,configFromStringAndFormat(config),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(null!=(w=config._w).GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||weekday>7)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||weekday>6)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&((skipped=string.substr(0,string.indexOf(parsedInput))).length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):configFromInput(config),isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?configFromObject(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function isDurationValid(m){for(var key in m)if(-1===ordering.indexOf(key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=createDuration(val,period),addSubtract(this,dur,direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),months&&setMonth(mom,get(mom,"Month")+months*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}function monthDiff(a,b){var adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return adjust=b-anchor<0?(b-anchor)/(anchor-a.clone().add(wholeMonthDiff-1,"months")):(b-anchor)/(a.clone().add(wholeMonthDiff+1,"months")-anchor),-(wholeMonthDiff+adjust)||0}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function preParsePostFormat(string){return string}function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(index=format=localeSorted,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||"");var locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,years,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60;var Y=years=absFloor(months/12),M=months%=12,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some,some$1=some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1},momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={};hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys,indexOf,keys$1=keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res},defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultDayOfMonthOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,indexOf$1=indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1};addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,basicRfcRegex=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()}),ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,function(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))});var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()&&(that=cloneWithOffset(input,this)).isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),"year"===(units=normalizeUnits(units))||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){return("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units||"millisecond"))?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){if("object"==typeof units)for(var prioritized=getPrioritizedUnits(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(){if(!this.isValid())return null;var m=this.clone().utc();return m.year()<0||m.year()>9999?formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},proto.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),(c=prepareConfig(c))._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var proto$1=Locale.prototype;proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11},abs$1=Math.abs,proto$2=Duration.prototype;return proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=relativeTime$1(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.18.1",function(callback){hookCallback=callback}(createLocal),hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys$1(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(a){return function(b,c){if("__setXHR_"===b){var d=c(this);d instanceof Function&&d(this)}else a.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(a,b,c){function d(d){function e(a){j.notify&&j.notify(a),k.progressFunc&&c(function(){k.progressFunc(a)})}function h(a){return null!=d._start&&g?{loaded:a.loaded+d._start,total:d._file&&d._file.size||a.total,type:a.type,config:d,lengthComputable:!0,target:a.target}:a}function i(){a(d).then(function(a){if(g&&d._chunkSize&&!d._finished&&d._file){var b=d._file&&d._file.size||0;e({loaded:Math.min(d._end,b),total:b,config:d,type:"progress"}),f.upload(d,!0)}else d._finished&&delete d._finished,j.resolve(a)},function(a){j.reject(a)},function(a){j.notify(a)})}d.method=d.method||"POST",d.headers=d.headers||{};var j=d._deferred=d._deferred||b.defer(),k=j.promise;return d.disableProgress||(d.headers.__setXHR_=function(){return function(a){a&&a.upload&&a.upload.addEventListener&&(d.__XHR=a,d.xhrFn&&d.xhrFn(a),a.upload.addEventListener("progress",function(a){a.config=d,e(h(a))},!1),a.upload.addEventListener("load",function(a){a.lengthComputable&&(a.config=d,e(h(a)))},!1))}}),g?d._chunkSize&&d._end&&!d._finished?(d._start=d._end,d._end+=d._chunkSize,i()):d.resumeSizeUrl?a.get(d.resumeSizeUrl).then(function(a){d._start=d.resumeSizeResponseReader?d.resumeSizeResponseReader(a.data):parseInt((null==a.data.size?a.data:a.data.size).toString()),d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):d.resumeSize?d.resumeSize().then(function(a){d._start=a,d._chunkSize&&(d._end=d._start+d._chunkSize),i()},function(a){throw a}):(d._chunkSize&&(d._start=0,d._end=d._start+d._chunkSize),i()):i(),k.success=function(a){return k.then(function(b){a(b.data,b.status,b.headers,d)}),k},k.error=function(a){return k.then(null,function(b){a(b.data,b.status,b.headers,d)}),k},k.progress=function(a){return k.progressFunc=a,k.then(null,null,function(b){a(b)}),k},k.abort=k.pause=function(){return d.__XHR&&c(function(){d.__XHR.abort()}),k},k.xhr=function(a){return d.xhrFn=function(b){return function(){b&&b.apply(k,arguments),a.apply(k,arguments)}}(d.xhrFn),k},f.promisesCount++,k.finally&&k.finally instanceof Function&&k.finally(function(){f.promisesCount--}),k}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=this;f.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var g=this.isResumeSupported();this.isUploadInProgress=function(){return f.promisesCount>0},this.rename=function(a,b){return a.ngfName=b,a},this.jsonBlob=function(a){null==a||angular.isString(a)||(a=JSON.stringify(a));var b=new window.Blob([a],{type:"application/json"});return b._ngfBlob=!0,b},this.json=function(a){return angular.toJson(a)},this.isFile=function(a){return null!=a&&(a instanceof window.Blob||a.flashId&&a.name&&a.size)},this.upload=function(a,b){function c(b,c){if(b._ngfBlob)return b;if(a._file=a._file||b,null!=a._start&&g){a._end&&a._end>=b.size&&(a._finished=!0,a._end=b.size);var d=b.slice(a._start,a._end||b.size);return d.name=b.name,d.ngfName=b.ngfName,a._chunkSize&&(c.append("_chunkSize",a._chunkSize),c.append("_currentChunkSize",a._end-a._start),c.append("_chunkNumber",Math.floor(a._start/a._chunkSize)),c.append("_totalSize",a._file.size)),d}return b}function h(b,d,e){if(void 0!==d)if(angular.isDate(d)&&(d=d.toISOString()),angular.isString(d))b.append(e,d);else if(f.isFile(d)){var g=c(d,b),i=e.split(",");i[1]&&(g.ngfName=i[1].replace(/^\s+|\s+$/g,""),e=i[0]),a._fileKey=a._fileKey||e,b.append(e,g,g.ngfName||g.name)}else if(angular.isObject(d)){if(d.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+e;d.$$ngfCircularDetection=!0;try{for(var j in d)if(d.hasOwnProperty(j)&&"$$ngfCircularDetection"!==j){var k=null==a.objectKey?"[i]":a.objectKey;d.length&&parseInt(j)>-1&&(k=null==a.arrayKey?k:a.arrayKey),h(b,d[j],e+k.replace(/[ik]/g,j))}}finally{delete d.$$ngfCircularDetection}}else b.append(e,d)}return b||(a=e(a)),a._isDigested||(a._isDigested=!0,a._chunkSize=f.translateScalars(a.resumeChunkSize),a._chunkSize=a._chunkSize?parseInt(a._chunkSize.toString()):null,a.headers=a.headers||{},a.headers["Content-Type"]=void 0,a.transformRequest=a.transformRequest?angular.isArray(a.transformRequest)?a.transformRequest:[a.transformRequest]:[],a.transformRequest.push(function(b){var c,d=new window.FormData;b=b||a.fields||{},a.file&&(b.file=a.file);for(c in b)if(b.hasOwnProperty(c)){var e=b[c];a.formDataAppender?a.formDataAppender(d,c,e):h(d,e,c)}return d})),d(a)},this.http=function(b){return b=e(b),b.transformRequest=b.transformRequest||function(b){return window.ArrayBuffer&&b instanceof window.ArrayBuffer||b instanceof window.Blob?b:a.defaults.transformRequest[0].apply(this,arguments)},b._chunkSize=f.translateScalars(b.resumeChunkSize),b._chunkSize=b._chunkSize?parseInt(b._chunkSize.toString()):null,d(b)},this.translateScalars=function(a){if(angular.isString(a)){if(a.search(/kb/i)===a.length-2)return parseFloat(1024*a.substring(0,a.length-2));if(a.search(/mb/i)===a.length-2)return parseFloat(1048576*a.substring(0,a.length-2));if(a.search(/gb/i)===a.length-2)return parseFloat(1073741824*a.substring(0,a.length-2));if(a.search(/b/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/s/i)===a.length-1)return parseFloat(a.substring(0,a.length-1));if(a.search(/m/i)===a.length-1)return parseFloat(60*a.substring(0,a.length-1));if(a.search(/h/i)===a.length-1)return parseFloat(3600*a.substring(0,a.length-1))}return a},this.urlToBlob=function(c){var d=b.defer();return a({url:c,method:"get",responseType:"arraybuffer"}).then(function(a){var b=new Uint8Array(a.data),e=a.headers("content-type")||"image/WebP",f=new window.Blob([b],{type:e}),g=c.match(/.*\/(.+?)(\?.*)?$/);g.length>1&&(f.name=g[1]),d.resolve(f)},function(a){d.reject(a)}),d.promise},this.setDefaults=function(a){this.defaults=a||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(a,b,c,d,e){function f(a,b,c){var e=[i.emptyPromise()];return angular.forEach(a,function(d,f){0===d.type.indexOf("image/jpeg")&&i.attrGetter("ngfFixOrientation",b,c,{$file:d})&&e.push(i.happyPromise(i.applyExifRotation(d),d).then(function(b){a.splice(f,1,b)}))}),d.all(e)}function g(a,b,c,e){var f=i.attrGetter("ngfResize",b,c);if(!f||!i.isResizeSupported()||!a.length)return i.emptyPromise();if(f instanceof Function){var g=d.defer();return f(a).then(function(d){h(d,a,b,c,e).then(function(a){g.resolve(a)},function(a){g.reject(a)})},function(a){g.reject(a)})}return h(f,a,b,c,e)}function h(a,b,c,e,f){for(var h=[i.emptyPromise()],j=0;j<b.length;j++)!function(d,g){if(0===d.type.indexOf("image")){if(a.pattern&&!i.validatePattern(d,a.pattern))return;a.resizeIf=function(a,b){return i.attrGetter("ngfResizeIf",c,e,{$width:a,$height:b,$file:d})};var j=i.resize(d,a);h.push(j),j.then(function(a){b.splice(g,1,a)},function(a){d.$error="resize",(d.$errorMessages=d.$errorMessages||{}).resize=!0,d.$errorParam=(a?(a.message?a.message:a)+": ":"")+(d&&d.name),f.$ngfValidations.push({name:"resize",valid:!1}),i.applyModelValidation(f,b)})}}(b[j],j);return d.all(h)}var i=e;return i.getAttrWithDefaults=function(a,b){if(null!=a[b])return a[b];var c=i.defaults[b];return null==c?c:angular.isString(c)?c:JSON.stringify(c)},i.attrGetter=function(b,c,d,e){var f=this.getAttrWithDefaults(c,b);if(!d)return f;try{return e?a(f)(d,e):a(f)(d)}catch(g){if(b.search(/min|max|pattern/i))return f;throw g}},i.shouldUpdateOn=function(a,b,c){var d=i.attrGetter("ngfModelOptions",b,c);return!d||!d.updateOn||d.updateOn.split(" ").indexOf(a)>-1},i.emptyPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.resolve.apply(a,c)}),a.promise},i.rejectPromise=function(){var a=d.defer(),c=arguments;return b(function(){a.reject.apply(a,c)}),a.promise},i.happyPromise=function(a,c){var e=d.defer();return a.then(function(a){e.resolve(a)},function(a){b(function(){throw a}),e.resolve(c)}),e.promise},i.updateModel=function(c,d,e,h,j,k,l){function m(f,g,j,l,m){d.$$ngfPrevValidFiles=f,d.$$ngfPrevInvalidFiles=g;var n=f&&f.length?f[0]:null,o=g&&g.length?g[0]:null;c&&(i.applyModelValidation(c,f),c.$setViewValue(m?n:f)),h&&a(h)(e,{$files:f,$file:n,$newFiles:j,$duplicateFiles:l,$invalidFiles:g,$invalidFile:o,$event:k});var p=i.attrGetter("ngfModelInvalid",d);p&&b(function(){a(p).assign(e,m?o:g)}),b(function(){})}function p(){function a(){b(function(){m(w?r.concat(v):v,w?s.concat(u):u,j,t,x)},z&&z.debounce?z.debounce.change||z.debounce:0)}var f=y?q:v;g(f,d,e,c).then(function(){y?i.validate(q,w?r.length:0,c,d,e).then(function(b){v=b.validsFiles,u=b.invalidsFiles,a()}):a()},function(){for(var b=0;b<f.length;b++){var c=f[b];if("resize"===c.$error){var d=v.indexOf(c);d>-1&&(v.splice(d,1),u.push(c)),a()}}})}var q,r,s,t=[],u=[],v=[];r=d.$$ngfPrevValidFiles||[],s=d.$$ngfPrevInvalidFiles||[],c&&c.$modelValue&&(r=function(a){return angular.isArray(a)?a:[a]}(c.$modelValue));var w=i.attrGetter("ngfKeep",d,e);q=(j||[]).slice(0),("distinct"===w||!0===i.attrGetter("ngfKeepDistinct",d,e))&&function(){function a(a,b){return a.name===b.name&&(a.$ngfOrigSize||a.size)===(b.$ngfOrigSize||b.size)&&a.type===b.type}if(j){q=[],t=[];for(var c=0;c<j.length;c++)!function(b){var c;for(c=0;c<r.length;c++)if(a(b,r[c]))return!0;for(c=0;c<s.length;c++)if(a(b,s[c]))return!0;return!1}(j[c])?q.push(j[c]):t.push(j[c])}}();var x=!w&&!i.attrGetter("ngfMultiple",d,e)&&!i.attrGetter("multiple",d);if(!w||q.length){i.attrGetter("ngfBeforeModelChange",d,e,{$files:j,$file:j&&j.length?j[0]:null,$newFiles:q,$duplicateFiles:t,$event:k});var y=i.attrGetter("ngfValidateAfterResize",d,e),z=i.attrGetter("ngfModelOptions",d,e);i.validate(q,w?r.length:0,c,d,e).then(function(a){l?m(q,[],j,t,x):(z&&z.allowInvalid||y?v=q:(v=a.validFiles,u=a.invalidFiles),i.attrGetter("ngfFixOrientation",d,e)&&i.isExifSupported()?f(v,d,e).then(function(){p()}):p())})}},i}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(a,b,c,d){function e(a){var b=a.match(/Android[^\d]*(\d+)\.(\d+)/);if(b&&b.length>2){var c=d.defaults.androidFixMinorVersion||4;return parseInt(b[1])<4||parseInt(b[1])===c&&parseInt(b[2])<c}return-1===a.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(a)}function f(a,b,c,d,f,h,i,j){function k(){return"input"===b[0].tagName.toLowerCase()&&c.type&&"file"===c.type.toLowerCase()}function l(){return t("ngfChange")||t("ngfSelect")}function m(b){if(j.shouldUpdateOn("change",c,a)){var e=b.__files_||b.target&&b.target.files,f=[];if(!e)return;for(var g=0;g<e.length;g++)f.push(e[g]);j.updateModel(d,c,a,l(),f.length?f:null,b)}}function n(a,d){function e(b){a.attr("id","ngf-"+b),d.attr("id","ngf-label-"+b)}for(var f=0;f<b[0].attributes.length;f++){var g=b[0].attributes[f];"type"!==g.name&&"class"!==g.name&&"style"!==g.name&&("id"===g.name?(e(g.value),u.push(c.$observe("id",e))):a.attr(g.name,g.value||"required"!==g.name&&"multiple"!==g.name?g.value:g.name))}}function q(a){var b=a.changedTouches||a.originalEvent&&a.originalEvent.changedTouches;if(b){if("touchstart"===a.type)return w=b[0].clientX,v=b[0].clientY,!0;if("touchend"===a.type){var c=b[0].clientX,d=b[0].clientY;if(Math.abs(c-w)>20||Math.abs(d-v)>20)return a.stopPropagation(),a.preventDefault(),!1}return!0}}function r(b){j.shouldUpdateOn("click",c,a)&&x.val()&&(x.val(null),j.updateModel(d,c,a,l(),null,b,!0))}function s(a){if(x&&!x.attr("__ngf_ie10_Fix_")){if(!x[0].parentNode)return void(x=null);a.preventDefault(),a.stopPropagation(),x.unbind("click");var b=x.clone();return x.replaceWith(b),(x=b).attr("__ngf_ie10_Fix_","true"),x.bind("change",m),x.bind("click",s),x[0].click(),!1}x.removeAttr("__ngf_ie10_Fix_")}var t=function(a,b){return j.attrGetter(a,c,b)};j.registerModelChangeValidator(d,c,a);var u=[];t("ngfMultiple")&&u.push(a.$watch(t("ngfMultiple"),function(){x.attr("multiple",t("ngfMultiple",a))})),t("ngfCapture")&&u.push(a.$watch(t("ngfCapture"),function(){x.attr("capture",t("ngfCapture",a))})),t("ngfAccept")&&u.push(a.$watch(t("ngfAccept"),function(){x.attr("accept",t("ngfAccept",a))})),u.push(c.$observe("accept",function(){x.attr("accept",t("accept"))}));var v=0,w=0,x=b;k()||(x=function(){if(k())return b;var a=angular.element('<input type="file">'),c=angular.element("<label>upload</label>");return c.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),n(a,c),g.push({el:b,ref:c}),document.body.appendChild(c.append(a)[0]),a}()),x.bind("change",m),k()?b.bind("click",r):b.bind("click touchstart touchend",function(c){if(b.attr("disabled"))return!1;if(!t("ngfSelectDisabled",a)){var d=q(c);if(null!=d)return d;r(c);try{k()||document.body.contains(x[0])||(g.push({el:b,ref:x.parent()}),document.body.appendChild(x.parent()[0]),x.bind("change",m))}catch(f){}return e(navigator.userAgent)?setTimeout(function(){x[0].click()},0):x[0].click(),!1}}),-1!==navigator.appVersion.indexOf("MSIE 10")&&x.bind("click",s),d&&d.$formatters.push(function(a){return(null==a||0===a.length)&&x.val()&&x.val(null),a}),a.$on("$destroy",function(){k()||x.parent().remove(),angular.forEach(u,function(a){a()})}),h(function(){for(var a=0;a<g.length;a++){var b=g[a];document.body.contains(b.el[0])||(g.splice(a,1),b.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(b,x,m)}var g=[];return{restrict:"AEC",require:"?ngModel",link:function(e,g,h,i){f(e,g,h,i,0,b,0,d)}}}]),function(){function a(a){return"img"===a.tagName.toLowerCase()?"image":"audio"===a.tagName.toLowerCase()?"audio":"video"===a.tagName.toLowerCase()?"video":/./}function b(b,c,d,e,f,g,h,i){function j(a){var g=b.attrGetter("ngfNoObjectUrl",f,d);b.dataUrl(a,g).finally(function(){c(function(){var b=(g?a.$ngfDataUrl:a.$ngfBlobUrl)||a.$ngfDataUrl;i?e.css("background-image","url('"+(b||"")+"')"):e.attr("src",b),b?e.removeClass("ng-hide"):e.addClass("ng-hide")})})}c(function(){var c=d.$watch(f[g],function(c){var k=h;if("ngfThumbnail"===g&&(k||(k={width:e[0].naturalWidth||e[0].clientWidth,height:e[0].naturalHeight||e[0].clientHeight}),0===k.width&&window.getComputedStyle)){var l=getComputedStyle(e[0]);l.width&&l.width.indexOf("px")>-1&&l.height&&l.height.indexOf("px")>-1&&(k={width:parseInt(l.width.slice(0,-2)),height:parseInt(l.height.slice(0,-2))})}return angular.isString(c)?(e.removeClass("ng-hide"),i?e.css("background-image","url('"+c+"')"):e.attr("src",c)):void(!c||!c.type||0!==c.type.search(a(e[0]))||i&&0!==c.type.indexOf("image")?e.addClass("ng-hide"):k&&b.isResizeSupported()?(k.resizeIf=function(a,e){return b.attrGetter("ngfResizeIf",f,d,{$width:a,$height:e,$file:c})},b.resize(c,k).then(function(a){j(a)},function(a){throw a})):j(c))});d.$on("$destroy",function(){c()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(a,b,c){var d=a;return d.base64DataUrl=function(a){if(angular.isArray(a)){var b=c.defer(),e=0;return angular.forEach(a,function(c){d.dataUrl(c,!0).finally(function(){if(++e===a.length){var c=[];angular.forEach(a,function(a){c.push(a.$ngfDataUrl)}),b.resolve(c,a)}})}),b.promise}return d.dataUrl(a,!0)},d.dataUrl=function(a,e){if(!a)return d.emptyPromise(a,a);if(e&&null!=a.$ngfDataUrl||!e&&null!=a.$ngfBlobUrl)return d.emptyPromise(e?a.$ngfDataUrl:a.$ngfBlobUrl,a);var f=e?a.$$ngfDataUrlPromise:a.$$ngfBlobUrlPromise;if(f)return f;var g=c.defer();return b(function(){if(window.FileReader&&a&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||a.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||a.size<4e6)){var c=window.URL||window.webkitURL;if(c&&c.createObjectURL&&!e){var f;try{f=c.createObjectURL(a)}catch(h){return void b(function(){a.$ngfBlobUrl="",g.reject()})}b(function(){if(a.$ngfBlobUrl=f,f){g.resolve(f,a),d.blobUrls=d.blobUrls||[],d.blobUrlsTotalSize=d.blobUrlsTotalSize||0,d.blobUrls.push({url:f,size:a.size}),d.blobUrlsTotalSize+=a.size||0;for(var b=d.defaults.blobUrlsMaxMemory||268435456,e=d.defaults.blobUrlsMaxQueueSize||200;(d.blobUrlsTotalSize>b||d.blobUrls.length>e)&&d.blobUrls.length>1;){var h=d.blobUrls.splice(0,1)[0];c.revokeObjectURL(h.url),d.blobUrlsTotalSize-=h.size}}})}else{var i=new FileReader;i.onload=function(c){b(function(){a.$ngfDataUrl=c.target.result,g.resolve(c.target.result,a),b(function(){delete a.$ngfDataUrl},1e3)})},i.onerror=function(){b(function(){a.$ngfDataUrl="",g.reject()})},i.readAsDataURL(a)}}else b(function(){a[e?"$ngfDataUrl":"$ngfBlobUrl"]="",g.reject()})}),(f=e?a.$$ngfDataUrlPromise=g.promise:a.$$ngfBlobUrlPromise=g.promise).finally(function(){delete a[e?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),f},d}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfSrc",a.attrGetter("ngfResize",f,d),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){b(a,c,d,e,f,"ngfBackground",a.attrGetter("ngfResize",f,d),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(a,c){return{restrict:"AE",link:function(d,e,f){var g=a.attrGetter("ngfSize",f,d);b(a,c,d,e,f,"ngfThumbnail",g,a.attrGetter("ngfAsBackground",f,d))}}}]),ngFileUpload.config(["$compileProvider",function(a){a.imgSrcSanitizationWhitelist&&a.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),a.aHrefSanitizationWhitelist&&a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(a,b){return function(c,d,e){if(angular.isString(c))return b.trustAsResourceUrl(c);var f=c&&((d?c.$ngfDataUrl:c.$ngfBlobUrl)||c.$ngfDataUrl);return c&&!f?(!c.$ngfDataUrlFilterInProgress&&angular.isObject(c)&&(c.$ngfDataUrlFilterInProgress=!0,a.dataUrl(c,d)),""):(c&&delete c.$ngfDataUrlFilterInProgress,(c&&f?e?b.trustAsResourceUrl(f):f:c)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(a,b,c){function d(a){var b="",c=[];if(a.length>2&&"/"===a[0]&&"/"===a[a.length-1])b=a.substring(1,a.length-1);else{var e=a.split(",");if(e.length>1)for(var f=0;f<e.length;f++){var g=d(e[f]);g.regexp?(b+="("+g.regexp+")",f<e.length-1&&(b+="|")):c=c.concat(g.excludes)}else 0===a.indexOf("!")?c.push("^((?!"+d(a.substring(1)).regexp+").)*$"):(0===a.indexOf(".")&&(a="*"+a),b="^"+a.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",b=b.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:b,excludes:c}}function e(a,b){null==b||a.$dirty||(a.$setDirty?a.$setDirty():a.$dirty=!0)}var f=a;return f.validatePattern=function(a,b){if(!b)return!0;var c=d(b),e=!0;if(c.regexp&&c.regexp.length){var f=new RegExp(c.regexp,"i");e=null!=a.type&&f.test(a.type)||null!=a.name&&f.test(a.name)}for(var g=c.excludes.length;g--;){var h=new RegExp(c.excludes[g],"i");e=e&&(null==a.type||h.test(a.type))&&(null==a.name||h.test(a.name))}return e},f.ratioToFloat=function(a){var b=a.toString(),c=b.search(/[x:]/i);return b=c>-1?parseFloat(b.substring(0,c))/parseFloat(b.substring(c+1)):parseFloat(b)},f.registerModelChangeValidator=function(a,b,c){a&&a.$formatters.push(function(d){if(a.$dirty){var e=d;d&&!angular.isArray(d)&&(e=[d]),f.validate(e,0,a,b,c).then(function(){f.applyModelValidation(a,e)})}return d})},f.applyModelValidation=function(a,b){e(a,b),angular.forEach(a.$ngfValidations,function(b){a.$setValidity(b.name,b.valid)})},f.getValidationAttr=function(a,b,c,d,e){var g="ngf"+c[0].toUpperCase()+c.substr(1),h=f.attrGetter(g,a,b,{$file:e});if(null==h&&(h=f.attrGetter("ngfValidate",a,b,{$file:e}))){var i=(d||c).split(".");h=h[i[0]],i.length>1&&(h=h&&h[i[1]])}return h},f.validate=function(a,c,d,e,g){function h(b,c,h){if(a){for(var i=a.length,j=null;i--;){var n=a[i];if(n){var o=f.getValidationAttr(e,g,b,c,n);null!=o&&(h(n,o,i)||(-1===k.indexOf(b)?(n.$error=b,(n.$errorMessages=n.$errorMessages||{})[b]=!0,n.$errorParam=o,-1===m.indexOf(n)&&m.push(n),l||a.splice(i,1),j=!1):a.splice(i,1)))}}null!==j&&d.$ngfValidations.push({name:b,valid:j})}}function i(c,h,i,n,o){function p(b,d,e){function f(f){if(f())if(-1===k.indexOf(c)){if(d.$error=c,(d.$errorMessages=d.$errorMessages||{})[c]=!0,d.$errorParam=e,-1===m.indexOf(d)&&m.push(d),!l){var g=a.indexOf(d);g>-1&&a.splice(g,1)}b.resolve(!1)}else{var h=a.indexOf(d);h>-1&&a.splice(h,1),b.resolve(!0)}else b.resolve(!0)}null!=e?n(d,e).then(function(a){f(function(){return!o(a,e)})},function(){f(function(){return j("ngfValidateForce",{$file:d})})}):b.resolve(!0)}var q=[f.emptyPromise(!0)];a&&(a=void 0===a.length?[a]:a,angular.forEach(a,function(a){var d=b.defer();return q.push(d.promise),!i||null!=a.type&&0===a.type.search(i)?void("dimensions"===c&&null!=f.attrGetter("ngfDimensions",e)?f.imageDimensions(a).then(function(b){p(d,a,j("ngfDimensions",{$file:a,$width:b.width,$height:b.height}))},function(){d.resolve(!1)}):"duration"===c&&null!=f.attrGetter("ngfDuration",e)?f.mediaDuration(a).then(function(b){p(d,a,j("ngfDuration",{$file:a,$duration:b}))},function(){d.resolve(!1)}):p(d,a,f.getValidationAttr(e,g,c,h,a))):void d.resolve(!0)}));var r=b.defer();return b.all(q).then(function(a){for(var b=!0,e=0;e<a.length;e++)if(!a[e]){b=!1;break}d.$ngfValidations.push({name:c,valid:b}),r.resolve(b)}),r.promise}(d=d||{}).$ngfValidations=d.$ngfValidations||[],angular.forEach(d.$ngfValidations,function(a){a.valid=!0});var j=function(a,b){return f.attrGetter(a,e,g,b)},k=(f.attrGetter("ngfIgnoreInvalid",e,g)||"").split(" "),l=f.attrGetter("ngfRunAllValidations",e,g);if(null==a||0===a.length)return f.emptyPromise({validFiles:a,invalidFiles:[]});a=void 0===a.length?[a]:a.slice(0);var m=[];h("pattern",null,f.validatePattern),h("minSize","size.min",function(a,b){return a.size+.1>=f.translateScalars(b)}),h("maxSize","size.max",function(a,b){return a.size-.1<=f.translateScalars(b)});var n=0;if(h("maxTotalSize",null,function(b,c){return!((n+=b.size)>f.translateScalars(c)&&(a.splice(0,a.length),1))}),h("validateFn",null,function(a,b){return!0===b||null===b||""===b}),!a.length)return f.emptyPromise({validFiles:[],invalidFiles:m});var o=b.defer(),p=[];return p.push(i("maxHeight","height.max",/image/,this.imageDimensions,function(a,b){return a.height<=b})),p.push(i("minHeight","height.min",/image/,this.imageDimensions,function(a,b){return a.height>=b})),p.push(i("maxWidth","width.max",/image/,this.imageDimensions,function(a,b){return a.width<=b})),p.push(i("minWidth","width.min",/image/,this.imageDimensions,function(a,b){return a.width>=b})),p.push(i("dimensions",null,/image/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("ratio",null,/image/,this.imageDimensions,function(a,b){for(var c=b.toString().split(","),d=!1,e=0;e<c.length;e++)Math.abs(a.width/a.height-f.ratioToFloat(c[e]))<.01&&(d=!0);return d})),p.push(i("maxRatio","ratio.max",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)<1e-4})),p.push(i("minRatio","ratio.min",/image/,this.imageDimensions,function(a,b){return a.width/a.height-f.ratioToFloat(b)>-1e-4})),p.push(i("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(a,b){return a<=f.translateScalars(b)})),p.push(i("minDuration","duration.min",/audio|video/,this.mediaDuration,function(a,b){return a>=f.translateScalars(b)})),p.push(i("duration",null,/audio|video/,function(a,b){return f.emptyPromise(b)},function(a){return a})),p.push(i("validateAsyncFn",null,null,function(a,b){return b},function(a){return!0===a||null===a||""===a})),b.all(p).then(function(){if(l)for(var b=0;b<a.length;b++)a[b].$error&&a.splice(b--,1);l=!1,h("maxFiles",null,function(a,b,d){return b>c+d}),o.resolve({validFiles:a,invalidFiles:m})}),o.promise},f.imageDimensions=function(a){if(a.$ngfWidth&&a.$ngfHeight){var d=b.defer();return c(function(){d.resolve({width:a.$ngfWidth,height:a.$ngfHeight})}),d.promise}if(a.$ngfDimensionPromise)return a.$ngfDimensionPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("image")?void e.reject("not image"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].naturalWidth||h[0].clientWidth,c=h[0].naturalHeight||h[0].clientHeight;h.remove(),a.$ngfWidth=b,a.$ngfHeight=c,e.resolve({width:b,height:c})}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].clientWidth?d():i++>10?f():g())},1e3)}var h=angular.element("<img>").attr("src",b).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");h.on("load",d),h.on("error",f);var i=0;g(),angular.element(document.getElementsByTagName("body")[0]).append(h)},function(){e.reject("load error")})}),a.$ngfDimensionPromise=e.promise,a.$ngfDimensionPromise.finally(function(){delete a.$ngfDimensionPromise}),a.$ngfDimensionPromise},f.mediaDuration=function(a){if(a.$ngfDuration){var d=b.defer();return c(function(){d.resolve(a.$ngfDuration)}),d.promise}if(a.$ngfDurationPromise)return a.$ngfDurationPromise;var e=b.defer();return c(function(){return 0!==a.type.indexOf("audio")&&0!==a.type.indexOf("video")?void e.reject("not media"):void f.dataUrl(a).then(function(b){function d(){var b=h[0].duration;a.$ngfDuration=b,h.remove(),e.resolve(b)}function f(){h.remove(),e.reject("load error")}function g(){c(function(){h[0].parentNode&&(h[0].duration?d():i>10?f():g())},1e3)}var h=angular.element(0===a.type.indexOf("audio")?"<audio>":"<video>").attr("src",b).css("visibility","none").css("position","fixed");h.on("loadedmetadata",d),h.on("error",f);var i=0;g(),angular.element(document.body).append(h)},function(){e.reject("load error")})}),a.$ngfDurationPromise=e.promise,a.$ngfDurationPromise.finally(function(){delete a.$ngfDurationPromise}),a.$ngfDurationPromise},f}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(a,b){var c=a,d=function(a,b,c,d,e){var f=e?Math.max(c/a,d/b):Math.min(c/a,d/b);return{width:a*f,height:b*f,marginX:a*f-c,marginY:b*f-d}},e=function(a,e,f,g,h,i,j,k){var l=b.defer(),m=document.createElement("canvas"),n=document.createElement("img");return n.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(n),n.onload=function(){var a=n.width,b=n.height;if(n.parentNode.removeChild(n),null==k||!1!==k(a,b))try{if(i){var o=c.ratioToFloat(i);o>a/b?(e=a,f=e/o):(f=b,e=f*o)}e||(e=a),f||(f=b);var q=d(a,b,e,f,j);m.width=Math.min(q.width,e),m.height=Math.min(q.height,f),m.getContext("2d").drawImage(n,Math.min(0,-q.marginX/2),Math.min(0,-q.marginY/2),q.width,q.height),l.resolve(m.toDataURL(h||"image/WebP",g||.934))}catch(s){l.reject(s)}else l.reject("resizeIf")},n.onerror=function(){n.parentNode.removeChild(n),l.reject()},n.src=a,l.promise};return c.dataUrltoBlob=function(a,b,c){for(var d=a.split(","),e=d[0].match(/:(.*?);/)[1],f=atob(d[1]),g=f.length,h=new Uint8Array(g);g--;)h[g]=f.charCodeAt(g);var i=new window.Blob([h],{type:e});return i.name=b,i.$ngfOrigSize=c,i},c.isResizeSupported=function(){var a=document.createElement("canvas");return window.atob&&a.getContext&&a.getContext("2d")&&window.Blob},c.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(a){this.$ngfName=a},configurable:!0}),c.resize=function(a,d){if(0!==a.type.indexOf("image"))return c.emptyPromise(a);var f=b.defer();return c.dataUrl(a,!0).then(function(b){e(b,d.width,d.height,d.quality,d.type||a.type,d.ratio,d.centerCrop,d.resizeIf).then(function(e){if("image/jpeg"===a.type&&!1!==d.restoreExif)try{e=c.restoreExif(b,e)}catch(g){setTimeout(function(){throw g},1)}try{var h=c.dataUrltoBlob(e,a.name,a.size);f.resolve(h)}catch(g){f.reject(g)}},function(b){"resizeIf"===b&&f.resolve(a),f.reject(b)})},function(a){f.reject(a)}),f.promise},c}]),function(){function a(a,c,d,e,f,g,h,i,j,k){function l(){return c.attr("disabled")||s("ngfDropDisabled",a)}function m(b,c,d){if(b){var e;try{e=b&&b.getData&&b.getData("text/html")}catch(f){}q(b.items,b.files,!1!==s("ngfAllowDir",a),s("multiple")||s("ngfMultiple",a)).then(function(a){a.length?n(a,c):o(d,e).then(function(a){n(a,c)})})}}function n(b,c){i.updateModel(e,d,a,s("ngfChange")||s("ngfDrop"),b,c)}function o(b,c){if(!i.shouldUpdateOn(b,d,a)||"string"!=typeof c)return i.rejectPromise([]);var e=[];c.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(a,b,c){e.push(c)});var f=[],g=[];if(e.length){angular.forEach(e,function(a){f.push(i.urlToBlob(a).then(function(a){g.push(a)}))});var h=k.defer();return k.all(f).then(function(){h.resolve(g)},function(a){h.reject(a)}),h.promise}return i.emptyPromise()}function p(a,b,c,d){var e=s("ngfDragOverClass",a,{$event:c}),f="dragover";if(angular.isString(e))f=e;else if(e&&(e.delay&&(w=e.delay),e.accept||e.reject)){var g=c.dataTransfer.items;if(null!=g&&g.length)for(var h=e.pattern||s("ngfPattern",a,{$event:c}),j=g.length;j--;){if(!i.validatePattern(g[j],h)){f=e.reject;break}f=e.accept}else f=e.accept}d(f)}function q(b,c,e,f){function g(a,b){var c=k.defer();if(null!=a)if(a.isDirectory){var d=[i.emptyPromise()];if(m){var e={type:"directory"};e.name=e.path=(b||"")+a.name,n.push(e)}var f=a.createReader(),h=[],p=function(){f.readEntries(function(e){try{e.length?(h=h.concat(Array.prototype.slice.call(e||[],0)),p()):(angular.forEach(h.slice(0),function(c){n.length<=j&&l>=o&&d.push(g(c,(b||"")+a.name+"/"))}),k.all(d).then(function(){c.resolve()},function(a){c.reject(a)}))}catch(f){c.reject(f)}},function(a){c.reject(a)})};p()}else a.file(function(a){try{a.path=(b||"")+a.name,m&&(a=i.rename(a,a.path)),n.push(a),o+=a.size,c.resolve()}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise}var j=i.getValidationAttr(d,a,"maxFiles");null==j&&(j=Number.MAX_VALUE);var l=i.getValidationAttr(d,a,"maxTotalSize");null==l&&(l=Number.MAX_VALUE);var m=s("ngfIncludeDir",a),n=[],o=0,p=[i.emptyPromise()];if(b&&b.length>0&&"file:"!==h.location.protocol)for(var q=0;q<b.length;q++){if(b[q].webkitGetAsEntry&&b[q].webkitGetAsEntry()&&b[q].webkitGetAsEntry().isDirectory){var r=b[q].webkitGetAsEntry();if(r.isDirectory&&!e)continue;null!=r&&p.push(g(r))}else{var t=b[q].getAsFile();null!=t&&(n.push(t),o+=t.size)}if(n.length>j||o>l||!f&&n.length>0)break}else if(null!=c)for(var u=0;u<c.length;u++){var v=c.item(u);if((v.type||v.size>0)&&(n.push(v),o+=v.size),n.length>j||o>l||!f&&n.length>0)break}var w=k.defer();return k.all(p).then(function(){if(f||m||!n.length)w.resolve(n);else{for(var a=0;n[a]&&"directory"===n[a].type;)a++;w.resolve([n[a]])}},function(a){w.reject(a)}),w.promise}var r=b(),s=function(a,b,c){return i.attrGetter(a,d,b,c)};if(s("dropAvailable")&&g(function(){a[s("dropAvailable")]?a[s("dropAvailable")].value=r:a[s("dropAvailable")]=r}),r){null==s("ngfSelect")&&i.registerModelChangeValidator(e,d,a);var t,u=null,v=f(s("ngfStopPropagation")),w=1;c[0].addEventListener("dragover",function(b){if(!l()&&i.shouldUpdateOn("drop",d,a)){if(b.preventDefault(),v(a)&&b.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var e=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect="move"===e||"linkMove"===e?"move":"copy"}g.cancel(u),t||(t="C",p(a,0,b,function(d){t=d,c.addClass(t),s("ngfDrag",a,{$isDragging:!0,$class:t,$event:b})}))}},!1),c[0].addEventListener("dragenter",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation())},!1),c[0].addEventListener("dragleave",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),u=g(function(){t&&c.removeClass(t),t=null,s("ngfDrag",a,{$isDragging:!1,$event:b})},w||100))},!1),c[0].addEventListener("drop",function(b){!l()&&i.shouldUpdateOn("drop",d,a)&&(b.preventDefault(),v(a)&&b.stopPropagation(),t&&c.removeClass(t),t=null,m(b.dataTransfer,b,"dropUrl"))},!1),c[0].addEventListener("paste",function(b){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&b.preventDefault(),!l()&&i.shouldUpdateOn("paste",d,a)&&m(b.clipboardData||b.originalEvent.clipboardData,b,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&s("ngfEnableFirefoxPaste",a)&&(c.attr("contenteditable",!0),c.on("keypress",function(a){a.metaKey||a.ctrlKey||a.preventDefault()}))}else!0===s("ngfHideOnDropNotAvailable",a)&&c.css("display","none")}function b(){var a=document.createElement("div");return"draggable"in a&&"ondrop"in a&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(b,c,d,e,f,g){return{restrict:"AEC",require:"?ngModel",link:function(h,i,j,k){a(h,i,j,k,b,c,d,e,0,g)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(a,c){b()&&c.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(a,c,d){return function(e,f,g){if(b()){var h=a(d.attrGetter("ngfDropAvailable",g));c(function(){h(e),h.assign&&h.assign(e,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(a,b){function c(a,b,c,d){switch(b){case 2:return a.transform(-1,0,0,1,c,0);case 3:return a.transform(-1,0,0,-1,c,d);case 4:return a.transform(1,0,0,-1,0,d);case 5:return a.transform(0,1,1,0,0,0);case 6:return a.transform(0,1,-1,0,d,0);case 7:return a.transform(0,-1,-1,0,d,c);case 8:return a.transform(0,-1,1,0,0,c)}}function d(a){for(var b="",c=new Uint8Array(a),d=c.byteLength,e=0;d>e;e++)b+=String.fromCharCode(c[e]);return window.btoa(b)}var e=a;return e.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&e.isResizeSupported()},e.readOrientation=function(a){var c=b.defer(),d=new FileReader,e=a.slice?a.slice(0,65536):a;return d.readAsArrayBuffer(e),d.onerror=function(a){return c.reject(a)},d.onload=function(a){var b={orientation:1},d=new DataView(this.result);if(65496!==d.getUint16(0,!1))return c.resolve(b);for(var e=d.byteLength,f=2;e>f;){var g=d.getUint16(f,!1);if(f+=2,65505===g){if(1165519206!==d.getUint32(f+=2,!1))return c.resolve(b);var h=18761===d.getUint16(f+=6,!1);f+=d.getUint32(f+4,h);var i=d.getUint16(f,h);f+=2;for(var j=0;i>j;j++)if(274===d.getUint16(f+12*j,h)){var k=d.getUint16(f+12*j+8,h);return k>=2&&8>=k&&(d.setUint16(f+12*j+8,1,h),b.fixedArrayBuffer=a.target.result),b.orientation=k,c.resolve(b)}}else{if(65280!=(65280&g))break;f+=d.getUint16(f,!1)}}return c.resolve(b)},c.promise},e.applyExifRotation=function(a){if(0!==a.type.indexOf("image/jpeg"))return e.emptyPromise(a);var f=b.defer();return e.readOrientation(a).then(function(b){return b.orientation<2||b.orientation>8?f.resolve(a):void e.dataUrl(a,!0).then(function(g){var h=document.createElement("canvas"),i=document.createElement("img");i.onload=function(){try{h.width=b.orientation>4?i.height:i.width,h.height=b.orientation>4?i.width:i.height;var g=h.getContext("2d");c(g,b.orientation,i.width,i.height),g.drawImage(i,0,0);var j=h.toDataURL(a.type||"image/WebP",.934);j=e.restoreExif(d(b.fixedArrayBuffer),j);var k=e.dataUrltoBlob(j,a.name);f.resolve(k)}catch(l){return f.reject(l)}},i.onerror=function(){f.reject()},i.src=g},function(a){f.reject(a)})},function(a){f.reject(a)}),f.promise},e.restoreExif=function(a,b){var c={};return c.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c.encode64=function(a){var b,c,d,e,f,g="",h="",i="",j=0;do{b=a[j++],c=a[j++],h=a[j++],d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(e)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(i),b=c=h="",d=e=f=i=""}while(j<a.length);return g},c.restore=function(a,b){a.match("data:image/jpeg;base64,")&&(a=a.replace("data:image/jpeg;base64,",""));var c=this.decode64(a),d=this.slice2Segments(c),e=this.exifManipulation(b,d);return"data:image/jpeg;base64,"+this.encode64(e)},c.exifManipulation=function(a,b){var c=this.getExifArray(b),d=this.insertExif(a,c);return new Uint8Array(d)},c.getExifArray=function(a){for(var b,c=0;c<a.length;c++)if(255===(b=a[c])[0]&225===b[1])return b;return[]},c.insertExif=function(a,b){var c=a.replace("data:image/jpeg;base64,",""),d=this.decode64(c),e=d.indexOf(255,3),f=d.slice(0,e),g=d.slice(e),h=f;return h=h.concat(b),h=h.concat(g)},c.slice2Segments=function(a){for(var b=0,c=[];!(255===a[b]&218===a[b+1]);){if(255===a[b]&216===a[b+1])b+=2;else{var e=b+(256*a[b+2]+a[b+3])+2,f=a.slice(b,e);c.push(f),b=e}if(b>a.length)break}return c},c.decode64=function(a){var b,c,d,e,f,g="",h="",i=0,j=[];/[^A-Za-z0-9\+\/\=]/g.exec(a)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{d=this.KEY_STR.indexOf(a.charAt(i++)),e=this.KEY_STR.indexOf(a.charAt(i++)),f=this.KEY_STR.indexOf(a.charAt(i++)),h=this.KEY_STR.indexOf(a.charAt(i++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,g=(3&f)<<6|h,j.push(b),64!==f&&j.push(c),64!==h&&j.push(g),b=c=g="",d=e=f=h=""}while(i<a.length);return j},c.restore(a,b)},e}]),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.NProgress=factory()}(this,function(){function clamp(n,min,max){return n<min?min:n>max?max:n}function toBarPerc(n){return 100*(-1+n)}function barPositionCSS(n,speed,ease){var barCSS;return barCSS="translate3d"===Settings.positionUsing?{transform:"translate3d("+toBarPerc(n)+"%,0,0)"}:"translate"===Settings.positionUsing?{transform:"translate("+toBarPerc(n)+"%,0)"}:{"margin-left":toBarPerc(n)+"%"},barCSS.transition="all "+speed+"ms "+ease,barCSS}function hasClass(element,name){return("string"==typeof element?element:classList(element)).indexOf(" "+name+" ")>=0}function addClass(element,name){var oldList=classList(element),newList=oldList+name;hasClass(oldList,name)||(element.className=newList.substring(1))}function removeClass(element,name){var newList,oldList=classList(element);hasClass(element,name)&&(newList=oldList.replace(" "+name+" "," "),element.className=newList.substring(1,newList.length-1))}function classList(element){return(" "+(element.className||"")+" ").replace(/\s+/gi," ")}function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element)}var NProgress={};NProgress.version="0.2.0";var Settings=NProgress.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};NProgress.configure=function(options){var key,value;for(key in options)void 0!==(value=options[key])&&options.hasOwnProperty(key)&&(Settings[key]=value);return this},NProgress.status=null,NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1),NProgress.status=1===n?null:n;var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;return progress.offsetWidth,queue(function(next){""===Settings.positionUsing&&(Settings.positionUsing=NProgress.getPositioningCSS()),css(bar,barPositionCSS(n,speed,ease)),1===n?(css(progress,{transition:"none",opacity:1}),progress.offsetWidth,setTimeout(function(){css(progress,{transition:"all "+speed+"ms linear",opacity:0}),setTimeout(function(){NProgress.remove(),next()},speed)},speed)):setTimeout(next,speed)}),this},NProgress.isStarted=function(){return"number"==typeof NProgress.status},NProgress.start=function(){NProgress.status||NProgress.set(0);var work=function(){setTimeout(function(){NProgress.status&&(NProgress.trickle(),work())},Settings.trickleSpeed)};return Settings.trickle&&work(),this},NProgress.done=function(force){return force||NProgress.status?NProgress.inc(.3+.5*Math.random()).set(1):this},NProgress.inc=function(amount){var n=NProgress.status;return n?("number"!=typeof amount&&(amount=(1-n)*clamp(Math.random()*n,.1,.95)),n=clamp(n+amount,0,.994),NProgress.set(n)):NProgress.start()},NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate)},function(){var initial=0,current=0;NProgress.promise=function($promise){return $promise&&"resolved"!==$promise.state()?(0===current&&NProgress.start(),initial++,current++,$promise.always(function(){0===--current?(initial=0,NProgress.done()):NProgress.set((initial-current)/initial)}),this):this}}(),NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById("nprogress");addClass(document.documentElement,"nprogress-busy");var progress=document.createElement("div");progress.id="nprogress",progress.innerHTML=Settings.template;var spinner,bar=progress.querySelector(Settings.barSelector),perc=fromStart?"-100":toBarPerc(NProgress.status||0),parent=document.querySelector(Settings.parent);return css(bar,{transition:"all 0 linear",transform:"translate3d("+perc+"%,0,0)"}),Settings.showSpinner||(spinner=progress.querySelector(Settings.spinnerSelector))&&removeElement(spinner),parent!=document.body&&addClass(parent,"nprogress-custom-parent"),parent.appendChild(progress),progress},NProgress.remove=function(){removeClass(document.documentElement,"nprogress-busy"),removeClass(document.querySelector(Settings.parent),"nprogress-custom-parent");var progress=document.getElementById("nprogress");progress&&removeElement(progress)},NProgress.isRendered=function(){return!!document.getElementById("nprogress")},NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style,vendorPrefix="WebkitTransform"in bodyStyle?"Webkit":"MozTransform"in bodyStyle?"Moz":"msTransform"in bodyStyle?"ms":"OTransform"in bodyStyle?"O":"";return vendorPrefix+"Perspective"in bodyStyle?"translate3d":vendorPrefix+"Transform"in bodyStyle?"translate":"margin"};var queue=function(){function next(){var fn=pending.shift();fn&&fn(next)}var pending=[];return function(fn){pending.push(fn),1==pending.length&&next()}}(),css=function(){function camelCase(string){return string.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase()})}function getVendorProp(name){var style=document.body.style;if(name in style)return name;for(var vendorName,i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1);i--;)if((vendorName=cssPrefixes[i]+capName)in style)return vendorName;return name}function getStyleProp(name){return name=camelCase(name),cssProps[name]||(cssProps[name]=getVendorProp(name))}function applyCss(element,prop,value){prop=getStyleProp(prop),element.style[prop]=value}var cssPrefixes=["Webkit","O","Moz","ms"],cssProps={};return function(element,properties){var prop,value,args=arguments;if(2==args.length)for(prop in properties)void 0!==(value=properties[prop])&&properties.hasOwnProperty(prop)&&applyCss(element,prop,value);else applyCss(element,args[1],args[2])}}();return NProgress}),function(global){"use strict";function circle(ctx,x,y,r){ctx.beginPath(),ctx.arc(x,y,r,0,TAU,!1),ctx.fill()}function line(ctx,ax,ay,bx,by){ctx.beginPath(),ctx.moveTo(ax,ay),ctx.lineTo(bx,by),ctx.stroke()}function puff(ctx,t,cx,cy,rx,ry,rmin,rmax){var c=Math.cos(t*TAU);circle(ctx,cx-Math.sin(t*TAU)*rx,cy+c*ry+.5*(rmax-=rmin),rmin+(1-.5*c)*rmax)}function puffs(ctx,t,cx,cy,rx,ry,rmin,rmax){var i;for(i=5;i--;)puff(ctx,t+i/5,cx,cy,rx,ry,rmin,rmax)}function cloud(ctx,t,cx,cy,cw,s,color){t/=3e4;var a=.21*cw,b=.12*cw,c=.24*cw,d=.28*cw;ctx.fillStyle=color,puffs(ctx,t,cx,cy,a,b,c,d),ctx.globalCompositeOperation="destination-out",puffs(ctx,t,cx,cy,a,b,c-s,d-s),ctx.globalCompositeOperation="source-over"}function sun(ctx,t,cx,cy,cw,s,color){t/=12e4;var i,p,cos,sin,a=.25*cw-.5*s,b=.32*cw+.5*s,c=.5*cw-.5*s;for(ctx.strokeStyle=color,ctx.lineWidth=s,ctx.lineCap="round",ctx.lineJoin="round",ctx.beginPath(),ctx.arc(cx,cy,a,0,TAU,!1),ctx.stroke(),i=8;i--;)p=(t+i/8)*TAU,line(ctx,cx+(cos=Math.cos(p))*b,cy+(sin=Math.sin(p))*b,cx+cos*c,cy+sin*c)}function moon(ctx,t,cx,cy,cw,s,color){t/=15e3;var a=.29*cw-.5*s,b=.05*cw,c=Math.cos(t*TAU),p=c*TAU/-16;ctx.strokeStyle=color,ctx.lineWidth=s,ctx.lineCap="round",ctx.lineJoin="round",cx+=c*b,ctx.beginPath(),ctx.arc(cx,cy,a,p+TAU/8,p+7*TAU/8,!1),ctx.arc(cx+Math.cos(p)*a*TWO_OVER_SQRT_2,cy+Math.sin(p)*a*TWO_OVER_SQRT_2,a,p+5*TAU/8,p+3*TAU/8,!0),ctx.closePath(),ctx.stroke()}function rain(ctx,t,cx,cy,cw,s,color){t/=1350;var i,p,x,y,a=.16*cw,b=11*TAU/12,c=7*TAU/12;for(ctx.fillStyle=color,i=4;i--;)p=(t+i/4)%1,x=cx+(i-1.5)/1.5*(1===i||2===i?-1:1)*a,y=cy+p*p*cw,ctx.beginPath(),ctx.moveTo(x,y-1.5*s),ctx.arc(x,y,.75*s,b,c,!1),ctx.fill()}function sleet(ctx,t,cx,cy,cw,s,color){t/=750;var i,p,x,y,a=.1875*cw;for(ctx.strokeStyle=color,ctx.lineWidth=.5*s,ctx.lineCap="round",ctx.lineJoin="round",i=4;i--;)p=(t+i/4)%1,line(ctx,x=Math.floor(cx+(i-1.5)/1.5*(1===i||2===i?-1:1)*a)+.5,(y=cy+p*cw)-1.5*s,x,y+1.5*s)}function snow(ctx,t,cx,cy,cw,s,color){var i,p,x,y,a=.16*cw,b=.75*s,u=(t/=3e3)*TAU*.7,ux=Math.cos(u)*b,uy=Math.sin(u)*b,v=u+TAU/3,vx=Math.cos(v)*b,vy=Math.sin(v)*b,w=u+2*TAU/3,wx=Math.cos(w)*b,wy=Math.sin(w)*b;for(ctx.strokeStyle=color,ctx.lineWidth=.5*s,ctx.lineCap="round",ctx.lineJoin="round",i=4;i--;)p=(t+i/4)%1,line(ctx,(x=cx+Math.sin((p+i/4)*TAU)*a)-ux,(y=cy+p*cw)-uy,x+ux,y+uy),line(ctx,x-vx,y-vy,x+vx,y+vy),line(ctx,x-wx,y-wy,x+wx,y+wy)}function fogbank(ctx,t,cx,cy,cw,s,color){t/=3e4;var a=.21*cw,b=.06*cw,c=.21*cw,d=.28*cw;ctx.fillStyle=color,puffs(ctx,t,cx,cy,a,b,c,d),ctx.globalCompositeOperation="destination-out",puffs(ctx,t,cx,cy,a,b,c-s,d-s),ctx.globalCompositeOperation="source-over"}function leaf(ctx,t,x,y,cw,s,color){var a=cw/8,b=a/3,c=2*b,d=t%1*TAU,e=Math.cos(d),f=Math.sin(d);ctx.fillStyle=color,ctx.strokeStyle=color,ctx.lineWidth=s,ctx.lineCap="round",ctx.lineJoin="round",ctx.beginPath(),ctx.arc(x,y,a,d,d+Math.PI,!1),ctx.arc(x-b*e,y-b*f,c,d+Math.PI,d,!1),ctx.arc(x+c*e,y+c*f,b,d+Math.PI,d,!0),ctx.globalCompositeOperation="destination-out",ctx.fill(),ctx.globalCompositeOperation="source-over",ctx.stroke()}function swoosh(ctx,t,cx,cy,cw,s,index,total,color){t/=2500;var b,d,f,i,path=WIND_PATHS[index],a=(t+index-WIND_OFFSETS[index].start)%total,c=(t+index-WIND_OFFSETS[index].end)%total,e=(t+index)%total;if(ctx.strokeStyle=color,ctx.lineWidth=s,ctx.lineCap="round",ctx.lineJoin="round",a<1){if(ctx.beginPath(),a*=path.length/2-1,b=Math.floor(a),a-=b,b*=2,b+=2,ctx.moveTo(cx+(path[b-2]*(1-a)+path[b]*a)*cw,cy+(path[b-1]*(1-a)+path[b+1]*a)*cw),c<1){for(c*=path.length/2-1,c-=d=Math.floor(c),d*=2,d+=2,i=b;i!==d;i+=2)ctx.lineTo(cx+path[i]*cw,cy+path[i+1]*cw);ctx.lineTo(cx+(path[d-2]*(1-c)+path[d]*c)*cw,cy+(path[d-1]*(1-c)+path[d+1]*c)*cw)}else for(i=b;i!==path.length;i+=2)ctx.lineTo(cx+path[i]*cw,cy+path[i+1]*cw);ctx.stroke()}else if(c<1){for(ctx.beginPath(),c*=path.length/2-1,c-=d=Math.floor(c),d*=2,d+=2,ctx.moveTo(cx+path[0]*cw,cy+path[1]*cw),i=2;i!==d;i+=2)ctx.lineTo(cx+path[i]*cw,cy+path[i+1]*cw);ctx.lineTo(cx+(path[d-2]*(1-c)+path[d]*c)*cw,cy+(path[d-1]*(1-c)+path[d+1]*c)*cw),ctx.stroke()}e<1&&(e*=path.length/2-1,e-=f=Math.floor(e),f*=2,leaf(ctx,t,cx+(path[(f+=2)-2]*(1-e)+path[f]*e)*cw,cy+(path[f-1]*(1-e)+path[f+1]*e)*cw,cw,s,color))}var requestInterval,cancelInterval;!function(){var raf=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.oRequestAnimationFrame||global.msRequestAnimationFrame,caf=global.cancelAnimationFrame||global.webkitCancelAnimationFrame||global.mozCancelAnimationFrame||global.oCancelAnimationFrame||global.msCancelAnimationFrame;raf&&caf?(requestInterval=function(fn,delay){function loop(){handle.value=raf(loop),fn()}var handle={value:null};return loop(),handle},cancelInterval=function(handle){caf(handle.value)}):(requestInterval=setInterval,cancelInterval=clearInterval)}();var TAU=2*Math.PI,TWO_OVER_SQRT_2=2/Math.sqrt(2),WIND_PATHS=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]],WIND_OFFSETS=[{start:.36,end:.11},{start:.56,end:.16}],Skycons=function(opts){this.list=[],this.interval=null,this.color=opts&&opts.color?opts.color:"black",this.resizeClear=!(!opts||!opts.resizeClear)};Skycons.CLEAR_DAY=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);sun(ctx,t,.5*w,.5*h,s,.08*s,color)},Skycons.CLEAR_NIGHT=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);moon(ctx,t,.5*w,.5*h,s,.08*s,color)},Skycons.PARTLY_CLOUDY_DAY=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);sun(ctx,t,.625*w,.375*h,.75*s,.08*s,color),cloud(ctx,t,.375*w,.625*h,.75*s,.08*s,color)},Skycons.PARTLY_CLOUDY_NIGHT=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);moon(ctx,t,.667*w,.375*h,.75*s,.08*s,color),cloud(ctx,t,.375*w,.625*h,.75*s,.08*s,color)},Skycons.CLOUDY=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);cloud(ctx,t,.5*w,.5*h,s,.08*s,color)},Skycons.RAIN=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);rain(ctx,t,.5*w,.37*h,.9*s,.08*s,color),cloud(ctx,t,.5*w,.37*h,.9*s,.08*s,color)},Skycons.SLEET=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);sleet(ctx,t,.5*w,.37*h,.9*s,.08*s,color),cloud(ctx,t,.5*w,.37*h,.9*s,.08*s,color)},Skycons.SNOW=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);snow(ctx,t,.5*w,.37*h,.9*s,.08*s,color),cloud(ctx,t,.5*w,.37*h,.9*s,.08*s,color)},Skycons.WIND=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h);swoosh(ctx,t,.5*w,.5*h,s,.08*s,0,2,color),swoosh(ctx,t,.5*w,.5*h,s,.08*s,1,2,color)},Skycons.FOG=function(ctx,t,color){var w=ctx.canvas.width,h=ctx.canvas.height,s=Math.min(w,h),k=.08*s;fogbank(ctx,t,.5*w,.32*h,.75*s,k,color),t/=5e3;var a=Math.cos(t*TAU)*s*.02,b=Math.cos((t+.25)*TAU)*s*.02,c=Math.cos((t+.5)*TAU)*s*.02,d=Math.cos((t+.75)*TAU)*s*.02,n=.936*h,e=Math.floor(n-.5*k)+.5,f=Math.floor(n-2.5*k)+.5;ctx.strokeStyle=color,ctx.lineWidth=k,ctx.lineCap="round",ctx.lineJoin="round",line(ctx,a+.2*w+.5*k,e,b+.8*w-.5*k,e),line(ctx,c+.2*w+.5*k,f,d+.8*w-.5*k,f)},Skycons.prototype={_determineDrawingFunction:function(draw){return"string"==typeof draw&&(draw=Skycons[draw.toUpperCase().replace(/-/g,"_")]||null),draw},add:function(el,draw){var obj;"string"==typeof el&&(el=document.getElementById(el)),null!==el&&"function"==typeof(draw=this._determineDrawingFunction(draw))&&(obj={element:el,context:el.getContext("2d"),drawing:draw},this.list.push(obj),this.draw(obj,500))},set:function(el,draw){var i;for("string"==typeof el&&(el=document.getElementById(el)),i=this.list.length;i--;)if(this.list[i].element===el)return this.list[i].drawing=this._determineDrawingFunction(draw),void this.draw(this.list[i],500);this.add(el,draw)},remove:function(el){var i;for("string"==typeof el&&(el=document.getElementById(el)),i=this.list.length;i--;)if(this.list[i].element===el)return void this.list.splice(i,1)},draw:function(obj,time){var canvas=obj.context.canvas;this.resizeClear?canvas.width=canvas.width:obj.context.clearRect(0,0,canvas.width,canvas.height),obj.drawing(obj.context,time,this.color)},play:function(){var self=this;this.pause(),this.interval=requestInterval(function(){var i,now=Date.now();for(i=self.list.length;i--;)self.draw(self.list[i],now)},1e3/60)},pause:function(){this.interval&&(cancelInterval(this.interval),this.interval=null)}},global.Skycons=Skycons}(this),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!0,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function($scope,$element){this.scope=$scope,$scope.$element=$element,$scope.$nodeScope=null,$scope.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function($scope,$element){function countSubTreeDepth(scope){if(!scope)return 0;var childDepth,i,thisLevelDepth=0,childNodes=scope.childNodes();if(!childNodes||0===childNodes.length)return 0;for(i=childNodes.length-1;i>=0;i--)childDepth=1+countSubTreeDepth(childNodes[i]),thisLevelDepth=Math.max(thisLevelDepth,childDepth);return thisLevelDepth}this.scope=$scope,$scope.$element=$element,$scope.$modelValue=null,$scope.$parentNodeScope=null,$scope.$childNodesScope=null,$scope.$parentNodesScope=null,$scope.$treeScope=null,$scope.$handleScope=null,$scope.$type="uiTreeNode",$scope.$$allowNodeDrop=!1,$scope.collapsed=!1,$scope.expandOnHover=!1,$scope.init=function(controllersArr){var treeNodesCtrl=controllersArr[0];$scope.$treeScope=controllersArr[1]?controllersArr[1].scope:null,$scope.$parentNodeScope=treeNodesCtrl.scope.$nodeScope,$scope.$modelValue=treeNodesCtrl.scope.$modelValue[$scope.$index],$scope.$parentNodesScope=treeNodesCtrl.scope,treeNodesCtrl.scope.initSubNode($scope),$element.on("$destroy",function(){treeNodesCtrl.scope.destroySubNode($scope)})},$scope.index=function(){return $scope.$parentNodesScope.$modelValue.indexOf($scope.$modelValue)},$scope.dragEnabled=function(){return!($scope.$treeScope&&!$scope.$treeScope.dragEnabled)},$scope.isSibling=function(targetNode){return $scope.$parentNodesScope==targetNode.$parentNodesScope},$scope.isChild=function(targetNode){var nodes=$scope.childNodes();return nodes&&nodes.indexOf(targetNode)>-1},$scope.prev=function(){var index=$scope.index();return index>0?$scope.siblings()[index-1]:null},$scope.siblings=function(){return $scope.$parentNodesScope.childNodes()},$scope.childNodesCount=function(){return $scope.childNodes()?$scope.childNodes().length:0},$scope.hasChild=function(){return $scope.childNodesCount()>0},$scope.childNodes=function(){return $scope.$childNodesScope&&$scope.$childNodesScope.$modelValue?$scope.$childNodesScope.childNodes():null},$scope.accept=function(sourceNode,destIndex){return $scope.$childNodesScope&&$scope.$childNodesScope.$modelValue&&$scope.$childNodesScope.accept(sourceNode,destIndex)},$scope.remove=function(){return $scope.$parentNodesScope.removeNode($scope)},$scope.toggle=function(){$scope.collapsed=!$scope.collapsed,$scope.$treeScope.$callbacks.toggle($scope.collapsed,$scope)},$scope.collapse=function(){$scope.collapsed=!0},$scope.expand=function(){$scope.collapsed=!1},$scope.depth=function(){var parentNode=$scope.$parentNodeScope;return parentNode?parentNode.depth()+1:1},$scope.maxSubDepth=function(){return $scope.$childNodesScope?countSubTreeDepth($scope.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function($scope,$element){this.scope=$scope,$scope.$element=$element,$scope.$modelValue=null,$scope.$nodeScope=null,$scope.$treeScope=null,$scope.$type="uiTreeNodes",$scope.$nodesMap={},$scope.nodropEnabled=!1,$scope.maxDepth=0,$scope.cloneEnabled=!1,$scope.initSubNode=function(subNode){if(!subNode.$modelValue)return null;$scope.$nodesMap[subNode.$modelValue.$$hashKey]=subNode},$scope.destroySubNode=function(subNode){if(!subNode.$modelValue)return null;$scope.$nodesMap[subNode.$modelValue.$$hashKey]=null},$scope.accept=function(sourceNode,destIndex){return $scope.$treeScope.$callbacks.accept(sourceNode,$scope,destIndex)},$scope.beforeDrag=function(sourceNode){return $scope.$treeScope.$callbacks.beforeDrag(sourceNode)},$scope.isParent=function(node){return node.$parentNodesScope==$scope},$scope.hasChild=function(){return $scope.$modelValue.length>0},$scope.safeApply=function(fn){var phase=this.$root.$$phase;"$apply"==phase||"$digest"==phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)},$scope.removeNode=function(node){var index=$scope.$modelValue.indexOf(node.$modelValue);return index>-1?($scope.safeApply(function(){$scope.$modelValue.splice(index,1)[0]}),$scope.$treeScope.$callbacks.removed(node)):null},$scope.insertNode=function(index,nodeData){$scope.safeApply(function(){$scope.$modelValue.splice(index,0,nodeData)})},$scope.childNodes=function(){var i,nodes=[];if($scope.$modelValue)for(i=0;i<$scope.$modelValue.length;i++)nodes.push($scope.$nodesMap[$scope.$modelValue[i].$$hashKey]);return nodes},$scope.depth=function(){return $scope.$nodeScope?$scope.$nodeScope.depth():0},$scope.outOfDepth=function(sourceNode){var maxDepth=$scope.maxDepth||$scope.$treeScope.maxDepth;return maxDepth>0&&$scope.depth()+sourceNode.maxSubDepth()+1>maxDepth}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function($scope,$element){this.scope=$scope,$scope.$element=$element,$scope.$nodesScope=null,$scope.$type="uiTree",$scope.$emptyElm=null,$scope.$dropzoneElm=null,$scope.$callbacks=null,$scope.dragEnabled=!0,$scope.emptyPlaceholderEnabled=!0,$scope.maxDepth=0,$scope.dragDelay=0,$scope.cloneEnabled=!1,$scope.nodropEnabled=!1,$scope.dropzoneEnabled=!1,$scope.isEmpty=function(){return $scope.$nodesScope&&$scope.$nodesScope.$modelValue&&0===$scope.$nodesScope.$modelValue.length},$scope.place=function(placeElm){$scope.$nodesScope.$element.append(placeElm),$scope.$emptyElm.remove()},this.resetEmptyElement=function(){$scope.$nodesScope.$modelValue&&0!==$scope.$nodesScope.$modelValue.length||!$scope.emptyPlaceholderEnabled?$scope.$emptyElm.remove():$element.append($scope.$emptyElm)},this.resetDropzoneElement=function(){$scope.$nodesScope.$modelValue&&0===$scope.$nodesScope.$modelValue.length||!$scope.dropzoneEnabled?$scope.$dropzoneElm.remove():$element.append($scope.$dropzoneElm)},$scope.resetEmptyElement=this.resetEmptyElement,$scope.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(treeConfig,$window){return{restrict:"A",scope:!0,controller:"TreeController",link:function(scope,element,attrs,ctrl){var tdElm,$trElm,emptyElmColspan,callbacks={accept:null,beforeDrag:null},config={};angular.extend(config,treeConfig),config.treeClass&&element.addClass(config.treeClass),"table"===element.prop("tagName").toLowerCase()?(scope.$emptyElm=angular.element($window.document.createElement("tr")),emptyElmColspan=($trElm=element.find("tr")).length>0?angular.element($trElm).children().length:1e6,tdElm=angular.element($window.document.createElement("td")).attr("colspan",emptyElmColspan),scope.$emptyElm.append(tdElm)):(scope.$emptyElm=angular.element($window.document.createElement("div")),scope.$dropzoneElm=angular.element($window.document.createElement("div"))),config.emptyTreeClass&&scope.$emptyElm.addClass(config.emptyTreeClass),config.dropzoneClass&&scope.$dropzoneElm.addClass(config.dropzoneClass),scope.$watch("$nodesScope.$modelValue.length",function(val){angular.isNumber(val)&&(ctrl.resetEmptyElement(),ctrl.resetDropzoneElement())},!0),scope.$watch(attrs.dragEnabled,function(val){"boolean"==typeof val&&(scope.dragEnabled=val)}),scope.$watch(attrs.emptyPlaceholderEnabled,function(val){"boolean"==typeof val&&(scope.emptyPlaceholderEnabled=val,ctrl.resetEmptyElement())}),scope.$watch(attrs.nodropEnabled,function(val){"boolean"==typeof val&&(scope.nodropEnabled=val)}),scope.$watch(attrs.dropzoneEnabled,function(val){"boolean"==typeof val&&(scope.dropzoneEnabled=val,ctrl.resetDropzoneElement())}),scope.$watch(attrs.cloneEnabled,function(val){"boolean"==typeof val&&(scope.cloneEnabled=val)}),scope.$watch(attrs.maxDepth,function(val){"number"==typeof val&&(scope.maxDepth=val)}),scope.$watch(attrs.dragDelay,function(val){"number"==typeof val&&(scope.dragDelay=val)}),callbacks.accept=function(sourceNodeScope,destNodesScope,destIndex){return!(destNodesScope.nodropEnabled||destNodesScope.$treeScope.nodropEnabled||destNodesScope.outOfDepth(sourceNodeScope))},callbacks.beforeDrag=function(sourceNodeScope){return!0},callbacks.expandTimeoutStart=function(){},callbacks.expandTimeoutCancel=function(){},callbacks.expandTimeoutEnd=function(){},callbacks.removed=function(node){},callbacks.dropped=function(event){},callbacks.dragStart=function(event){},callbacks.dragMove=function(event){},callbacks.dragStop=function(event){},callbacks.beforeDrop=function(event){},callbacks.toggle=function(collapsed,sourceNodeScope){},scope.$watch(attrs.uiTree,function(newVal,oldVal){angular.forEach(newVal,function(value,key){callbacks[key]&&"function"==typeof value&&(callbacks[key]=value)}),scope.$callbacks=callbacks},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(treeConfig){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(scope,element,attrs,treeNodeCtrl){var config={};angular.extend(config,treeConfig),config.handleClass&&element.addClass(config.handleClass),scope!=treeNodeCtrl.scope&&(scope.$nodeScope=treeNodeCtrl.scope,treeNodeCtrl.scope.$handleScope=scope)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(treeConfig,UiTreeHelper,$window,$document,$timeout,$q){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(scope,element,attrs,controllersArr){var firstMoving,dragInfo,pos,placeElm,hiddenPlaceElm,dragElm,scrollContainerElm,unhover,elements,document_height,document_width,dragStart,dragMove,dragEnd,dragStartEvent,dragMoveEvent,dragEndEvent,dragCancelEvent,dragDelay,bindDragStartEvents,bindDragMoveEvents,unbindDragMoveEvents,keydownHandler,isHandleChild,el,isUiTreeRoot,treeOfOrigin,config={},hasTouch="ontouchstart"in window,treeScope=null,body=document.body,html=document.documentElement;angular.extend(config,treeConfig),config.nodeClass&&element.addClass(config.nodeClass),scope.init(controllersArr),scope.collapsed=!!UiTreeHelper.getNodeAttribute(scope,"collapsed")||treeConfig.defaultCollapsed,scope.expandOnHover=!!UiTreeHelper.getNodeAttribute(scope,"expandOnHover"),scope.scrollContainer=UiTreeHelper.getNodeAttribute(scope,"scrollContainer")||attrs.scrollContainer||null,scope.sourceOnly=scope.nodropEnabled||scope.$treeScope.nodropEnabled,scope.$watch(attrs.collapsed,function(val){"boolean"==typeof val&&(scope.collapsed=val)}),scope.$watch("collapsed",function(val){UiTreeHelper.setNodeAttribute(scope,"collapsed",val),attrs.$set("collapsed",val)}),scope.$watch(attrs.expandOnHover,function(val){"boolean"!=typeof val&&"number"!=typeof val||(scope.expandOnHover=val)}),scope.$watch("expandOnHover",function(val){UiTreeHelper.setNodeAttribute(scope,"expandOnHover",val),attrs.$set("expandOnHover",val)}),attrs.$observe("scrollContainer",function(val){"string"==typeof val&&(scope.scrollContainer=val)}),scope.$watch("scrollContainer",function(val){UiTreeHelper.setNodeAttribute(scope,"scrollContainer",val),attrs.$set("scrollContainer",val),scrollContainerElm=document.querySelector(val)}),scope.$on("angular-ui-tree:collapse-all",function(){scope.collapsed=!0}),scope.$on("angular-ui-tree:expand-all",function(){scope.collapsed=!1}),dragStart=function(e){if((hasTouch||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var isHandleChild,cloneElm,eventElmTagName,tagName,eventObj,tdElm,hStyle,isTreeNode,isTreeNodeHandle,eventElm=angular.element(e.target);if((isHandleChild=UiTreeHelper.treeNodeHandlerContainerOfElement(eventElm))&&(eventElm=angular.element(isHandleChild)),cloneElm=element.clone(),isTreeNode=UiTreeHelper.elementIsTreeNode(eventElm),isTreeNodeHandle=UiTreeHelper.elementIsTreeNodeHandle(eventElm),(isTreeNode||isTreeNodeHandle)&&!(isTreeNode&&UiTreeHelper.elementContainsTreeNodeHandler(eventElm)||"input"==(eventElmTagName=eventElm.prop("tagName").toLowerCase())||"textarea"==eventElmTagName||"button"==eventElmTagName||"select"==eventElmTagName)){for(el=angular.element(e.target),isUiTreeRoot=el[0].attributes["ui-tree"];el&&el[0]&&el[0]!==element&&!isUiTreeRoot;){if(el[0].attributes&&(isUiTreeRoot=el[0].attributes["ui-tree"]),UiTreeHelper.nodrag(el))return;el=el.parent()}scope.beforeDrag(scope)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),eventObj=UiTreeHelper.eventObj(e),firstMoving=!0,dragInfo=UiTreeHelper.dragInfo(scope),treeOfOrigin=dragInfo.source.$treeScope.$id,"tr"===(tagName=element.prop("tagName")).toLowerCase()?(placeElm=angular.element($window.document.createElement(tagName)),tdElm=angular.element($window.document.createElement("td")).addClass(config.placeholderClass).attr("colspan",element[0].children.length),placeElm.append(tdElm)):placeElm=angular.element($window.document.createElement(tagName)).addClass(config.placeholderClass),hiddenPlaceElm=angular.element($window.document.createElement(tagName)),config.hiddenClass&&hiddenPlaceElm.addClass(config.hiddenClass),pos=UiTreeHelper.positionStarted(eventObj,element),placeElm.css("height",element.prop("offsetHeight")+"px"),(dragElm=angular.element($window.document.createElement(scope.$parentNodesScope.$element.prop("tagName"))).addClass(scope.$parentNodesScope.$element.attr("class")).addClass(config.dragClass)).css("width",UiTreeHelper.width(element)+"px"),dragElm.css("z-index",9999),(hStyle=(element[0].querySelector(".angular-ui-tree-handle")||element[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",$document.find("body").css("cursor")||""),$document.find("body").css({cursor:hStyle.cursor+"!important"})),scope.sourceOnly&&placeElm.css("display","none"),element.after(placeElm),element.after(hiddenPlaceElm),dragInfo.isClone()&&scope.sourceOnly?dragElm.append(cloneElm):dragElm.append(element),$document.find("body").append(dragElm),dragElm.css({left:eventObj.pageX-pos.offsetX+"px",top:eventObj.pageY-pos.offsetY+"px"}),elements={placeholder:placeElm,dragging:dragElm},bindDragMoveEvents(),scope.$apply(function(){scope.$treeScope.$callbacks.dragStart(dragInfo.eventArgs(elements,pos))}),document_height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),document_width=Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth))}}},dragMove=function(e){var prev,leftElmPos,topElmPos,top_scroll,bottom_scroll,scrollContainerElmRect,target,targetX,targetY,displayElm,targetNode,targetElm,isEmpty,scrollDownBy,scrollUpBy,targetOffset,targetBefore,targetBeforeBuffer,targetHeight,targetChildElm,isDropzone,eventObj=UiTreeHelper.eventObj(e);if(dragElm){if(e.preventDefault(),$window.getSelection?$window.getSelection().removeAllRanges():$window.document.selection&&$window.document.selection.empty(),leftElmPos=eventObj.pageX-pos.offsetX,topElmPos=eventObj.pageY-pos.offsetY,leftElmPos<0&&(leftElmPos=0),topElmPos<0&&(topElmPos=0),topElmPos+10>document_height&&(topElmPos=document_height-10),leftElmPos+10>document_width&&(leftElmPos=document_width-10),dragElm.css({left:leftElmPos+"px",top:topElmPos+"px"}),scrollContainerElm?(scrollContainerElmRect=scrollContainerElm.getBoundingClientRect(),bottom_scroll=(top_scroll=scrollContainerElm.scrollTop)+scrollContainerElm.clientHeight,scrollContainerElmRect.bottom<eventObj.clientY&&bottom_scroll<scrollContainerElm.scrollHeight&&(scrollDownBy=Math.min(scrollContainerElm.scrollHeight-bottom_scroll,10),scrollContainerElm.scrollTop+=scrollDownBy),scrollContainerElmRect.top>eventObj.clientY&&top_scroll>0&&(scrollUpBy=Math.min(top_scroll,10),scrollContainerElm.scrollTop-=scrollUpBy)):((bottom_scroll=(top_scroll=window.pageYOffset||$window.document.documentElement.scrollTop)+(window.innerHeight||$window.document.clientHeight||$window.document.clientHeight))<eventObj.pageY&&bottom_scroll<document_height&&(scrollDownBy=Math.min(document_height-bottom_scroll,10),window.scrollBy(0,scrollDownBy)),top_scroll>eventObj.pageY&&(scrollUpBy=Math.min(top_scroll,10),window.scrollBy(0,-scrollUpBy))),UiTreeHelper.positionMoved(e,pos,firstMoving),firstMoving)return void(firstMoving=!1);if(targetX=eventObj.pageX-($window.pageXOffset||$window.document.body.scrollLeft||$window.document.documentElement.scrollLeft)-($window.document.documentElement.clientLeft||0),targetY=eventObj.pageY-($window.pageYOffset||$window.document.body.scrollTop||$window.document.documentElement.scrollTop)-($window.document.documentElement.clientTop||0),angular.isFunction(dragElm.hide)?dragElm.hide():(displayElm=dragElm[0].style.display,dragElm[0].style.display="none"),$window.document.elementFromPoint(targetX,targetY),targetElm=angular.element($window.document.elementFromPoint(targetX,targetY)),(isHandleChild=UiTreeHelper.treeNodeHandlerContainerOfElement(targetElm))&&(targetElm=angular.element(isHandleChild)),angular.isFunction(dragElm.show)?dragElm.show():dragElm[0].style.display=displayElm,UiTreeHelper.elementIsTree(targetElm)?targetNode=targetElm.controller("uiTree").scope:UiTreeHelper.elementIsTreeNodeHandle(targetElm)?targetNode=targetElm.controller("uiTreeHandle").scope:UiTreeHelper.elementIsTreeNode(targetElm)?targetNode=targetElm.controller("uiTreeNode").scope:UiTreeHelper.elementIsTreeNodes(targetElm)?targetNode=targetElm.controller("uiTreeNodes").scope:UiTreeHelper.elementIsPlaceholder(targetElm)?targetNode=targetElm.controller("uiTreeNodes").scope:UiTreeHelper.elementIsDropzone(targetElm)?(targetNode=targetElm.controller("uiTree").scope,isDropzone=!0):targetElm.controller("uiTreeNode")&&(targetNode=targetElm.controller("uiTreeNode").scope),targetNode&&targetNode.$treeScope&&targetNode.$treeScope.$id&&targetNode.$treeScope.$id===treeOfOrigin&&pos.dirAx)pos.distX>0&&(prev=dragInfo.prev())&&!prev.collapsed&&prev.accept(scope,prev.childNodesCount())&&(prev.$childNodesScope.$element.append(placeElm),dragInfo.moveTo(prev.$childNodesScope,prev.childNodes(),prev.childNodesCount())),pos.distX<0&&(dragInfo.next()||(target=dragInfo.parentNode())&&target.$parentNodesScope.accept(scope,target.index()+1)&&(target.$element.after(placeElm),dragInfo.moveTo(target.$parentNodesScope,target.siblings(),target.index()+1)));else{if(isEmpty=!1,!targetNode)return;if(!targetNode.$treeScope||targetNode.$parent.nodropEnabled||targetNode.$treeScope.nodropEnabled||placeElm.css("display",""),"uiTree"===targetNode.$type&&targetNode.dragEnabled&&(isEmpty=targetNode.isEmpty()),"uiTreeHandle"===targetNode.$type&&(targetNode=targetNode.$nodeScope),"uiTreeNode"!==targetNode.$type&&!isEmpty&&!isDropzone)return void(config.appendChildOnHover&&!dragInfo.next()&&unhover&&((target=dragInfo.parentNode()).$element.after(placeElm),dragInfo.moveTo(target.$parentNodesScope,target.siblings(),target.index()+1),unhover=!1));treeScope&&placeElm.parent()[0]!=treeScope.$element[0]&&(treeScope.resetEmptyElement(),treeScope.resetDropzoneElement(),treeScope=null),isEmpty?(treeScope=targetNode,targetNode.$nodesScope.accept(scope,0)&&dragInfo.moveTo(targetNode.$nodesScope,targetNode.$nodesScope.childNodes(),0)):isDropzone?(treeScope=targetNode,targetNode.$nodesScope.accept(scope,targetNode.$nodesScope.childNodes().length)&&dragInfo.moveTo(targetNode.$nodesScope,targetNode.$nodesScope.childNodes(),targetNode.$nodesScope.childNodes().length)):targetNode.dragEnabled()&&(angular.isDefined(scope.expandTimeoutOn)&&scope.expandTimeoutOn!==targetNode.id&&($timeout.cancel(scope.expandTimeout),delete scope.expandTimeout,delete scope.expandTimeoutOn,scope.$callbacks.expandTimeoutCancel()),targetNode.collapsed&&(!0===scope.expandOnHover||angular.isNumber(scope.expandOnHover)&&0===scope.expandOnHover?(targetNode.collapsed=!1,targetNode.$treeScope.$callbacks.toggle(!1,targetNode)):!1!==scope.expandOnHover&&angular.isNumber(scope.expandOnHover)&&scope.expandOnHover>0&&angular.isUndefined(scope.expandTimeoutOn)&&(scope.expandTimeoutOn=targetNode.$id,scope.$callbacks.expandTimeoutStart(),scope.expandTimeout=$timeout(function(){scope.$callbacks.expandTimeoutEnd(),targetNode.collapsed=!1,targetNode.$treeScope.$callbacks.toggle(!1,targetNode)},scope.expandOnHover))),targetElm=targetNode.$element,targetOffset=UiTreeHelper.offset(targetElm),targetHeight=UiTreeHelper.height(targetElm),targetHeight-=(targetChildElm=targetNode.$childNodesScope?targetNode.$childNodesScope.$element:null)?UiTreeHelper.height(targetChildElm):0,targetBeforeBuffer=config.appendChildOnHover?.25*targetHeight:UiTreeHelper.height(targetElm)/2,targetBefore=eventObj.pageY<targetOffset.top+targetBeforeBuffer,targetNode.$parentNodesScope.accept(scope,targetNode.index())?targetBefore?(targetElm[0].parentNode.insertBefore(placeElm[0],targetElm[0]),dragInfo.moveTo(targetNode.$parentNodesScope,targetNode.siblings(),targetNode.index())):config.appendChildOnHover&&targetNode.accept(scope,targetNode.childNodesCount())?(targetNode.$childNodesScope.$element.prepend(placeElm),dragInfo.moveTo(targetNode.$childNodesScope,targetNode.childNodes(),0),unhover=!0):(targetElm.after(placeElm),dragInfo.moveTo(targetNode.$parentNodesScope,targetNode.siblings(),targetNode.index()+1)):!targetBefore&&targetNode.accept(scope,targetNode.childNodesCount())&&(targetNode.$childNodesScope.$element.append(placeElm),dragInfo.moveTo(targetNode.$childNodesScope,targetNode.childNodes(),targetNode.childNodesCount())))}scope.$apply(function(){scope.$treeScope.$callbacks.dragMove(dragInfo.eventArgs(elements,pos))})}},dragEnd=function(e){var dragEventArgs=dragInfo.eventArgs(elements,pos);e.preventDefault(),unbindDragMoveEvents(),$timeout.cancel(scope.expandTimeout),scope.$treeScope.$apply(function(){$q.when(scope.$treeScope.$callbacks.beforeDrop(dragEventArgs)).then(function(allowDrop){!1!==allowDrop&&scope.$$allowNodeDrop?(dragInfo.apply(),scope.$treeScope.$callbacks.dropped(dragEventArgs)):bindDragStartEvents()}).catch(function(){bindDragStartEvents()}).finally(function(){hiddenPlaceElm.replaceWith(scope.$element),placeElm.remove(),dragElm&&(dragElm.remove(),dragElm=null),scope.$treeScope.$callbacks.dragStop(dragEventArgs),scope.$$allowNodeDrop=!1,dragInfo=null;var oldCur=document.body.getAttribute("ui-tree-cursor");null!==oldCur&&($document.find("body").css({cursor:oldCur}),document.body.removeAttribute("ui-tree-cursor"))})})},dragStartEvent=function(e){scope.dragEnabled()&&dragStart(e)},dragMoveEvent=function(e){dragMove(e)},dragEndEvent=function(e){scope.$$allowNodeDrop=!0,dragEnd(e)},dragCancelEvent=function(e){dragEnd(e)},dragDelay=function(){var to;return{exec:function(fn,ms){ms||(ms=0),this.cancel(),to=$timeout(fn,ms)},cancel:function(){$timeout.cancel(to)}}}(),keydownHandler=function(e){27===e.keyCode&&dragEndEvent(e)},(bindDragStartEvents=function(){element.bind("touchstart mousedown",function(e){scope.dragDelay>0?dragDelay.exec(function(){dragStartEvent(e)},scope.dragDelay):dragStartEvent(e)}),element.bind("touchend touchcancel mouseup",function(){scope.dragDelay>0&&dragDelay.cancel()})})(),bindDragMoveEvents=function(){angular.element($document).bind("touchend",dragEndEvent),angular.element($document).bind("touchcancel",dragEndEvent),angular.element($document).bind("touchmove",dragMoveEvent),angular.element($document).bind("mouseup",dragEndEvent),angular.element($document).bind("mousemove",dragMoveEvent),angular.element($document).bind("mouseleave",dragCancelEvent),angular.element($document).bind("keydown",keydownHandler)},unbindDragMoveEvents=function(){angular.element($document).unbind("touchend",dragEndEvent),angular.element($document).unbind("touchcancel",dragEndEvent),angular.element($document).unbind("touchmove",dragMoveEvent),angular.element($document).unbind("mouseup",dragEndEvent),angular.element($document).unbind("mousemove",dragMoveEvent),angular.element($document).unbind("mouseleave",dragCancelEvent),angular.element($document).unbind("keydown",keydownHandler)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(treeConfig){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(scope,element,attrs,controllersArr){var config={},ngModel=controllersArr[0],treeNodeCtrl=controllersArr[1],treeCtrl=controllersArr[2];angular.extend(config,treeConfig),config.nodesClass&&element.addClass(config.nodesClass),treeNodeCtrl?(treeNodeCtrl.scope.$childNodesScope=scope,scope.$nodeScope=treeNodeCtrl.scope):treeCtrl.scope.$nodesScope=scope,scope.$treeScope=treeCtrl.scope,ngModel&&(ngModel.$render=function(){scope.$modelValue=ngModel.$modelValue}),scope.$watch(function(){return attrs.maxDepth},function(val){"number"==typeof val&&(scope.maxDepth=val)}),scope.$watch(function(){return attrs.nodropEnabled},function(newVal){void 0!==newVal&&(scope.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function findFirstParentElementWithAttribute(attributeName,childObj){if(void 0===childObj)return null;for(var testObj=childObj.parentNode,res="function"==typeof testObj.setAttribute&&testObj.hasAttribute(attributeName)?testObj:null;testObj&&"function"==typeof testObj.setAttribute&&!testObj.hasAttribute(attributeName);){if(testObj=testObj.parentNode,res=testObj,testObj===document.documentElement){res=null;break}0}return res}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function($document,$window,treeConfig){return{nodesData:{},setNodeAttribute:function(scope,attrName,val){if(!scope.$modelValue)return null;var data=this.nodesData[scope.$modelValue.$$hashKey];data||(data={},this.nodesData[scope.$modelValue.$$hashKey]=data),data[attrName]=val},getNodeAttribute:function(scope,attrName){if(!scope.$modelValue)return null;var data=this.nodesData[scope.$modelValue.$$hashKey];return data?data[attrName]:null},nodrag:function(targetElm){return void 0!==targetElm.attr("data-nodrag")&&"false"!==targetElm.attr("data-nodrag")},eventObj:function(e){var obj=e;return void 0!==e.targetTouches?obj=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(obj=e.originalEvent.targetTouches.item(0)),obj},dragInfo:function(node){return{source:node,sourceInfo:{cloneModel:!0===node.$treeScope.cloneEnabled?angular.copy(node.$modelValue):void 0,nodeScope:node,index:node.index(),nodesScope:node.$parentNodesScope},index:node.index(),siblings:node.siblings().slice(0),parent:node.$parentNodesScope,resetParent:function(){this.parent=node.$parentNodesScope},moveTo:function(parent,siblings,index){this.parent=parent,this.siblings=siblings.slice(0);var i=this.siblings.indexOf(this.source);i>-1&&(this.siblings.splice(i,1),this.source.index()<index&&index--),this.siblings.splice(index,0,this.source),this.index=index},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(node){return angular.copy(node)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(elements,pos){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:elements,pos:pos}},apply:function(){var nodeData=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,nodeData)))}}},height:function(element){return element.prop("scrollHeight")},width:function(element){return element.prop("scrollWidth")},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:element.prop("offsetWidth"),height:element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].body.scrollTop||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].body.scrollLeft||$document[0].documentElement.scrollLeft)}},positionStarted:function(e,target){var pos={},pageX=e.pageX,pageY=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(pageX=e.originalEvent.touches[0].pageX,pageY=e.originalEvent.touches[0].pageY),pos.offsetX=pageX-this.offset(target).left,pos.offsetY=pageY-this.offset(target).top,pos.startX=pos.lastX=pageX,pos.startY=pos.lastY=pageY,pos.nowX=pos.nowY=pos.distX=pos.distY=pos.dirAx=0,pos.dirX=pos.dirY=pos.lastDirX=pos.lastDirY=pos.distAxX=pos.distAxY=0,pos},positionMoved:function(e,pos,firstMoving){var newAx,pageX=e.pageX,pageY=e.pageY;if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(pageX=e.originalEvent.touches[0].pageX,pageY=e.originalEvent.touches[0].pageY),pos.lastX=pos.nowX,pos.lastY=pos.nowY,pos.nowX=pageX,pos.nowY=pageY,pos.distX=pos.nowX-pos.lastX,pos.distY=pos.nowY-pos.lastY,pos.lastDirX=pos.dirX,pos.lastDirY=pos.dirY,pos.dirX=0===pos.distX?0:pos.distX>0?1:-1,pos.dirY=0===pos.distY?0:pos.distY>0?1:-1,newAx=Math.abs(pos.distX)>Math.abs(pos.distY)?1:0,firstMoving)return pos.dirAx=newAx,void(pos.moving=!0);pos.dirAx!==newAx?(pos.distAxX=0,pos.distAxY=0):(pos.distAxX+=Math.abs(pos.distX),0!==pos.dirX&&pos.dirX!==pos.lastDirX&&(pos.distAxX=0),pos.distAxY+=Math.abs(pos.distY),0!==pos.dirY&&pos.dirY!==pos.lastDirY&&(pos.distAxY=0)),pos.dirAx=newAx},elementIsTreeNode:function(element){return void 0!==element.attr("ui-tree-node")},elementIsTreeNodeHandle:function(element){return void 0!==element.attr("ui-tree-handle")},elementIsTree:function(element){return void 0!==element.attr("ui-tree")},elementIsTreeNodes:function(element){return void 0!==element.attr("ui-tree-nodes")},elementIsPlaceholder:function(element){return element.hasClass(treeConfig.placeholderClass)},elementIsDropzone:function(element){return element.hasClass(treeConfig.dropzoneClass)},elementContainsTreeNodeHandler:function(element){return element[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(element){return findFirstParentElementWithAttribute("ui-tree-handle",element[0])}}}])}(),function(angular){"use strict";angular.merge||(angular.merge=angular.extend),String.prototype.toPersianDigits=function(){var id=["","","","","","","","","",""];return this.replace(/[0-9]/g,function(w){return id[+w]})},String.prototype.toEnglishDigits=function(){var id={"":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};return this.replace(/[^0-9.]/g,function(w){return id[w]||w})},String.prototype.lZero=function(){return this.length<2?"0"+this:this},Array.prototype.toNumber=function(){return this.map(function(item){return Number(item)})},Array.prototype.dtp_toDate=function(type){var splitter="-";/invalid/i.test(new Date("1991-9-12"))&&(splitter="/");var date=this.join(splitter);return 5==this.length&&(date=this.slice(0,3).join(splitter)+" "+this.slice(3,5).join(":")),type?(date=new Date(date),"unix"==type?date.getTime():date):date},Number.prototype.lZero=function(){return this<10?"0"+this:this},Date.prototype.dtp_shortDate=function(){return[this.getFullYear(),this.getMonth()+1,this.getDate()].dtp_toDate()};angular.module("ADM-dateTimePicker",[]).constant("constants",{}).provider("ADMdtp",function(){var options={calType:"gregorian",format:"YYYY/MM/DD hh:mm",multiple:!0,autoClose:!1,transition:!0,disabled:[],smartDisabling:!0,minuteStep:1,gregorianStartDay:0,gregorianDic:{title:"Gregorian",monthsNames:["January","February","March","April","May","June","July","August","September","October","November","December"],daysNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],todayBtn:"Go Today",todaySelectionBtn:"Select Today"},jalaliDic:{title:"",monthsNames:["","","","","","","","","","","",""],daysNames:["","","","","","",""],todayBtn:"  ",todaySelectionBtn:" "}},ADMdtp={getOptions:function(type){return type&&options[type]||options}};this.setOptions=function(type,customOptions){if(!customOptions)return customOptions=type,void(options=angular.merge(options,customOptions));options[type]=angular.merge(options[type]||{},customOptions)},this.$get=function(){return ADMdtp}}).filter("digitType",[function(){return function(input,type){return"jalali"==type?String(input).toPersianDigits():input}}]).factory("ADMdtpConvertor",[function(){function getJalaliDate(date){var daysPassedInGregorianCalender=getDaysPassedInGregorianCalender(date);return daysPassedInGregorianCalender-=226894,getJalaliDateOfDay(daysPassedInGregorianCalender)}function getJalaliDateOfDay(daysPassedInJalaliCalender){var yearOfDay=getYearJalaliCalender(daysPassedInJalaliCalender),monthOfDay=getMonthJalaliCalender(daysPassedInJalaliCalender,yearOfDay);return{day:getDayJalaliCalender(daysPassedInJalaliCalender,yearOfDay,monthOfDay),month:monthOfDay,year:yearOfDay}}function getDayJalaliCalender(daysPassedInJalaliCalender,yearOfDay,monthOfDay){daysPassedInJalaliCalender-=howManyLeapsYearPassedInJalaliCalender(yearOfDay)+365*(yearOfDay-1);for(var i=1;i<monthOfDay;i++)daysPassedInJalaliCalender-=i<=6?31:30;return daysPassedInJalaliCalender}function getMonthJalaliCalender(daysPassedInJalaliCalender,yearOfDay){daysPassedInJalaliCalender-=howManyLeapsYearPassedInJalaliCalender(yearOfDay)+365*(yearOfDay-1);for(var jalaliMonths=getJalaliMonths(),i=0;i<jalaliMonths.length;i++){if(daysPassedInJalaliCalender<=jalaliMonths[i].count)return jalaliMonths[i].id;daysPassedInJalaliCalender-=jalaliMonths[i].count}return 12}function getJalaliMonths(){return[{id:1,count:31},{id:2,count:31},{id:3,count:31},{id:4,count:31},{id:5,count:31},{id:6,count:31},{id:7,count:30},{id:8,count:30},{id:9,count:30},{id:10,count:30},{id:11,count:30},{id:12,count:29}]}function getYearJalaliCalender(daysPassedInJalaliCalender){var years=Math.floor((daysPassedInJalaliCalender-1)/365),leapsCount=0;if(years>22){var year1=years-22-1,year2=years-22,siose=Math.floor(year1/33),remainYear=year2-33*siose;remainYear>=28&&(remainYear=28);var sum=Math.floor(remainYear/4)+8*siose+6,sal=Math.floor((daysPassedInJalaliCalender-sum)/365);return leapsCount=howManyLeapsYearPassedInJalaliCalender(sal),daysPassedInJalaliCalender-365*sal-leapsCount-(isLeapYearInJalaliCalender(sal)?1:0)>0?++sal:sal}return leapsCount=years<1?0:years>=1&&years<=4?1:years>=5&&years<=8?2:years>=9&&years<=12?3:years>=13&&years<=16?4:years>=17&&years<22?5:6,(years=Math.floor((daysPassedInJalaliCalender-leapsCount-1)/365))+1}function howManyLeapsYearPassedInJalaliCalender(year){if(year<23)switch(year){case 1:return 0;case 2:case 3:case 4:case 5:return 1;case 6:case 7:case 8:case 9:return 2;case 10:case 11:case 12:case 13:return 3;case 14:case 15:case 16:case 17:return 4;case 18:case 19:case 20:case 21:case 22:return 5}var yearAfterFirstEra=year-22,countSioSe=Math.floor((yearAfterFirstEra-1)/33),remainOfNormalLeapsYear=yearAfterFirstEra-33*countSioSe;remainOfNormalLeapsYear>28&&(remainOfNormalLeapsYear=28);var leapsCount=Math.floor(remainOfNormalLeapsYear/4)+8*countSioSe+6;return isLeapYearInJalaliCalender(year)&&yearAfterFirstEra-33*countSioSe<=28&&leapsCount--,leapsCount}function getDaysPassedInGregorianCalender(date){var gregorianMonths=getGregorianMonths(),days=howManyGregorianLeapsYearPassed(date.year),isMiladiLeaps=isGregorianLeapYear(date.year);days+=365*(date.year-1);for(var i=0;i<date.month-1;i++)isMiladiLeaps&&i+1==2&&(gregorianMonths[i].count=29),days+=gregorianMonths[i].count;return days+=date.day}function getGregorianMonths(){return[{id:1,count:31},{id:2,count:28},{id:3,count:31},{id:4,count:30},{id:5,count:31},{id:6,count:30},{id:7,count:31},{id:8,count:31},{id:9,count:30},{id:10,count:31},{id:11,count:30},{id:12,count:31}]}function isGregorianLeapYear(year){return year%4==0&&(year%100!=0||year%400==0)}function howManyGregorianLeapsYearPassed(year){var yearsPassed=year-1;return Math.floor(yearsPassed/4)-Math.floor(yearsPassed/100)+Math.floor(yearsPassed/400)}function getGregorianYear(gregorianPassedDays){var gregorianLeapsYear=howManyGregorianLeapsYearPassed(Math.floor(gregorianPassedDays/365)),year=Math.floor((gregorianPassedDays-gregorianLeapsYear)/365);return 0!=gregorianPassedDays-365*year-gregorianLeapsYear?year++:isGregorianLeapYear(year+1)&&(year+=gregorianLeapsYear/365),Math.floor(year)}function getGregorianMonth(daysPassed){var year=getGregorianYear(daysPassed);daysPassed-=365*(year-1)+howManyGregorianLeapsYearPassed(year);for(var months=getGregorianMonths(),month=0,isCurrentYearLeaps=isGregorianLeapYear(year),i=0;i<months.length;i++){if(isCurrentYearLeaps&&2==months[i].id&&(months[i].count=29),daysPassed<months[i].count)return 0==daysPassed&&0!=month||month++,month;daysPassed-=months[i].count,month=months[i].id}return month}function getGregorianDayOfMonthByPassedDay(daysPassed){return getGregorianDayOfMonth(getGregorianYear(daysPassed),getGregorianMonth(daysPassed),daysPassed)}function getGregorianDayOfMonth(year,month,daysPassed){for(var leaspYearCount=howManyGregorianLeapsYearPassed(year),months=getGregorianMonths(),sumOfMonths=0,i=0;i<months.length;i++)months[i].id<month&&(sumOfMonths+=months[i].count);return isGregorianLeapYear(year)&&month>2&&sumOfMonths++,daysPassed-365*(year-1)-leaspYearCount-sumOfMonths}function getDaysPassedInJalaliCalander(date){var days=date.day;return days+=passedDaysFromMonthsInJalaliCalander(date.month),days+=passedDaysToYearsInJalaliCalander(date.year)}function passedDaysFromMonthsInJalaliCalander(month){for(var days=0,months=getJalaliMonths(),i=0;i<month-1;i++)days+=months[i].count;return days}function passedDaysToYearsInJalaliCalander(years){var days=howManyLeapsYearPassedInJalaliCalender(years);return days+=365*(years-1)}function getGregorianDate(date){var daysPassed=getDaysPassedInJalaliCalander(date)+226894,day=getGregorianDayOfMonthByPassedDay(daysPassed),month=getGregorianMonth(daysPassed),year=getGregorianYear(daysPassed);return 0==day&&(day=31,month=12,year--),{day:day,month:month,year:year}}var isLeapYearInJalaliCalender=function(years){if(1==years||5==years||9==years||13==years||17==years||22==years)return!0;if(years<22)return!1;var year=years-22,siosesal=Math.floor(year/33);return(year-33*siosesal)%4==0&&(year-33*siosesal)/4!=8};return{toJalali:function(year,month,day){var date={year:year=year<=99?2e3+year:year,month:month,day:day};return date=getJalaliDate(date)},toGregorian:function(year,mont,day){return getGregorianDate({day:day,month:mont,year:year=year<=99?1300+year:year})},isLeapJalali:isLeapYearInJalaliCalender}}]).factory("ADMdtpFactory",["ADMdtpConvertor",function(ADMdtpConvertor){return this.dateFormat=function(date,time,format,notView){if(!date.year)return"";for(var replaceMap=[{key:"YYYY",value:date.year},{key:"YY",value:notView?date.year:date.year%100},{key:"MM",value:date.month.lZero()},{key:"DD",value:date.day.lZero()},{key:"hh",value:time.hour.lZero()},{key:"mm",value:time.minute.lZero()}],i=0,j=replaceMap.length;i<j;i++)format=format.replace(replaceMap[i].key,replaceMap[i].value);return format},this.parseString=function(str,format){var _keys=[],_date={},formats=["YY/MM/DD","YY/MM/DD hh:mm","YY-MM-DD","YY-MM-DD hh:mm","MM/DD/YY","MM-DD-YY","MM/DD/YY hh:mm","MM-DD-YY hh:mm"];formats.unshift(format);for(var i=0,j=formats.length;i<j;i++)if(new RegExp("^"+formats[i].replace(/[a-z]+/gi,function(key){var _mustReplace=!1;return-1!=key.indexOf("YY")?(_keys.push("year"),_mustReplace=!0):-1!=key.indexOf("MM")?(_keys.push("month"),_mustReplace=!0):-1!=key.indexOf("DD")?(_keys.push("day"),_mustReplace=!0):-1!=key.indexOf("hh")?(_keys.push("hour"),_mustReplace=!0):-1!=key.indexOf("mm")&&(_keys.push("minute"),_mustReplace=!0),_mustReplace?"[0-9]+":key}).replace(/[(]/g,"[(]").replace(/[)]/g,"[)]")+"$").test(str))return _keys.reverse(),str.replace(/[0-9]+/g,function(value){return _date[_keys.pop()]=Number(value),value}),_date.hour=_date.hour||0,_date.minute=_date.minute||0,_date;return!1},this.toRegularFormat=function(date,type,format){return!!date&&("string"==typeof date?date=this.parseString(date,format):"number"==typeof date&&(date=this.convertFromUnix(date,type)),!!date&&(date.year<=99&&(date.year="jalali"==type?1300+date.year:2e3+date.year),[date.year,date.month.lZero(),date.day.lZero(),date.hour.lZero(),date.minute.lZero()].dtp_toDate()))},this.isDateEqual=function(date1,date2){return 0==new Date(date1)-new Date(date2)},this.isDateBigger=function(date1,date2){return new Date(date1)-new Date(date2)>=0},this.isMonthBigger=function(date1,date2){return new Date(date1.year,date1.month)-new Date(date2.year,date2.month)>=0},this.joinTime=function(date,time){return new Date(new Date(new Date(date).setHours(time.hour)).setMinutes(time.minute))},this.removeTime=function(date){return[date.getFullYear(),date.getMonth()+1,date.getDate()].dtp_toDate("date")},this.validateJalaliDateSeparate=function(date,time){if(3!=date.length||2!=time.length)return!1;if(time[0]>23||time[0]<0||time[1]>59||time[1]<0||date[0]<0||date[1]<1||date[1]>12)return!1;if(date[1]>0&&date[1]<7){if(date[2]<1||date[2]>31)return!1}else if(date[1]>6&&date[1]<12){if(date[2]<1||date[2]>30)return!1}else if(12==date[1]){var isLeap=ADMdtpConvertor.isLeapJalali(date[0]);if(isLeap&&(date[2]<1||date[2]>30)||!isLeap&&(date[2]<1||date[2]>29))return!1}return!0},this.validateJalaliDate=function(input,format){var _dateTime;if("number"==typeof input){if(_gDate=new Date(input),/invalid/i.test(_gDate))return!1;var _pDate=this.convertToJalali(_gDate);_dateTime=angular.merge(_pDate,{hour:_gDate.getHours(),minute:_gDate.getMinutes()})}else"string"==typeof input?_dateTime=this.parseString(input,format):input instanceof Object&&(_dateTime=input);if(!_dateTime)return!1;var _date=[_dateTime.year,_dateTime.month,_dateTime.day],_time=[_dateTime.hour,_dateTime.minute];if(this.validateJalaliDateSeparate(_date,_time)){var _gDateC=ADMdtpConvertor.toGregorian(_date[0],_date[1],_date[2]),_gDate=[_gDateC.year,_gDateC.month,_gDateC.day,_time[0],_time[1]].dtp_toDate("date");return{year:_date[0],month:_date[1],day:_date[2],hour:_time[0],minute:_time[1],unix:_gDate.getTime(),gDate:_gDate}}return!1},this.convertToUnix=function(value,type,format){if(!value)return null;if("number"==typeof value)return value;if("string"==typeof value)value=this.parseString(value,format);else{if(!(value instanceof Date))return null;value={year:value.getFullYear(),month:value.getMonth()+1,day:value.getDate(),hour:value.getHours(),minute:value.getMinutes()}}if(value.year<=99&&(value.year="jalali"==type?1300+value.year:2e3+value.year),"jalali"==type)return(_dateTime=this.validateJalaliDate(value,format)).unix||null;if("gregorian"==type){var _dateTime=new Date(this.toRegularFormat(value,type));return/invalid/i.test(_dateTime)?null:_dateTime.getTime()}return null},this.convertFromUnix=function(unix,type){var _gDate=new Date(unix);return"jalali"==type?this.convertToJalali(_gDate):"gregorian"==type?{year:_gDate.getFullYear(),month:_gDate.getMonth()+1,day:_gDate.getDate(),unix:unix}:void 0},this.convertToJalali=function(date){if(date instanceof Date&&(date={year:date.getFullYear(),month:date.getMonth()+1,day:date.getDate(),unix:date.getTime()}),date instanceof Object)return angular.merge(ADMdtpConvertor.toJalali(date.year,date.month,date.day),{unix:date.unix})},this.parseDisablePattern=function(options){var arr=options.disabled,smart=options.smartDisabling,calType=options.calType,format=options.format,_inWeek=Array.apply(null,Array(7)).map(Number.prototype.valueOf,0),_inMonth=Array.apply(null,Array(31)).map(Number.prototype.valueOf,0),_static={};if(arr instanceof Array)for(var i=0,j=arr.length;i<j;i++)if("number"==typeof arr[i]){var _gDate=new Date(arr[i]);/invalid/i.test(_gDate)||(_static[this.removeTime(_gDate).getTime()]=!0)}else if("string"==typeof arr[i])if(arr[i]=arr[i].toLowerCase(),-1==arr[i].indexOf("d")&&-1==arr[i].indexOf("i")){var _unix=this.convertToUnix(arr[i],calType,format);_unix&&(_static[_unix]=!0)}else{var _inMonthValid=new RegExp("^[!]?(([0-9]?[0-9])?[d]([+][0-9][0-9]?)?)([&]([0-9]?[0-9])?[d]([+][0-9][0-9]?)?)*?$").test(arr[i]),_inWeekhValid=new RegExp("^[!]?([i]([+][0-9][0-9]?)?)([&][i]([+][0-9][0-9]?)?)*?$").test(arr[i]);if(_inMonthValid||_inWeekhValid){var _not="!"==arr[i][0];arr[i]=_not?arr[i].split("!")[1]:arr[i];var _patt=arr[i].split("&");if(_inMonthValid)for(_tmpObj={},_patt.forEach(function(item){var _params=item.split(/d[+]?/).map(function(str){return Number(str)});_params[0]=_params[0]?_params[0]:1,_params[1]%=31;for(var k=0;k<31;k++)(1!=_params[0]&&k%_params[0]==_params[1]||1==_params[0]&&k==_params[1])&&(_tmpObj[k]=1)}),k=0;k<31;k++)_not?_tmpObj[k]||(_inMonth[k]=1):_tmpObj[k]&&(_inMonth[k]=1);else if(_inWeekhValid){var _tmpObj={};_patt.forEach(function(item){var _params=item.split(/i[+]?/).map(function(str){return Number(str)});_params[1]%=7,_tmpObj[_params[1]]=1});for(var k=0;k<7;k++)_not?_tmpObj[k]||(_inWeek[k]=1):_tmpObj[k]&&(_inWeek[k]=1)}}else console.warn(arr[i]+" is not valid!")}return{smart:smart,calType:calType,static:_static,inWeek:_inWeek,inMonth:_inMonth}},this.isDayDisable=function(calType,disabled,day){if(disabled.static[day.unix])return!0;var _gap=0;disabled.smart?"gregorian"==disabled.calType&&"jalali"==calType?_gap=1:"jalali"==disabled.calType&&"gregorian"==calType&&(_gap=-1):"gregorian"==disabled.calType&&"jalali"==calType?_gap=-1:"jalali"==disabled.calType&&"gregorian"==calType&&(_gap=1);var _dayName=(day.dayName+7+_gap)%7;return!!disabled.inMonth[day.day-1]||!!+disabled.inWeek[_dayName]},{dateFormat:this.dateFormat,parseString:this.parseString,toRegularFormat:this.toRegularFormat,isDateEqual:this.isDateEqual,isDateBigger:this.isDateBigger,isMonthBigger:this.isMonthBigger,joinTime:this.joinTime,removeTime:this.removeTime,validateJalaliDateSeparate:this.validateJalaliDateSeparate,validateJalaliDate:this.validateJalaliDate,convertToUnix:this.convertToUnix,convertFromUnix:this.convertFromUnix,convertToJalali:this.convertToJalali,parseDisablePattern:this.parseDisablePattern,isDayDisable:this.isDayDisable,counter:0}}]).directive("admDtp",["ADMdtp","ADMdtpConvertor","ADMdtpFactory","constants","$compile","$timeout",function(ADMdtp,ADMdtpConvertor,ADMdtpFactory,constants,$compile,$timeout){return{restrict:"E",replace:!0,transclude:!0,require:["ngModel","admDtp"],scope:{options:"=?",fullData:"=?",name:"=?",ngRequired:"=?",onChange:"&?",onDatechange:"&?",onTimechange:"&?",onOpen:"&?",onClose:"&?",inputplaceholder:"@"},link:function(scope,element,attrs,ctrls){var ngModel=ctrls[0],admDtp=ctrls[1];scope.api=admDtp,scope.dtpId="adm-"+ ++ADMdtpFactory.counter,element.find("ng-transclude").children().length||(scope.defaultTemplate=!0,element.find("ng-transclude").remove());var _options=scope.options;_options instanceof Object||(_options={}),scope.option=angular.merge(angular.copy(ADMdtp.getOptions()),_options),scope.option.minuteStep=Math.max(Math.min(scope.option.minuteStep,60),1);var dayNames=angular.copy(scope.option.gregorianDic.daysNames);scope.option.gregorianDic.daysNamesUntouched=dayNames,scope.option.gregorianDic.daysNames=dayNames.slice(scope.option.gregorianStartDay,7).concat(dayNames.slice(0,scope.option.gregorianStartDay)),scope.disableDays=ADMdtpFactory.parseDisablePattern(scope.option),scope.calType=scope.option.calType,scope.monthNames=scope.option[scope.calType+"Dic"].monthsNames,scope.daysNames=scope.option[scope.calType+"Dic"].daysNames,scope.timeoutValue=[0,0],scope.dtpValue={},scope.minDate=scope.mindate?new Date(scope.mindate):null,scope.maxDate=scope.maxdate?new Date(scope.maxdate):null,scope.current={year:"",month:"",monthDscr:"",days:[]},scope.updateMasterValue=function(newDate,releaseTheBeast){newDate||(newDate=scope.dtpValue.unix?scope.dtpValue:{}),scope.$applyAsync(function(){scope.dtpValue=newDate;var minute=Number(scope.time.minute);minute-=minute%scope.option.minuteStep,scope.time.minute=minute.lZero(),scope.dtpValue.formated=ADMdtpFactory.dateFormat(newDate,scope.time,scope.option.format),scope.dtpValue.fullDate=ADMdtpFactory.joinTime(newDate.unix,scope.time),scope.fullData={formated:scope.dtpValue.formated,lDate:scope.dtpValue.fullDate.dtp_shortDate(),gDate:scope.dtpValue.fullDate,unix:scope.dtpValue.fullDate.getTime(),year:newDate.year,month:newDate.month,day:newDate.day,hour:Number(scope.time.hour),minute:Number(scope.time.minute),minDate:scope.minDate,maxDate:scope.maxDate,calType:scope.calType,format:scope.option.format},ngModel.$setViewValue(scope.dtpValue.formated),ngModel.$render(),scope.hasInputDtp&&(element[0].querySelector("[dtp-input]").value=scope.dtpValue.formated),releaseTheBeast&&(scope.onChange&&scope.onChange({date:scope.fullData}),"time"==releaseTheBeast&&scope.onTimechange?scope.onTimechange({date:scope.fullData}):"day"==releaseTheBeast&&scope.onDatechange&&scope.onDatechange({date:scope.fullData}))})},scope.parseInputValue=function(valueStr,resetTime,releaseTheBeast){"today"==valueStr&&(valueStr=ADMdtpFactory.removeTime(new Date).getTime());var _dateTime=!1;valueStr&&("jalali"==scope.calType?_dateTime=ADMdtpFactory.validateJalaliDate(valueStr,scope.option.format):("string"==typeof valueStr&&(valueStr=ADMdtpFactory.toRegularFormat(valueStr,scope.calType,scope.option.format)),_dateTime=new Date(valueStr),_dateTime=!/invalid/i.test(_dateTime)&&_dateTime)),_dateTime?(scope.dtpValue={year:_dateTime.year||_dateTime.getFullYear(),month:_dateTime.month||_dateTime.getMonth()+1,day:_dateTime.day||_dateTime.getDate(),unix:_dateTime.unix||_dateTime.getTime(),fullDate:_dateTime.gDate||_dateTime},scope.dtpValue.fullDate=ADMdtpFactory.removeTime(scope.dtpValue.fullDate),scope.dtpValue.unix=scope.dtpValue.fullDate.getTime(),scope.time={hour:(_dateTime.getHours?_dateTime.getHours():_dateTime.hour).lZero(),minute:(_dateTime.getMinutes?_dateTime.getMinutes():_dateTime.minute).lZero()},scope.updateMasterValue(!1,releaseTheBeast)):resetTime&&(scope.time={hour:"00",minute:"00"})},scope.parseInputValue(ngModel.$viewValue||scope.option.default,!0,!1),ngModel.$formatters.push(function(val){return!val&&scope.dtpValue.unix?scope.destroy():scope.dtpValue&&val==scope.dtpValue.formated||scope.parseInputValue(val,!1,!0),val}),scope.option.watchingOptions&&scope.$watch("options",function(nuVal,old){if(nuVal&&"object"==typeof nuVal&&(!old||JSON.stringify(old)!=JSON.stringify(nuVal))){var daysNamesUntouched=scope.option.gregorianDic.daysNamesUntouched;scope.option=angular.merge(angular.copy(ADMdtp.getOptions()),nuVal),scope.option.minuteStep=Math.max(Math.min(scope.option.minuteStep,60),1),nuVal.gregorianDic&&nuVal.gregorianDic.daysNames?scope.option.gregorianDic.daysNamesUntouched=nuVal.gregorianDic.daysNames:scope.option.gregorianDic.daysNamesUntouched=daysNamesUntouched;var dayNames=angular.copy(scope.option.gregorianDic.daysNamesUntouched);scope.option.gregorianDic.daysNames=dayNames.slice(scope.option.gregorianStartDay,7).concat(dayNames.slice(0,scope.option.gregorianStartDay)),scope.disableDays=ADMdtpFactory.parseDisablePattern(scope.option),scope.calTypeChanged&&scope.calTypeChanged(scope.option.calType)}},!0),attrs.$observe("disable",function(_newVal){scope.$applyAsync(function(){_newVal=scope.$eval(_newVal),scope.disable=_newVal})}),attrs.$observe("mindate",function(_newVal){scope.$applyAsync(function(){_newVal=scope.$eval(_newVal),scope.minDate=ADMdtpFactory.convertToUnix(_newVal,scope.calType,scope.option.format)})}),attrs.$observe("maxdate",function(_newVal){scope.$applyAsync(function(){_newVal=scope.$eval(_newVal),scope.maxDate=ADMdtpFactory.convertToUnix(_newVal,scope.calType,scope.option.format)})}),scope.onKeydown=function(e){9==e.keyCode&&scope.closeCalendar()},scope.openCalendar=function(){if(!scope.showCalendarStat&&!scope.disable){scope.timeoutValue[0]=0,scope.showCalendarStat=!0;var _admDtpCalendarHtml=angular.element('<adm-dtp-calendar id="'+scope.dtpId+'" style="opacity:0; z-index: '+scope.option.zIndex+';"></adm-dtp-calendar>');angular.element(document.body).append(_admDtpCalendarHtml),scope.$applyAsync(function(){$compile(_admDtpCalendarHtml)(scope)}),$timeout(function(){var top=document.documentElement.scrollTop||document.body.scrollTop,popup=document.getElementById(scope.dtpId),popupBound=popup.getBoundingClientRect(),_inputBound=element.children().children()[0].getBoundingClientRect(),_corner={x:_inputBound.left,y:_inputBound.top+_inputBound.height},_totalSize={width:popupBound.width+_corner.x,height:popupBound.height+_corner.y},_pos={top:"",bottom:"",left:"",right:""};_totalSize.height>window.innerHeight?_pos.top=top+_inputBound.top-popupBound.height+"px":_pos.top=top+_inputBound.top+_inputBound.height+"px",_totalSize.width>window.innerWidth?_pos.left=_corner.x+window.innerWidth-_totalSize.width-20+"px":_pos.left=_corner.x+"px",angular.element(popup).css({top:_pos.top,bottom:_pos.bottom,left:_pos.left,opacity:1})},70),scope.onOpen&&scope.onOpen()}},scope.closeCalendar=function(){if(scope.showCalendarStat){scope.$applyAsync(function(){scope.monthPickerStat=!1,scope.timePickerStat=!1,scope.showCalendarStat=!1});var popup=document.getElementById(scope.dtpId);popup&&(angular.element(popup).remove(),scope.onClose&&scope.onClose())}},scope.toggleCalendar=function(){scope.showCalendarStat?scope.closeCalendar():scope.openCalendar()},scope.destroy=function(noRefresh){if(!scope.disable){scope.monthPickerStat=!1,scope.timePickerStat=!1,scope.current={year:"",month:"",monthDscr:"",days:[]},scope.dtpValue={},scope.fullData={minDate:scope.minDate,maxDate:scope.maxDate},scope.time={hour:"00",minute:"00"};var _standValue=new Date;"jalali"==scope.calType&&(_standValue=ADMdtpFactory.convertToJalali(_standValue)),ngModel.$setViewValue(""),ngModel.$render(),noRefresh||admDtp.fillDays(_standValue,!scope.option.transition),scope.onChange&&scope.onChange({date:scope.fullData})}},(element[0].querySelector("[dtp-open]")||{}).onclick=scope.openCalendar,(element[0].querySelector("[dtp-close]")||{}).onclick=scope.closeCalendar,(element[0].querySelector("[dtp-toggle]")||{}).onclick=scope.toggleCalendar,(element[0].querySelector("[dtp-destroy]")||{}).onclick=scope.destroy},controller:["$scope",function($scope){this.updateMasterValue=function(newDate,releaseTheBeast){$scope.updateMasterValue(newDate,releaseTheBeast)},this.fillDays=function(date,noTransition){noTransition?$scope.timeoutValue[0]=0:$scope.loadingDays=!0;var _mainDate=angular.copy(date);if("jalali"==$scope.calType){var _gDate=ADMdtpConvertor.toGregorian(date.year,date.month,29);date=[_gDate.year,_gDate.month,_gDate.day].dtp_toDate("date")}var _input={year:date.getFullYear(),month:date.getMonth()+1,day:date.getDate()};$scope.$applyAsync(function(){var _month=_mainDate.month||_mainDate.getMonth()+1;angular.merge($scope.current,{year:_mainDate.year||_mainDate.getFullYear(),month:_month,monthDscr:$scope.monthNames[_month-1]})});var startDay,shift=startDay=$scope.option.gregorianStartDay;"jalali"==$scope.calType&&(shift=0,startDay=6);var _today=new Date;_today=[_today.getFullYear(),_today.getMonth()+1,_today.getDate(),1,0].dtp_toDate("unix");var _selectedIdx,_selected=$scope.dtpValue.unix||-1,_currDay=[_input.year,_input.month,_input.day,1,0].dtp_toDate("date"),_days=[],_diff=-1*(new Date(angular.copy(_currDay).setDate(1)).getDay()-shift+7)%7,_disable=!0,_lastValidStat=-1;if("jalali"==$scope.calType){var _ite_date=new Date(angular.copy(_currDay).setDate(_diff)),_pDate=ADMdtpConvertor.toJalali(_ite_date.getFullYear(),_ite_date.getMonth()+1,_ite_date.getDate());_diff-=7*Math.ceil((_pDate.day-1)/7)+1}for(;;){_diff++;var _ite_date=new Date(angular.copy(_currDay).setDate(_diff)),_pDate=!1;"jalali"==$scope.calType&&(_pDate=ADMdtpConvertor.toJalali(_ite_date.getFullYear(),_ite_date.getMonth()+1,_ite_date.getDate()));var _thisDay=_pDate.day||_ite_date.getDate();if(1==_thisDay&&(_disable=!_disable),_disable&&_thisDay<8&&_ite_date.getDay()==startDay)break;var _isMin=!1,_valid=1;if($scope.minDate||$scope.maxDate){var _dateTime=ADMdtpFactory.joinTime(_ite_date,$scope.time);$scope.minDate&&!ADMdtpFactory.isDateBigger(_dateTime,$scope.minDate)||$scope.maxDate&&!ADMdtpFactory.isDateBigger($scope.maxDate,_dateTime)?(_valid=0,2==_lastValidStat&&(_days[_days.length-1].isMax=!0)):(_valid=2,0==_lastValidStat&&(_isMin=!0)),_lastValidStat=_valid}var _unix=_ite_date.getTime(),_dayName=_ite_date.getDay()+("jalali"==$scope.calType?1:0),_day={day:_thisDay,month:_pDate.month||_ite_date.getMonth()+1,year:_pDate.year||_ite_date.getFullYear(),dayName:_dayName,fullDate:_ite_date,disable:_disable,today:_unix==_today,selected:_unix==_selected,unix:_unix,valid:_valid,isMin:_isMin};ADMdtpFactory.isDayDisable($scope.calType,$scope.disableDays,_day)&&(_day.valid=0),_day.selected&&(_selectedIdx=_days.length),_days.push(_day)}$timeout(function(){$scope.timeoutValue[0]=500,$scope.$applyAsync(function(){$scope.current.days=_days,_selectedIdx&&$scope.updateMasterValue($scope.current.days[_selectedIdx]),$timeout(function(){$scope.loadingDays=!1},$scope.timeoutValue[1])})},$scope.timeoutValue[0])},this.reload=function(){var _cur=angular.copy($scope.current);_cur.day=29;var _date=[_cur.year,_cur.month,8].dtp_toDate("date");"jalali"==$scope.calType&&(_date=_cur),this.fillDays(_date,!$scope.option.transition)},this.vm=$scope}],template:'<div class="ADMdtp ADMdtp-cojalali"), touch: option.isDeviceTouch, disable: disable}"> <div class="clickOutContainer" click-out="closeCalendar()" alias="{{dtpId}}"> <ng-transclude></ng-transclude> <div ng-if="defaultTemplate" class="ADMdtpInput masterInput" ng-class="{touch: option.isDeviceTouch, disable: disable, open: showCalendarStat}"> <div class="dtp-ig" ng-click="toggleCalendar()"> <svg class="dtp-i fakeIcon" viewBox="0 0 24 24"> <use xlink:href="#dtp-i-right"/> </svg> <svg class="dtp-i calendarIcon" viewBox="0 0 24 24"> <use xlink:href="#dtp-i-calendar"/> </svg> <svg class="dtp-i closeIcon" viewBox="0 0 24 24"> <use xlink:href="#dtp-i-off"/> </svg> </div><input placeholder="{{inputplaceholder}}" type="text" name="{{name}}" ng-model="dtpValue.formated" ng-focus="openCalendar()" ng-click="openCalendar()" ng-readonly="option.freezeInput || option.isDeviceTouch || disable" ng-blur="modelChanged()" ng-keydown="onKeydown($event)" ng-required="ngRequired"> <svg class="removeIcon" viewBox="0 0 24 24" ng-if="dtpValue.formated" ng-click="destroy()"> <use xlink:href="#dtp-i-close"/> </svg> </div></div><svg style="display:none;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"> <defs> <g id="dtp-i-calendar"> <path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/> <path d="M0 0h24v24H0z" fill="none"/> </g> <g id="dtp-i-clock"> <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/> <path d="M0 0h24v24H0z" fill="none"/> <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/> </g> <g id="dtp-i-right"> <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/> <path d="M0 0h24v24H0z" fill="none"/> </g> <g id="dtp-i-close"> <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/> <path d="M0 0h24v24H0z" fill="none"/> </g> <g id="dtp-i-off"> <path d="M0 0h24v24H0z" fill="none"/> <path d="M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z"/> </g> </defs> </svg></div>'}}]).directive("admDtpCalendar",["ADMdtp","ADMdtpConvertor","ADMdtpFactory","constants","$timeout",function(ADMdtp,ADMdtpConvertor,ADMdtpFactory,constants,$timeout){return{restrict:"E",replace:!0,link:function(scope,element,attrs){var _standValue,admDtp=scope.api;_standValue=scope.dtpValue.unix?new Date(scope.dtpValue.fullDate):new Date,"jalali"==scope.calType&&(_standValue=ADMdtpFactory.convertToJalali(_standValue)),admDtp.fillDays(_standValue,!scope.option.transition),scope.previousMonth=function(flag){"jalali"!=scope.calType||flag?(1==scope.current.month?(scope.current.month=12,scope.current.year--):scope.current.month--,admDtp.reload()):scope.nextMonth(!0)},scope.nextMonth=function(flag){"jalali"!=scope.calType||flag?(12==scope.current.month?(scope.current.month=1,scope.current.year++):scope.current.month++,admDtp.reload()):scope.previousMonth(!0)},scope.previousYear=function(flag){if("jalali"!=scope.calType||flag){var _firstYear=scope.generatedYears.shift();scope.generatedYears=[];for(var i=1;i<17;i++)scope.generatedYears.push(_firstYear-17+i)}else scope.nextYear(!0)},scope.nextYear=function(flag){if("jalali"!=scope.calType||flag){var _lastYear=scope.generatedYears.pop();scope.generatedYears=[];for(var i=1;i<17;i++)scope.generatedYears.push(_lastYear+i)}else scope.previousYear(!0)},scope.selectMonthInit=function(){scope.yearSelectStat=!1,scope.monthPickerStat=!0},scope.selectYearInit=function(){scope.yearSelectStat=!0,scope.generatedYears=[];for(var i=0;i<16;i++)scope.generatedYears.push(scope.current.year+i-7)},scope.selectMonth=function(monthIdx){monthIdx+1!=scope.current.month&&(scope.current.month=monthIdx+1,admDtp.reload()),scope.monthPickerStat=!1},scope.selectYear=function(yearName){yearName!=scope.current.year&&(scope.current.year=yearName,admDtp.reload()),scope.monthPickerStat=!1},scope.selectThisDay=function(day){0!=day.valid&&(scope.dtpValue.selected=!1,admDtp.updateMasterValue(day,"day"),scope.option.autoClose?$timeout(function(){scope.closeCalendar()},100):day.disable?$timeout(function(){ADMdtpFactory.isMonthBigger(day,scope.current)?scope.nextMonth(!0):scope.previousMonth(!0)},0):day.selected=!0)},scope.today=function(){var _standValue=new Date;"jalali"==scope.calType&&(_standValue=ADMdtpFactory.convertToJalali(_standValue)),admDtp.fillDays(_standValue,!scope.option.transition)},scope.selectToday=function(){var _standValue=new Date;"jalali"==scope.calType&&(_standValue=ADMdtpFactory.convertToJalali(_standValue)),scope.selectThisDay(_standValue)},scope.changeTimeValue=function(variable,value){value*="minute"==variable?scope.option.minuteStep:1;var _num=(Number(scope.time[variable])+value+("hour"==variable?24:60))%("hour"==variable?24:60),_timeCopy=angular.copy(scope.time);if(_timeCopy[variable]=_num.lZero(),scope.dtpValue.unix&&(scope.minDate||scope.maxDate)){var _dateTime=ADMdtpFactory.joinTime(scope.dtpValue.unix,_timeCopy);if(scope.minDate&&!ADMdtpFactory.isDateBigger(_dateTime,scope.minDate)||scope.maxDate&&!ADMdtpFactory.isDateBigger(scope.maxDate,_dateTime))return}scope.time[variable]=_num.lZero(),scope.dtpValue.unix&&admDtp.updateMasterValue(!1,"time"),admDtp.reload()},scope.modelChanged=function(input){var _value=angular.isDefined(input)?input:scope.dtpValue.formated;if(_value){var _inputUnix=ADMdtpFactory.convertToUnix(_value,scope.calType,scope.option.format);if(!_inputUnix||scope.option.freezeInput||scope.disable||scope.minDate&&!ADMdtpFactory.isDateBigger(_inputUnix,scope.minDate)||scope.maxDate&&!ADMdtpFactory.isDateBigger(scope.maxDate,_inputUnix))admDtp.updateMasterValue(!1);else if(_inputUnix!=scope.fullData.unix){scope.parseInputValue(_value,!1,!0);var _gDate=new Date(_inputUnix);"jalali"==scope.calType&&(_gDate=ADMdtpFactory.convertToJalali(_gDate)),admDtp.fillDays(_gDate,!0)}}else scope.dtpValue.unix&&scope.destroy()},admDtp.modelChanged=scope.modelChanged,scope.calTypeChanged=function(calType){scope.calType=calType||("gregorian"==scope.calType?"jalali":"gregorian"),scope.monthNames=scope.option[scope.calType+"Dic"].monthsNames,scope.daysNames=scope.option[scope.calType+"Dic"].daysNames;var _mainDate,_cur=angular.copy(scope.current);_mainDate="jalali"==scope.calType?ADMdtpConvertor.toJalali(_cur.year,_cur.month,15):[(_mainDate=ADMdtpConvertor.toGregorian(_cur.year,_cur.month,15)).year,_mainDate.month,_mainDate.day].dtp_toDate("date"),scope.dtpValue.unix&&admDtp.updateMasterValue(ADMdtpFactory.convertFromUnix(scope.dtpValue.unix,scope.calType)),admDtp.fillDays(_mainDate,!0)}},template:'<div class="ADMdtp-box ADMdtp-calendar-container" ng-class="{rtl: (calType==\'jalali\'), square: monthPickerStat||timePickerStat}"> <div class="dtpNewBox" ng-class="{active: monthPickerStat}"> <i class="calendarIcon" ng-class="{show: monthPickerStat}" ng-click="monthPickerStat = false"> <svg class="dtp-i" viewBox="0 0 24 24"> <use xlink:href="#dtp-i-calendar" /> </svg> </i> <div class="content"> <div class="ADMdtpMonths" ng-class="{onYear: yearSelectStat, rtl: (calType==\'jalali\')}"> <div class="ADMdtpYears"> <svg class="dtp-i dtp-i-180 dtp-trs-3 arrow left" viewBox="0 0 24 24" ng-if="yearSelectStat" ng-click="previousYear()"> <use xlink:href="#dtp-i-right" /> </svg> <p class="dtp-trs-3" ng-click="selectYearInit()">{{current.year | digitType:calType}}</p> <svg class="dtp-i dtp-trs-3 arrow right" viewBox="0 0 24 24" ng-if="yearSelectStat" ng-click="nextYear()"> <use xlink:href="#dtp-i-right" /> </svg> </div> <span ng-repeat="yearName in generatedYears" ng-if="yearSelectStat"><span class="dtp-trs-5" ng-class="{selected: yearName==current.year}" ng-click="selectYear(yearName)">{{yearName | digitType:calType}}</span></span> <span ng-repeat="monthName in monthNames" ng-if="!yearSelectStat"><span class="dtp-trs-5" ng-class="{selected: monthName==current.monthDscr}" ng-click="selectMonth($index)">{{monthName}}</span></span> </div> </div> </div> <div class="dtpNewBox" ng-class="{active: timePickerStat}"> <i class="calendarIcon" ng-class="{show: timePickerStat}" ng-click="timePickerStat = false"> <svg class="dtp-i" viewBox="0 0 24 24"> <use xlink:href="#dtp-i-calendar" /> </svg> </i> <div class="content"> <div class="ADMdtpTime"> <span class="dtpIcon null up" ng-click="changeTimeValue(\'hour\', 1)"><svg class="dtp-i dtp-trs-5 dtp-i-270" viewBox="0 0 24 24"><use xlink:href="#dtp-i-right" /></svg></span>\x3c!-- --\x3e<span></span>\x3c!-- --\x3e<span class="dtpIcon null up" ng-click="changeTimeValue(\'minute\', 1)"><svg class="dtp-i dtp-trs-5 dtp-i-270" viewBox="0 0 24 24"><use xlink:href="#dtp-i-right" /></svg></span>\x3c!-- --\x3e<span>{{time.hour}}</span>\x3c!-- --\x3e<span class="period">:</span>\x3c!-- --\x3e<span>{{time.minute}}</span>\x3c!-- --\x3e<span class="dtpIcon null down" ng-click="changeTimeValue(\'hour\', -1)"><svg class="dtp-i dtp-trs-5 dtp-i-90" viewBox="0 0 24 24"><use xlink:href="#dtp-i-right" /></svg></span>\x3c!-- --\x3e<span></span>\x3c!-- --\x3e<span class="dtpIcon null down" ng-click="changeTimeValue(\'minute\', -1)"><svg class="dtp-i dtp-trs-5 dtp-i-90" viewBox="0 0 24 24"><use xlink:href="#dtp-i-right" /></svg></span> </div> </div> </div> <header> <svg class="dtp-i dtp-i-180 dtp-trs-3 arrow left" viewBox="0 0 24 24" ng-click="previousMonth()"> <use xlink:href="#dtp-i-right" /> </svg> <span class="yearMonth" ng-click="selectMonthInit()">{{current.monthDscr}} {{current.year | digitType:calType}}</span> <svg class="dtp-i dtp-trs-3 arrow right" viewBox="0 0 24 24" ng-click="nextMonth()"> <use xlink:href="#dtp-i-right" /> </svg> </header> <div class="daysNames"> <span ng-repeat="dayName in daysNames">{{dayName}}</span> </div> <hr> <div class="ADMdtpDays" ng-class="{loading:loadingDays}"> <span ng-repeat="day in current.days" ng-click="selectThisDay(day)"><span ng-class="[{disable: day.disable||!day.valid, today: day.today, selected: day.selected, valid:(day.valid==2)}, (day.isMin)?((calType==\'jalali\')?\'max\':\'min\'):\'\', (day.isMax)?((calType==\'jalali\')?\'min\':\'max\'):\'\']">{{day.day | digitType:calType}}</span></span> </div> <hr> <footer><div class="calTypeContainer dtp-trs-3" ng-class="$parent.calType" ng-click="calTypeChanged()" ng-if="option.multiple"> <p class="gregorian">{{option.gregorianDic.title}}</p> <p class="jalali">{{option.jalaliDic.title}}</p> </div><button type="button" class="today today-edited dtp-trs-2" ng-click="today()">{{option[calType + "Dic"].todayBtn}}</button><button type="button" class="today today-edited dtp-trs-4" ng-click="selectToday()">{{option[calType + "Dic"].todaySelectionBtn}}</button> <svg class="dtp-i dtp-trs-5 timeSelectIcon" viewBox="0 0 24 24" ng-show="option.dtpType != \'date\'" ng-click="timePickerStat = !timePickerStat"> <use xlink:href="#dtp-i-clock" /> </svg> </footer> </div>'}}]).directive("dtpInput",[function(){return{require:["^^admDtp","ngModel"],link:function(scope,element,attrs,ctrls){var admDtp=ctrls[0],ngModel=ctrls[1];ngModel.$parsers.push(function(){return ngModel.$modelValue}),admDtp.vm.hasInputDtp=!0,element.on("focus",function(){admDtp.vm.openCalendar()}),element.on("blur",function(){admDtp.vm.modelChanged(element[0].value)})}}}]).directive("clickOut",["$document",function($document){return{restrict:"A",scope:{clickOut:"&"},link:function($scope,elem,attr){void 0==attr.id&&attr.$set("id","id_"+Math.random()),$document.on("click contextmenu",function(e){var element,i=0;if(e.target){var classList=void 0!==attr.alias?attr.alias.replace(", ",",").split(","):[];for(classList.push(attr.id),element=e.target;element;element=element.parentNode){var id=element.id,classNames=element.className;if(void 0!==id)for(i=0;i<classList.length;i++)if(id.indexOf(classList[i])>-1||"string"==typeof classNames&&classNames.indexOf(classList[i])>-1)return}$scope.$eval($scope.clickOut)}})}}}]).config(["ADMdtpProvider",function(ADMdtp){ADMdtp.setOptions({isDeviceTouch:"ontouchstart"in window||navigator.maxTouchPoints});var style=document.createElement("style");style.type="text/css";for(var i=1;i<51;i++)style.innerHTML+=".ADMdtpDays>span:nth-child("+i+")>span {"+function(css){return"-moz-"+css+"-o-"+css+"-webkit-"+css+css}("transition: all .5s, transform 0.2s "+.01*i+"s cubic-bezier(0.680, -0.550, 0.265, 1.550); ")+"}";document.getElementsByTagName("head")[0].appendChild(style)}])}(window.angular),function(){"use strict";function FastClick(layer,options){var oldOnClick;if(options=options||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=options.touchBoundary||10,this.layer=layer,this.tapDelay=options.tapDelay||200,this.tapTimeout=options.tapTimeout||700,!FastClick.notNeeded(layer)){for(var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],context=this,i=0,l=methods.length;i<l;i++)context[methods[i]]=function(method,context){return function(){return method.apply(context,arguments)}}(context[methods[i]],context);deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null)}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0,deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone,deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}},FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],(clickEvent=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){return deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){var length;deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type&&"month"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;if(!(scrollParent=targetElement.fastClickScrollParent)||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],deviceIsIOS){if((selection=window.getSelection()).rangeCount&&!selection.isCollapsed)return!0;if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,event.timeStamp-this.lastClickTime<this.tapDelay&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;return Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary},FastClick.prototype.onTouchMove=function(event){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(labelElement){return void 0!==labelElement.control?labelElement.control:labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick)return!0;if(event.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(event.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],(targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(targetTagName=targetElement.tagName.toLowerCase())){if(forElement=this.findControl(targetElement)){if(this.focus(targetElement),deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.sendClick(targetElement,event),deviceIsIOS&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return!(!deviceIsIOS||deviceIsIOS4||!(scrollParent=targetElement.fastClickScrollParent)||scrollParent.fastClickLastScrollTop===scrollParent.scrollTop)||(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){return!this.targetElement||(!!event.forwardedTouchEvent||(!event.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1))))},FastClick.prototype.onClick=function(event){var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===event.target.type&&0===event.detail||((permitted=this.onMouse(event))||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){var layer=this.layer;deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){var metaViewport,chromeVersion,blackberryVersion;if(void 0===window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]")){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&blackberryVersion[2]>=3&&(metaViewport=document.querySelector("meta[name=viewport]"))){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===layer.style.msTouchAction||"manipulation"===layer.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(metaViewport=document.querySelector("meta[name=viewport]"))&&(-1!==metaViewport.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===layer.style.touchAction||"manipulation"===layer.style.touchAction)},FastClick.attach=function(layer,options){return new FastClick(layer,options)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}(),function(){function Lexer(options){this.tokens=[],this.tokens.links={},this.options=options||marked.defaults,this.rules=block.normal,this.options.gfm&&(this.options.tables?this.rules=block.tables:this.rules=block.gfm)}function InlineLexer(links,options){if(this.options=options||marked.defaults,this.links=links,this.rules=inline.normal,this.renderer=this.options.renderer||new Renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=inline.breaks:this.rules=inline.gfm:this.options.pedantic&&(this.rules=inline.pedantic)}function Renderer(options){this.options=options||{}}function Parser(options){this.tokens=[],this.token=null,this.options=options||marked.defaults,this.options.renderer=this.options.renderer||new Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options}function escape(html,encode){return html.replace(encode?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function unescape(html){return html.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(_,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""})}function replace(regex,opt){return regex=regex.source,opt=opt||"",function self(name,val){return name?(val=val.source||val,val=val.replace(/(^|[^\[])\^/g,"$1"),regex=regex.replace(name,val),self):new RegExp(regex,opt)}}function noop(){}function merge(obj){for(var target,key,i=1;i<arguments.length;i++){target=arguments[i];for(key in target)Object.prototype.hasOwnProperty.call(target,key)&&(obj[key]=target[key])}return obj}function marked(src,opt,callback){if(callback||"function"==typeof opt){callback||(callback=opt,opt=null);var tokens,pending,highlight=(opt=merge({},marked.defaults,opt||{})).highlight,i=0;try{tokens=Lexer.lex(src,opt)}catch(e){return callback(e)}pending=tokens.length;var done=function(err){if(err)return opt.highlight=highlight,callback(err);var out;try{out=Parser.parse(tokens,opt)}catch(e){err=e}return opt.highlight=highlight,err?callback(err):callback(null,out)};if(!highlight||highlight.length<3)return done();if(delete opt.highlight,!pending)return done();for(;i<tokens.length;i++)!function(token){"code"!==token.type?--pending||done():highlight(token.text,token.lang,function(err,code){return err?done(err):null==code||code===token.text?--pending||done():(token.text=code,token.escaped=!0,void(--pending||done()))})}(tokens[i])}else try{return opt&&(opt=merge({},marked.defaults,opt)),Parser.parse(Lexer.lex(src,opt),opt)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(opt||marked.defaults).silent)return"<p>An error occured:</p><pre>"+escape(e.message+"",!0)+"</pre>";throw e}}var block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:noop,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:noop,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:noop,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};block.bullet=/(?:[*+-]|\d+\.)/,block.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,block.item=replace(block.item,"gm")(/bull/g,block.bullet)(),block.list=replace(block.list)(/bull/g,block.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+block.def.source+")")(),block.blockquote=replace(block.blockquote)("def",block.def)(),block._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",block.html=replace(block.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,block._tag)(),block.paragraph=replace(block.paragraph)("hr",block.hr)("heading",block.heading)("lheading",block.lheading)("blockquote",block.blockquote)("tag","<"+block._tag)("def",block.def)(),block.normal=merge({},block),block.gfm=merge({},block.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),block.gfm.paragraph=replace(block.paragraph)("(?!","(?!"+block.gfm.fences.source.replace("\\1","\\2")+"|"+block.list.source.replace("\\1","\\3")+"|")(),block.tables=merge({},block.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),Lexer.rules=block,Lexer.lex=function(src,options){return new Lexer(options).lex(src)},Lexer.prototype.lex=function(src){return src=src.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(src,!0)},Lexer.prototype.token=function(src,top,bq){for(var next,loose,cap,bull,b,item,space,i,l,src=src.replace(/^ +$/gm,"");src;)if((cap=this.rules.newline.exec(src))&&(src=src.substring(cap[0].length),cap[0].length>1&&this.tokens.push({type:"space"})),cap=this.rules.code.exec(src))src=src.substring(cap[0].length),cap=cap[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?cap:cap.replace(/\n+$/,"")});else if(cap=this.rules.fences.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"code",lang:cap[2],text:cap[3]||""});else if(cap=this.rules.heading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:cap[1].length,text:cap[2]});else if(top&&(cap=this.rules.nptable.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/\n$/,"").split("\n")},i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].split(/ *\| */);this.tokens.push(item)}else if(cap=this.rules.lheading.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"heading",depth:"="===cap[2]?1:2,text:cap[1]});else if(cap=this.rules.hr.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"hr"});else if(cap=this.rules.blockquote.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"blockquote_start"}),cap=cap[0].replace(/^ *> ?/gm,""),this.token(cap,top,!0),this.tokens.push({type:"blockquote_end"});else if(cap=this.rules.list.exec(src)){for(src=src.substring(cap[0].length),bull=cap[2],this.tokens.push({type:"list_start",ordered:bull.length>1}),next=!1,l=(cap=cap[0].match(this.rules.item)).length,i=0;i<l;i++)space=(item=cap[i]).length,~(item=item.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(space-=item.length,item=this.options.pedantic?item.replace(/^ {1,4}/gm,""):item.replace(new RegExp("^ {1,"+space+"}","gm"),"")),this.options.smartLists&&i!==l-1&&(bull===(b=block.bullet.exec(cap[i+1])[0])||bull.length>1&&b.length>1||(src=cap.slice(i+1).join("\n")+src,i=l-1)),loose=next||/\n\n(?!\s*$)/.test(item),i!==l-1&&(next="\n"===item.charAt(item.length-1),loose||(loose=next)),this.tokens.push({type:loose?"loose_item_start":"list_item_start"}),this.token(item,!1,bq),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(cap=this.rules.html.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===cap[1]||"script"===cap[1]||"style"===cap[1]),text:cap[0]});else if(!bq&&top&&(cap=this.rules.def.exec(src)))src=src.substring(cap[0].length),this.tokens.links[cap[1].toLowerCase()]={href:cap[2],title:cap[3]};else if(top&&(cap=this.rules.table.exec(src))){for(src=src.substring(cap[0].length),item={type:"table",header:cap[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:cap[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:cap[3].replace(/(?: *\| *)?\n$/,"").split("\n")},i=0;i<item.align.length;i++)/^ *-+: *$/.test(item.align[i])?item.align[i]="right":/^ *:-+: *$/.test(item.align[i])?item.align[i]="center":/^ *:-+ *$/.test(item.align[i])?item.align[i]="left":item.align[i]=null;for(i=0;i<item.cells.length;i++)item.cells[i]=item.cells[i].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(item)}else if(top&&(cap=this.rules.paragraph.exec(src)))src=src.substring(cap[0].length),this.tokens.push({type:"paragraph",text:"\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1]});else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),this.tokens.push({type:"text",text:cap[0]});else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0));return this.tokens};var inline={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:noop,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:noop,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};inline._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,inline._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,inline.link=replace(inline.link)("inside",inline._inside)("href",inline._href)(),inline.reflink=replace(inline.reflink)("inside",inline._inside)(),inline.normal=merge({},inline),inline.pedantic=merge({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),inline.gfm=merge({},inline.normal,{escape:replace(inline.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:replace(inline.text)("]|","~]|")("|","|https?://|")()}),inline.breaks=merge({},inline.gfm,{br:replace(inline.br)("{2,}","*")(),text:replace(inline.gfm.text)("{2,}","*")()}),InlineLexer.rules=inline,InlineLexer.output=function(src,links,options){return new InlineLexer(links,options).output(src)},InlineLexer.prototype.output=function(src){for(var link,text,href,cap,out="";src;)if(cap=this.rules.escape.exec(src))src=src.substring(cap[0].length),out+=cap[1];else if(cap=this.rules.autolink.exec(src))src=src.substring(cap[0].length),"@"===cap[2]?(text=":"===cap[1].charAt(6)?this.mangle(cap[1].substring(7)):this.mangle(cap[1]),href=this.mangle("mailto:")+text):href=text=escape(cap[1]),out+=this.renderer.link(href,null,text);else if(this.inLink||!(cap=this.rules.url.exec(src))){if(cap=this.rules.tag.exec(src))!this.inLink&&/^<a /i.test(cap[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(cap[0])&&(this.inLink=!1),src=src.substring(cap[0].length),out+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cap[0]):escape(cap[0]):cap[0];else if(cap=this.rules.link.exec(src))src=src.substring(cap[0].length),this.inLink=!0,out+=this.outputLink(cap,{href:cap[2],title:cap[3]}),this.inLink=!1;else if((cap=this.rules.reflink.exec(src))||(cap=this.rules.nolink.exec(src))){if(src=src.substring(cap[0].length),link=(cap[2]||cap[1]).replace(/\s+/g," "),!(link=this.links[link.toLowerCase()])||!link.href){out+=cap[0].charAt(0),src=cap[0].substring(1)+src;continue}this.inLink=!0,out+=this.outputLink(cap,link),this.inLink=!1}else if(cap=this.rules.strong.exec(src))src=src.substring(cap[0].length),out+=this.renderer.strong(this.output(cap[2]||cap[1]));else if(cap=this.rules.em.exec(src))src=src.substring(cap[0].length),out+=this.renderer.em(this.output(cap[2]||cap[1]));else if(cap=this.rules.code.exec(src))src=src.substring(cap[0].length),out+=this.renderer.codespan(escape(cap[2],!0));else if(cap=this.rules.br.exec(src))src=src.substring(cap[0].length),out+=this.renderer.br();else if(cap=this.rules.del.exec(src))src=src.substring(cap[0].length),out+=this.renderer.del(this.output(cap[1]));else if(cap=this.rules.text.exec(src))src=src.substring(cap[0].length),out+=this.renderer.text(escape(this.smartypants(cap[0])));else if(src)throw new Error("Infinite loop on byte: "+src.charCodeAt(0))}else src=src.substring(cap[0].length),href=text=escape(cap[1]),out+=this.renderer.link(href,null,text);return out},InlineLexer.prototype.outputLink=function(cap,link){var href=escape(link.href),title=link.title?escape(link.title):null;return"!"!==cap[0].charAt(0)?this.renderer.link(href,title,this.output(cap[1])):this.renderer.image(href,title,escape(cap[1]))},InlineLexer.prototype.smartypants=function(text){return this.options.smartypants?text.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):text},InlineLexer.prototype.mangle=function(text){if(!this.options.mangle)return text;for(var ch,out="",l=text.length,i=0;i<l;i++)ch=text.charCodeAt(i),Math.random()>.5&&(ch="x"+ch.toString(16)),out+="&#"+ch+";";return out},Renderer.prototype.code=function(code,lang,escaped){if(this.options.highlight){var out=this.options.highlight(code,lang);null!=out&&out!==code&&(escaped=!0,code=out)}return lang?'<pre><code class="'+this.options.langPrefix+escape(lang,!0)+'">'+(escaped?code:escape(code,!0))+"\n</code></pre>\n":"<pre><code>"+(escaped?code:escape(code,!0))+"\n</code></pre>"},Renderer.prototype.blockquote=function(quote){return"<blockquote>\n"+quote+"</blockquote>\n"},Renderer.prototype.html=function(html){return html},Renderer.prototype.heading=function(text,level,raw){return"<h"+level+' id="'+this.options.headerPrefix+raw.toLowerCase().replace(/[^\w]+/g,"-")+'">'+text+"</h"+level+">\n"},Renderer.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Renderer.prototype.list=function(body,ordered){var type=ordered?"ol":"ul";return"<"+type+">\n"+body+"</"+type+">\n"},Renderer.prototype.listitem=function(text){return"<li>"+text+"</li>\n"},Renderer.prototype.paragraph=function(text){return"<p>"+text+"</p>\n"},Renderer.prototype.table=function(header,body){return"<table>\n<thead>\n"+header+"</thead>\n<tbody>\n"+body+"</tbody>\n</table>\n"},Renderer.prototype.tablerow=function(content){return"<tr>\n"+content+"</tr>\n"},Renderer.prototype.tablecell=function(content,flags){var type=flags.header?"th":"td";return(flags.align?"<"+type+' style="text-align:'+flags.align+'">':"<"+type+">")+content+"</"+type+">\n"},Renderer.prototype.strong=function(text){return"<strong>"+text+"</strong>"},Renderer.prototype.em=function(text){return"<em>"+text+"</em>"},Renderer.prototype.codespan=function(text){return"<code>"+text+"</code>"},Renderer.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},Renderer.prototype.del=function(text){return"<del>"+text+"</del>"},Renderer.prototype.link=function(href,title,text){if(this.options.sanitize){try{var prot=decodeURIComponent(unescape(href)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===prot.indexOf("javascript:")||0===prot.indexOf("vbscript:")||0===prot.indexOf("data:"))return""}var out='<a href="'+href+'"';return title&&(out+=' title="'+title+'"'),out+=">"+text+"</a>"},Renderer.prototype.image=function(href,title,text){var out='<img src="'+href+'" alt="'+text+'"';return title&&(out+=' title="'+title+'"'),out+=this.options.xhtml?"/>":">"},Renderer.prototype.text=function(text){return text},Parser.parse=function(src,options,renderer){return new Parser(options,renderer).parse(src)},Parser.prototype.parse=function(src){this.inline=new InlineLexer(src.links,this.options,this.renderer),this.tokens=src.reverse();for(var out="";this.next();)out+=this.tok();return out},Parser.prototype.next=function(){return this.token=this.tokens.pop()},Parser.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},Parser.prototype.parseText=function(){for(var body=this.token.text;"text"===this.peek().type;)body+="\n"+this.next().text;return this.inline.output(body)},Parser.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var i,row,cell,j,header="",body="";for(cell="",i=0;i<this.token.header.length;i++)({header:!0,align:this.token.align[i]}),cell+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:!0,align:this.token.align[i]});for(header+=this.renderer.tablerow(cell),i=0;i<this.token.cells.length;i++){for(row=this.token.cells[i],cell="",j=0;j<row.length;j++)cell+=this.renderer.tablecell(this.inline.output(row[j]),{header:!1,align:this.token.align[j]});body+=this.renderer.tablerow(cell)}return this.renderer.table(header,body);case"blockquote_start":for(body="";"blockquote_end"!==this.next().type;)body+=this.tok();return this.renderer.blockquote(body);case"list_start":for(var body="",ordered=this.token.ordered;"list_end"!==this.next().type;)body+=this.tok();return this.renderer.list(body,ordered);case"list_item_start":for(body="";"list_item_end"!==this.next().type;)body+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(body);case"loose_item_start":for(body="";"list_item_end"!==this.next().type;)body+=this.tok();return this.renderer.listitem(body);case"html":var html=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(html);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},noop.exec=noop,marked.options=marked.setOptions=function(opt){return merge(marked.defaults,opt),marked},marked.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new Renderer,xhtml:!1},marked.Parser=Parser,marked.parser=Parser.parse,marked.Renderer=Renderer,marked.Lexer=Lexer,marked.lexer=Lexer.lex,marked.InlineLexer=InlineLexer,marked.inlineLexer=InlineLexer.output,marked.parse=marked,"undefined"!=typeof module&&"object"==typeof exports?module.exports=marked:"function"==typeof define&&define.amd?define(function(){return marked}):this.marked=marked}.call(function(){return this||("undefined"!=typeof window?window:global)}());var stack_bottomleft={dir1:"right",dir2:"up",push:"top"};!function(root,factory){"function"==typeof define&&define.amd?define("pnotify",["jquery"],function($){return factory($,root)}):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),global||root):root.PNotify=factory(root.jQuery,root)}("undefined"!=typeof window?window:this,function($,root){var init=function(root){var posTimer,body,default_stack={dir1:"down",dir2:"left",push:"bottom",spacing1:36,spacing2:36,context:$("body"),modal:!1},jwindow=$(root),do_when_ready=function(){body=$("body"),PNotify.prototype.options.stack.context=body,(jwindow=$(root)).bind("resize",function(){posTimer&&clearTimeout(posTimer),posTimer=setTimeout(function(){PNotify.positionAll(!0)},10)})},createStackOverlay=function(stack){var overlay=$("<div />",{class:"ui-pnotify-modal-overlay"});return overlay.prependTo(stack.context),stack.overlay_close&&overlay.click(function(){PNotify.removeStack(stack)}),overlay},PNotify=function(options){this.state="initializing",this.timer=null,this.animTimer=null,this.styles=null,this.elem=null,this.container=null,this.title_container=null,this.text_container=null,this.animating=!1,this.timerHide=!1,this.parseOptions(options),this.init()};return $.extend(PNotify.prototype,{version:"3.2.0",options:{title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"brighttheme",addclass:"",cornerclass:"",auto_display:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"normal",shadow:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,destroy:!0,stack:default_stack},modules:{},runModules:function(event,arg){var curArg;for(var module in this.modules)curArg="object"==typeof arg&&module in arg?arg[module]:arg,"function"==typeof this.modules[module][event]&&(this.modules[module].notice=this,this.modules[module].options="object"==typeof this.options[module]?this.options[module]:{},this.modules[module][event](this,"object"==typeof this.options[module]?this.options[module]:{},curArg))},init:function(){var that=this;return this.modules={},$.extend(!0,this.modules,PNotify.prototype.modules),"object"==typeof this.options.styling?this.styles=this.options.styling:this.styles=PNotify.styling[this.options.styling],this.elem=$("<div />",{class:"ui-pnotify "+this.options.addclass,css:{display:"none"},"aria-live":"assertive","aria-role":"alertdialog",mouseenter:function(e){if(that.options.mouse_reset&&"out"===that.animating){if(!that.timerHide)return;that.cancelRemove()}that.options.hide&&that.options.mouse_reset&&that.cancelRemove()},mouseleave:function(e){that.options.hide&&that.options.mouse_reset&&"out"!==that.animating&&that.queueRemove(),PNotify.positionAll()}}),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.container=$("<div />",{class:this.styles.container+" ui-pnotify-container "+("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),role:"alert"}).appendTo(this.elem),""!==this.options.cornerclass&&this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass),this.options.shadow&&this.container.addClass("ui-pnotify-shadow"),!1!==this.options.icon&&$("<div />",{class:"ui-pnotify-icon"}).append($("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container),this.title_container=$("<h4 />",{class:"ui-pnotify-title"}).appendTo(this.container),!1===this.options.title?this.title_container.hide():this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),this.text_container=$("<div />",{class:"ui-pnotify-text","aria-role":"alert"}).appendTo(this.container),!1===this.options.text?this.text_container.hide():this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),"string"==typeof this.options.width&&this.elem.css("width",this.options.width),"string"==typeof this.options.min_height&&this.container.css("min-height",this.options.min_height),"top"===this.options.stack.push?PNotify.notices=$.merge([this],PNotify.notices):PNotify.notices=$.merge(PNotify.notices,[this]),"top"===this.options.stack.push&&this.queuePosition(!1,1),this.options.stack.animation=!1,this.runModules("init"),this.state="closed",this.options.auto_display&&this.open(),this},update:function(options){var oldOpts=this.options;return this.parseOptions(oldOpts,options),this.elem.removeClass("ui-pnotify-fade-slow ui-pnotify-fade-normal ui-pnotify-fade-fast"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-"+this.options.animate_speed),this.options.cornerclass!==oldOpts.cornerclass&&this.container.removeClass("ui-corner-all "+oldOpts.cornerclass).addClass(this.options.cornerclass),this.options.shadow!==oldOpts.shadow&&(this.options.shadow?this.container.addClass("ui-pnotify-shadow"):this.container.removeClass("ui-pnotify-shadow")),!1===this.options.addclass?this.elem.removeClass(oldOpts.addclass):this.options.addclass!==oldOpts.addclass&&this.elem.removeClass(oldOpts.addclass).addClass(this.options.addclass),!1===this.options.title?this.title_container.slideUp("fast"):this.options.title!==oldOpts.title&&(this.options.title_escape?this.title_container.text(this.options.title):this.title_container.html(this.options.title),!1===oldOpts.title&&this.title_container.slideDown(200)),!1===this.options.text?this.text_container.slideUp("fast"):this.options.text!==oldOpts.text&&(this.options.text_escape?this.text_container.text(this.options.text):this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text),!1===oldOpts.text&&this.text_container.slideDown(200)),this.options.type!==oldOpts.type&&this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass("error"===this.options.type?this.styles.error:"info"===this.options.type?this.styles.info:"success"===this.options.type?this.styles.success:this.styles.notice),(this.options.icon!==oldOpts.icon||!0===this.options.icon&&this.options.type!==oldOpts.type)&&(this.container.find("div.ui-pnotify-icon").remove(),!1!==this.options.icon&&$("<div />",{class:"ui-pnotify-icon"}).append($("<span />",{class:!0===this.options.icon?"error"===this.options.type?this.styles.error_icon:"info"===this.options.type?this.styles.info_icon:"success"===this.options.type?this.styles.success_icon:this.styles.notice_icon:this.options.icon})).prependTo(this.container)),this.options.width!==oldOpts.width&&this.elem.animate({width:this.options.width}),this.options.min_height!==oldOpts.min_height&&this.container.animate({minHeight:this.options.min_height}),this.options.hide?oldOpts.hide||this.queueRemove():this.cancelRemove(),this.queuePosition(!0),this.runModules("update",oldOpts),this},open:function(){this.state="opening",this.runModules("beforeOpen");var that=this;return this.elem.parent().length||this.elem.appendTo(this.options.stack.context?this.options.stack.context:body),"top"!==this.options.stack.push&&this.position(!0),this.animateIn(function(){that.queuePosition(!0),that.options.hide&&that.queueRemove(),that.state="open",that.runModules("afterOpen")}),this},remove:function(timer_hide){this.state="closing",this.timerHide=!!timer_hide,this.runModules("beforeClose");var that=this;return this.timer&&(root.clearTimeout(this.timer),this.timer=null),this.animateOut(function(){if(that.state="closed",that.runModules("afterClose"),that.queuePosition(!0),that.options.remove&&that.elem.detach(),that.runModules("beforeDestroy"),that.options.destroy&&null!==PNotify.notices){var idx=$.inArray(that,PNotify.notices);-1!==idx&&PNotify.notices.splice(idx,1)}that.runModules("afterDestroy")}),this},get:function(){return this.elem},parseOptions:function(options,moreOptions){this.options=$.extend(!0,{},PNotify.prototype.options),this.options.stack=PNotify.prototype.options.stack;for(var curOpts,optArray=[options,moreOptions],curIndex=0;curIndex<optArray.length&&void 0!==(curOpts=optArray[curIndex]);curIndex++)if("object"!=typeof curOpts)this.options.text=curOpts;else for(var option in curOpts)this.modules[option]?$.extend(!0,this.options[option],curOpts[option]):this.options[option]=curOpts[option]},animateIn:function(callback){this.animating="in";var that=this,finished=function(){that.animTimer&&clearTimeout(that.animTimer),"in"===that.animating&&(that.elem.is(":visible")?(callback&&callback.call(),that.animating=!1):that.animTimer=setTimeout(finished,40))};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",finished).addClass("ui-pnotify-in"),this.elem.css("opacity"),this.elem.addClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(finished,650)):(this.elem.addClass("ui-pnotify-in"),finished())},animateOut:function(callback){this.animating="out";var that=this,finished=function(){if(that.animTimer&&clearTimeout(that.animTimer),"out"===that.animating)if("0"!=that.elem.css("opacity")&&that.elem.is(":visible"))that.animTimer=setTimeout(finished,40);else{if(that.elem.removeClass("ui-pnotify-in"),that.options.stack.overlay){var stillOpen=!1;$.each(PNotify.notices,function(i,notice){notice!=that&&notice.options.stack===that.options.stack&&"closed"!=notice.state&&(stillOpen=!0)}),stillOpen||that.options.stack.overlay.hide()}callback&&callback.call(),that.animating=!1}};"fade"===this.options.animation?(this.elem.one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd oTransitionEnd transitionend",finished).removeClass("ui-pnotify-fade-in"),this.animTimer=setTimeout(finished,650)):(this.elem.removeClass("ui-pnotify-in"),finished())},position:function(dontSkipHidden){var stack=this.options.stack,elem=this.elem;if(void 0===stack.context&&(stack.context=body),stack){"number"!=typeof stack.nextpos1&&(stack.nextpos1=stack.firstpos1),"number"!=typeof stack.nextpos2&&(stack.nextpos2=stack.firstpos2),"number"!=typeof stack.addpos2&&(stack.addpos2=0);var hidden=!elem.hasClass("ui-pnotify-in");if(!hidden||dontSkipHidden){stack.modal&&(stack.overlay?stack.overlay.show():stack.overlay=createStackOverlay(stack)),elem.addClass("ui-pnotify-move");var curpos1,curpos2,csspos1;switch(stack.dir1){case"down":csspos1="top";break;case"up":csspos1="bottom";break;case"left":csspos1="right";break;case"right":csspos1="left"}curpos1=parseInt(elem.css(csspos1).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(curpos1)&&(curpos1=0),void 0!==stack.firstpos1||hidden||(stack.firstpos1=curpos1,stack.nextpos1=stack.firstpos1);var csspos2;switch(stack.dir2){case"down":csspos2="top";break;case"up":csspos2="bottom";break;case"left":csspos2="right";break;case"right":csspos2="left"}switch(curpos2=parseInt(elem.css(csspos2).replace(/(?:\..*|[^0-9.])/g,"")),isNaN(curpos2)&&(curpos2=0),void 0!==stack.firstpos2||hidden||(stack.firstpos2=curpos2,stack.nextpos2=stack.firstpos2),("down"===stack.dir1&&stack.nextpos1+elem.height()>(stack.context.is(body)?jwindow.height():stack.context.prop("scrollHeight"))||"up"===stack.dir1&&stack.nextpos1+elem.height()>(stack.context.is(body)?jwindow.height():stack.context.prop("scrollHeight"))||"left"===stack.dir1&&stack.nextpos1+elem.width()>(stack.context.is(body)?jwindow.width():stack.context.prop("scrollWidth"))||"right"===stack.dir1&&stack.nextpos1+elem.width()>(stack.context.is(body)?jwindow.width():stack.context.prop("scrollWidth")))&&(stack.nextpos1=stack.firstpos1,stack.nextpos2+=stack.addpos2+(void 0===stack.spacing2?25:stack.spacing2),stack.addpos2=0),"number"==typeof stack.nextpos2&&(stack.animation?elem.css(csspos2,stack.nextpos2+"px"):(elem.removeClass("ui-pnotify-move"),elem.css(csspos2,stack.nextpos2+"px"),elem.css(csspos2),elem.addClass("ui-pnotify-move"))),stack.dir2){case"down":case"up":elem.outerHeight(!0)>stack.addpos2&&(stack.addpos2=elem.height());break;case"left":case"right":elem.outerWidth(!0)>stack.addpos2&&(stack.addpos2=elem.width())}switch("number"==typeof stack.nextpos1&&(stack.animation?elem.css(csspos1,stack.nextpos1+"px"):(elem.removeClass("ui-pnotify-move"),elem.css(csspos1,stack.nextpos1+"px"),elem.css(csspos1),elem.addClass("ui-pnotify-move"))),stack.dir1){case"down":case"up":stack.nextpos1+=elem.height()+(void 0===stack.spacing1?25:stack.spacing1);break;case"left":case"right":stack.nextpos1+=elem.width()+(void 0===stack.spacing1?25:stack.spacing1)}}return this}},queuePosition:function(animate,milliseconds){return posTimer&&clearTimeout(posTimer),milliseconds||(milliseconds=10),posTimer=setTimeout(function(){PNotify.positionAll(animate)},milliseconds),this},cancelRemove:function(){return this.timer&&root.clearTimeout(this.timer),this.animTimer&&root.clearTimeout(this.animTimer),"closing"===this.state&&(this.state="open",this.animating=!1,this.elem.addClass("ui-pnotify-in"),"fade"===this.options.animation&&this.elem.addClass("ui-pnotify-fade-in")),this},queueRemove:function(){var that=this;return this.cancelRemove(),this.timer=root.setTimeout(function(){that.remove(!0)},isNaN(this.options.delay)?0:this.options.delay),this}}),$.extend(PNotify,{notices:[],reload:init,removeAll:function(){$.each(PNotify.notices,function(i,notice){notice.remove&&notice.remove(!1)})},removeStack:function(stack){$.each(PNotify.notices,function(i,notice){notice.remove&&notice.options.stack===stack&&notice.remove(!1)})},positionAll:function(animate){if(posTimer&&clearTimeout(posTimer),posTimer=null,PNotify.notices&&PNotify.notices.length)$.each(PNotify.notices,function(i,notice){var s=notice.options.stack;s&&(s.overlay&&s.overlay.hide(),s.nextpos1=s.firstpos1,s.nextpos2=s.firstpos2,s.addpos2=0,s.animation=animate)}),$.each(PNotify.notices,function(i,notice){notice.position()});else{var s=PNotify.prototype.options.stack;s&&(delete s.nextpos1,delete s.nextpos2)}},styling:{brighttheme:{container:"brighttheme",notice:"brighttheme-notice",notice_icon:"brighttheme-icon-notice",info:"brighttheme-info",info_icon:"brighttheme-icon-info",success:"brighttheme-success",success_icon:"brighttheme-icon-success",error:"brighttheme-error",error_icon:"brighttheme-icon-error"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}}),PNotify.styling.fontawesome=$.extend({},PNotify.styling.bootstrap3),$.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"}),root.document.body?do_when_ready():$(do_when_ready),PNotify};return init(root)}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.buttons",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){return PNotify.prototype.options.buttons={closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,show_on_nonblock:!1,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pin_up:null,pin_down:null}},PNotify.prototype.modules.buttons={init:function(notice,options){var that=this;notice.elem.on({mouseenter:function(e){!that.options.sticker||notice.options.nonblock&&notice.options.nonblock.nonblock&&!that.options.show_on_nonblock||that.sticker.trigger("pnotify:buttons:toggleStick").css("visibility","visible"),!that.options.closer||notice.options.nonblock&&notice.options.nonblock.nonblock&&!that.options.show_on_nonblock||that.closer.css("visibility","visible")},mouseleave:function(e){that.options.sticker_hover&&that.sticker.css("visibility","hidden"),that.options.closer_hover&&that.closer.css("visibility","hidden")}}),this.sticker=$("<div />",{class:"ui-pnotify-sticker","aria-role":"button","aria-pressed":notice.options.hide?"false":"true",tabindex:"0",title:notice.options.hide?options.labels.stick:options.labels.unstick,css:{cursor:"pointer",visibility:options.sticker_hover?"hidden":"visible"},click:function(){notice.options.hide=!notice.options.hide,notice.options.hide?notice.queueRemove():notice.cancelRemove(),$(this).trigger("pnotify:buttons:toggleStick")}}).bind("pnotify:buttons:toggleStick",function(){var pin_up=null===that.options.classes.pin_up?notice.styles.pin_up:that.options.classes.pin_up,pin_down=null===that.options.classes.pin_down?notice.styles.pin_down:that.options.classes.pin_down;$(this).attr("title",notice.options.hide?that.options.labels.stick:that.options.labels.unstick).children().attr("class","").addClass(notice.options.hide?pin_up:pin_down).attr("aria-pressed",notice.options.hide?"false":"true")}).append("<span />").trigger("pnotify:buttons:toggleStick").prependTo(notice.container),(!options.sticker||notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)&&this.sticker.css("display","none"),this.closer=$("<div />",{class:"ui-pnotify-closer","aria-role":"button",tabindex:"0",title:options.labels.close,css:{cursor:"pointer",visibility:options.closer_hover?"hidden":"visible"},click:function(){notice.remove(!1),that.sticker.css("visibility","hidden"),that.closer.css("visibility","hidden")}}).append($("<span />",{class:null===options.classes.closer?notice.styles.closer:options.classes.closer})).prependTo(notice.container),(!options.closer||notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock)&&this.closer.css("display","none")},update:function(notice,options){!options.closer||notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock?this.closer.css("display","none"):options.closer&&this.closer.css("display","block"),!options.sticker||notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock?this.sticker.css("display","none"):options.sticker&&this.sticker.css("display","block"),this.sticker.trigger("pnotify:buttons:toggleStick"),this.closer.find("span").attr("class","").addClass(null===options.classes.closer?notice.styles.closer:options.classes.closer),options.sticker_hover?this.sticker.css("visibility","hidden"):notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock||this.sticker.css("visibility","visible"),options.closer_hover?this.closer.css("visibility","hidden"):notice.options.nonblock&&notice.options.nonblock.nonblock&&!options.show_on_nonblock||this.closer.css("visibility","visible")}},$.extend(PNotify.styling.brighttheme,{closer:"brighttheme-icon-closer",pin_up:"brighttheme-icon-sticker",pin_down:"brighttheme-icon-sticker brighttheme-icon-stuck"}),$.extend(PNotify.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"}),$.extend(PNotify.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"}),PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.callbacks",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){var _init=PNotify.prototype.init,_open=PNotify.prototype.open,_remove=PNotify.prototype.remove;return PNotify.prototype.init=function(){this.options.before_init&&this.options.before_init(this.options),_init.apply(this,arguments),this.options.after_init&&this.options.after_init(this)},PNotify.prototype.open=function(){var ret;this.options.before_open&&(ret=this.options.before_open(this)),!1!==ret&&(_open.apply(this,arguments),this.options.after_open&&this.options.after_open(this))},PNotify.prototype.remove=function(timer_hide){var ret;this.options.before_close&&(ret=this.options.before_close(this,timer_hide)),!1!==ret&&(_remove.apply(this,arguments),this.options.after_close&&this.options.after_close(this,timer_hide))},PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.confirm",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){return PNotify.prototype.options.confirm={confirm:!1,prompt:!1,prompt_class:"",prompt_default:"",prompt_multi_line:!1,align:"right",buttons:[{text:"Ok",addClass:"",promptTrigger:!0,click:function(notice,value){notice.remove(),notice.get().trigger("pnotify.confirm",[notice,value])}},{text:"Cancel",addClass:"",click:function(notice){notice.remove(),notice.get().trigger("pnotify.cancel",notice)}}]},PNotify.prototype.modules.confirm={init:function(notice,options){this.container=$('<div class="ui-pnotify-action-bar" style="margin-top:5px;clear:both;" />').css("text-align",options.align).appendTo(notice.container),options.confirm||options.prompt?this.makeDialog(notice,options):this.container.hide()},update:function(notice,options){options.confirm?(this.makeDialog(notice,options),this.container.show()):this.container.hide().empty()},afterOpen:function(notice,options){options.prompt&&this.prompt.focus()},makeDialog:function(notice,options){var btn,elem,already=!1,that=this;this.container.empty(),options.prompt&&(this.prompt=$("<"+(options.prompt_multi_line?'textarea rows="5"':'input type="text"')+' style="margin-bottom:5px;clear:both;" />').addClass((void 0===notice.styles.input?"":notice.styles.input)+" "+(void 0===options.prompt_class?"":options.prompt_class)).val(options.prompt_default).appendTo(this.container));for(var customButtons=options.buttons[0]&&options.buttons[0]!==PNotify.prototype.options.confirm.buttons[0],i=0;i<options.buttons.length;i++)null===options.buttons[i]||customButtons&&PNotify.prototype.options.confirm.buttons[i]&&PNotify.prototype.options.confirm.buttons[i]===options.buttons[i]||(btn=options.buttons[i],already?this.container.append(" "):already=!0,elem=$('<button type="button" class="ui-pnotify-action-button" />').addClass((void 0===notice.styles.btn?"":notice.styles.btn)+" "+(void 0===btn.addClass?"":btn.addClass)).text(btn.text).appendTo(this.container).on("click",function(btn){return function(){"function"==typeof btn.click&&btn.click(notice,options.prompt?that.prompt.val():null)}}(btn)),options.prompt&&!options.prompt_multi_line&&btn.promptTrigger&&this.prompt.keypress(function(elem){return function(e){13==e.keyCode&&elem.click()}}(elem)),notice.styles.text&&elem.wrapInner('<span class="'+notice.styles.text+'"></span>'),notice.styles.btnhover&&elem.hover(function(elem){return function(){elem.addClass(notice.styles.btnhover)}}(elem),function(elem){return function(){elem.removeClass(notice.styles.btnhover)}}(elem)),notice.styles.btnactive&&elem.on("mousedown",function(elem){return function(){elem.addClass(notice.styles.btnactive)}}(elem)).on("mouseup",function(elem){return function(){elem.removeClass(notice.styles.btnactive)}}(elem)),notice.styles.btnfocus&&elem.on("focus",function(elem){return function(){elem.addClass(notice.styles.btnfocus)}}(elem)).on("blur",function(elem){return function(){elem.removeClass(notice.styles.btnfocus)}}(elem)))}},$.extend(PNotify.styling.bootstrap3,{btn:"btn btn-default",input:"form-control"}),$.extend(PNotify.styling.fontawesome,{btn:"btn btn-default",input:"form-control"}),PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.desktop",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){var permission,notify=function(title,options){return(notify="Notification"in window?function(title,options){return new Notification(title,options)}:"mozNotification"in navigator?function(title,options){return navigator.mozNotification.createNotification(title,options.body,options.icon).show()}:"webkitNotifications"in window?function(title,options){return window.webkitNotifications.createNotification(options.icon,title,options.body)}:function(title,options){return null})(title,options)};return PNotify.prototype.options.desktop={desktop:!1,fallback:!0,icon:null,tag:null,title:null,text:null},PNotify.prototype.modules.desktop={genNotice:function(notice,options){null===options.icon?this.icon="http://sciactive.com/pnotify/includes/desktop/"+notice.options.type+".png":!1===options.icon?this.icon=null:this.icon=options.icon,null!==this.tag&&null===options.tag||(this.tag=null===options.tag?"PNotify-"+Math.round(1e6*Math.random()):options.tag),notice.desktop=notify(options.title||notice.options.title,{icon:this.icon,body:options.text||notice.options.text,tag:this.tag}),!("close"in notice.desktop)&&"cancel"in notice.desktop&&(notice.desktop.close=function(){notice.desktop.cancel()}),notice.desktop.onclick=function(){notice.elem.trigger("click")},notice.desktop.onclose=function(){"closing"!==notice.state&&"closed"!==notice.state&&notice.remove()}},init:function(notice,options){options.desktop&&(0===(permission=PNotify.desktop.checkPermission())?this.genNotice(notice,options):options.fallback||(notice.options.auto_display=!1))},update:function(notice,options,oldOpts){0!==permission&&options.fallback||!options.desktop||this.genNotice(notice,options)},beforeOpen:function(notice,options){0!==permission&&options.fallback||!options.desktop||notice.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterOpen:function(notice,options){0!==permission&&options.fallback||!options.desktop||(notice.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"show"in notice.desktop&&notice.desktop.show())},beforeClose:function(notice,options){0!==permission&&options.fallback||!options.desktop||notice.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in")},afterClose:function(notice,options){0!==permission&&options.fallback||!options.desktop||(notice.elem.css({left:"-10000px"}).removeClass("ui-pnotify-in"),"close"in notice.desktop&&notice.desktop.close())}},PNotify.desktop={permission:function(){"undefined"!=typeof Notification&&"requestPermission"in Notification?Notification.requestPermission():"webkitNotifications"in window&&window.webkitNotifications.requestPermission()},checkPermission:function(){return"undefined"!=typeof Notification&&"permission"in Notification?"granted"===Notification.permission?0:1:"webkitNotifications"in window&&0==window.webkitNotifications.checkPermission()?0:1}},permission=PNotify.desktop.checkPermission(),PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){var history_menu,history_handle_top;return $(function(){$("body").on("pnotify.history-all",function(){$.each(PNotify.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var notice,pushTop="top"===PNotify.prototype.options.stack.push,i=pushTop?0:-1;do{if(!(notice=-1===i?PNotify.notices.slice(i):PNotify.notices.slice(i,i+1))[0])return!1;i=pushTop?i+1:i-1}while(!notice[0].modules.history.inHistory||notice[0].elem.is(":visible"));notice[0].open&&notice[0].open()})}),PNotify.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},PNotify.prototype.modules.history={init:function(notice,options){if(notice.options.destroy=!1,this.inHistory=options.history,options.menu&&void 0===history_menu){history_menu=$("<div />",{class:"ui-pnotify-history-container "+notice.styles.hi_menu,mouseleave:function(){history_menu.css("top","-"+history_handle_top+"px")}}).append($("<div />",{class:"ui-pnotify-history-header",text:options.labels.redisplay})).append($("<button />",{class:"ui-pnotify-history-all "+notice.styles.hi_btn,text:options.labels.all,mouseenter:function(){$(this).addClass(notice.styles.hi_btnhov)},mouseleave:function(){$(this).removeClass(notice.styles.hi_btnhov)},click:function(){return $(this).trigger("pnotify.history-all"),!1}})).append($("<button />",{class:"ui-pnotify-history-last "+notice.styles.hi_btn,text:options.labels.last,mouseenter:function(){$(this).addClass(notice.styles.hi_btnhov)},mouseleave:function(){$(this).removeClass(notice.styles.hi_btnhov)},click:function(){return $(this).trigger("pnotify.history-last"),!1}})).appendTo("body");var handle=$("<span />",{class:"ui-pnotify-history-pulldown "+notice.styles.hi_hnd,mouseenter:function(){history_menu.css("top","0")}}).appendTo(history_menu);history_handle_top=handle.offset().top+2,history_menu.css("top","-"+history_handle_top+"px"),options.fixed&&history_menu.addClass("ui-pnotify-history-fixed")}},update:function(notice,options){this.inHistory=options.history,options.fixed&&history_menu?history_menu.addClass("ui-pnotify-history-fixed"):history_menu&&history_menu.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(notice,options){if(PNotify.notices&&PNotify.notices.length>options.maxonscreen){var el;el="top"!==notice.options.stack.push?PNotify.notices.slice(0,PNotify.notices.length-options.maxonscreen):PNotify.notices.slice(options.maxonscreen,PNotify.notices.length),$.each(el,function(){this.remove&&this.remove()})}}},$.extend(PNotify.styling.brighttheme,{hi_menu:"ui-pnotify-history-brighttheme",hi_btn:"",hi_btnhov:"",hi_hnd:""}),$.extend(PNotify.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),$.extend(PNotify.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}),PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.mobile",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){return PNotify.prototype.options.mobile={swipe_dismiss:!0,styling:!0},PNotify.prototype.modules.mobile={init:function(notice,options){var that=this,origX=null,diffX=null,noticeWidth=null;this.swipe_dismiss=options.swipe_dismiss,this.doMobileStyling(notice,options),notice.elem.on({touchstart:function(e){that.swipe_dismiss&&(origX=e.originalEvent.touches[0].screenX,noticeWidth=notice.elem.width(),notice.container.css("left","0"))},touchmove:function(e){if(origX&&that.swipe_dismiss){var curX=e.originalEvent.touches[0].screenX;diffX=curX-origX;var opacity=(1-Math.abs(diffX)/noticeWidth)*notice.options.opacity;notice.elem.css("opacity",opacity),notice.container.css("left",diffX)}},touchend:function(){if(origX&&that.swipe_dismiss){if(Math.abs(diffX)>40){var goLeft=diffX<0?-2*noticeWidth:2*noticeWidth;notice.elem.animate({opacity:0},100),notice.container.animate({left:goLeft},100),notice.remove()}else notice.elem.animate({opacity:notice.options.opacity},100),notice.container.animate({left:0},100);origX=null,diffX=null,noticeWidth=null}},touchcancel:function(){origX&&that.swipe_dismiss&&(notice.elem.animate({opacity:notice.options.opacity},100),notice.container.animate({left:0},100),origX=null,diffX=null,noticeWidth=null)}})},update:function(notice,options){this.swipe_dismiss=options.swipe_dismiss,this.doMobileStyling(notice,options)},doMobileStyling:function(notice,options){options.styling?(notice.elem.addClass("ui-pnotify-mobile-able"),$(window).width()<=480?(notice.options.stack.mobileOrigSpacing1||(notice.options.stack.mobileOrigSpacing1=notice.options.stack.spacing1,notice.options.stack.mobileOrigSpacing2=notice.options.stack.spacing2),notice.options.stack.spacing1=0,notice.options.stack.spacing2=0):(notice.options.stack.mobileOrigSpacing1||notice.options.stack.mobileOrigSpacing2)&&(notice.options.stack.spacing1=notice.options.stack.mobileOrigSpacing1,delete notice.options.stack.mobileOrigSpacing1,notice.options.stack.spacing2=notice.options.stack.mobileOrigSpacing2,delete notice.options.stack.mobileOrigSpacing2)):(notice.elem.removeClass("ui-pnotify-mobile-able"),notice.options.stack.mobileOrigSpacing1&&(notice.options.stack.spacing1=notice.options.stack.mobileOrigSpacing1,delete notice.options.stack.mobileOrigSpacing1),notice.options.stack.mobileOrigSpacing2&&(notice.options.stack.spacing2=notice.options.stack.mobileOrigSpacing2,delete notice.options.stack.mobileOrigSpacing2))}},PNotify}),function(root,factory){"function"==typeof define&&define.amd?define("pnotify.nonblock",["jquery","pnotify"],factory):"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("jquery"),require("./pnotify")):factory(root.jQuery,root.PNotify)}("undefined"!=typeof window?window:this,function($,PNotify){var nonblock_last_elem,re_on=/^on/,re_mouse_events=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,re_ui_events=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,re_html_events=/^(scroll|resize|(un)?load|abort|error)$/,dom_event=function(e,orig_e){var event_object;if(e=e.toLowerCase(),document.createEvent&&this.dispatchEvent){if((e=e.replace(re_on,"")).match(re_mouse_events)?($(this).offset(),(event_object=document.createEvent("MouseEvents")).initMouseEvent(e,orig_e.bubbles,orig_e.cancelable,orig_e.view,orig_e.detail,orig_e.screenX,orig_e.screenY,orig_e.clientX,orig_e.clientY,orig_e.ctrlKey,orig_e.altKey,orig_e.shiftKey,orig_e.metaKey,orig_e.button,orig_e.relatedTarget)):e.match(re_ui_events)?(event_object=document.createEvent("UIEvents")).initUIEvent(e,orig_e.bubbles,orig_e.cancelable,orig_e.view,orig_e.detail):e.match(re_html_events)&&(event_object=document.createEvent("HTMLEvents")).initEvent(e,orig_e.bubbles,orig_e.cancelable),!event_object)return;this.dispatchEvent(event_object)}else e.match(re_on)||(e="on"+e),event_object=document.createEventObject(orig_e),this.fireEvent(e,event_object)},nonblock_pass=function(notice,e,e_name){notice.elem.addClass("ui-pnotify-nonblock-hide");var element_below=document.elementFromPoint(e.clientX,e.clientY);notice.elem.removeClass("ui-pnotify-nonblock-hide");var jelement_below=$(element_below),cursor_style=jelement_below.css("cursor");"auto"===cursor_style&&"A"===element_below.tagName&&(cursor_style="pointer"),notice.elem.css("cursor","auto"!==cursor_style?cursor_style:"default"),nonblock_last_elem&&nonblock_last_elem.get(0)==element_below||(nonblock_last_elem&&(dom_event.call(nonblock_last_elem.get(0),"mouseleave",e.originalEvent),dom_event.call(nonblock_last_elem.get(0),"mouseout",e.originalEvent)),dom_event.call(element_below,"mouseenter",e.originalEvent),dom_event.call(element_below,"mouseover",e.originalEvent)),dom_event.call(element_below,e_name,e.originalEvent),nonblock_last_elem=jelement_below};return PNotify.prototype.options.nonblock={nonblock:!1},PNotify.prototype.modules.nonblock={init:function(notice,options){var that=this;notice.elem.on({mouseenter:function(e){that.options.nonblock&&e.stopPropagation(),that.options.nonblock&&notice.elem.addClass("ui-pnotify-nonblock-fade")},mouseleave:function(e){that.options.nonblock&&e.stopPropagation(),nonblock_last_elem=null,notice.elem.css("cursor","auto"),that.options.nonblock&&"out"!==notice.animating&&notice.elem.removeClass("ui-pnotify-nonblock-fade")},mouseover:function(e){that.options.nonblock&&e.stopPropagation()},mouseout:function(e){that.options.nonblock&&e.stopPropagation()},mousemove:function(e){that.options.nonblock&&(e.stopPropagation(),nonblock_pass(notice,e,"onmousemove"))},mousedown:function(e){that.options.nonblock&&(e.stopPropagation(),e.preventDefault(),nonblock_pass(notice,e,"onmousedown"))},mouseup:function(e){that.options.nonblock&&(e.stopPropagation(),e.preventDefault(),nonblock_pass(notice,e,"onmouseup"))},click:function(e){that.options.nonblock&&(e.stopPropagation(),nonblock_pass(notice,e,"onclick"))},dblclick:function(e){that.options.nonblock&&(e.stopPropagation(),nonblock_pass(notice,e,"ondblclick"))}})}},PNotify}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.qrcode=t()}(this,function(){function e(e,t){this.count=e,this.dataCodewords=t,Object.defineProperties(this,{Count:{get:function(){return this.count}},DataCodewords:{get:function(){return this.dataCodewords}}})}function t(e,t,r){this.ecCodewordsPerBlock=e,this.ecBlocks=r?new Array(t,r):new Array(t),Object.defineProperties(this,{ECCodewordsPerBlock:{get:function(){return this.ecCodewordsPerBlock}},TotalECCodewords:{get:function(){return this.ecCodewordsPerBlock*this.NumBlocks}},NumBlocks:{get:function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}}}),this.getECBlocks=function(){return this.ecBlocks}}function r(e,t,r,n,i,o){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(r,n,i,o);for(var a=0,s=r.ECCodewordsPerBlock,h=r.getECBlocks(),w=0;w<h.length;w++){var c=h[w];a+=c.Count*(c.DataCodewords+s)}this.totalCodewords=a,Object.defineProperties(this,{VersionNumber:{get:function(){return this.versionNumber}},AlignmentPatternCenters:{get:function(){return this.alignmentPatternCenters}},TotalCodewords:{get:function(){return this.totalCodewords}},DimensionForVersion:{get:function(){return 17+4*this.versionNumber}}}),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new d(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,n=0;r>n;n++)for(var i=this.alignmentPatternCenters[n]-2,o=0;r>o;o++)0==n&&(0==o||o==r-1)||n==r-1&&0==o||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function i(e,t,r,n,o,a,s,h,d){this.a11=e,this.a12=n,this.a13=s,this.a21=t,this.a22=o,this.a23=h,this.a31=r,this.a32=a,this.a33=d,this.transformPoints1=function(e){for(var t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,h=this.a31,d=this.a32,w=this.a33,c=0;t>c;c+=2){var f=e[c],u=e[c+1],l=i*f+s*u+w;e[c]=(r*f+o*u+h)/l,e[c+1]=(n*f+a*u+d)/l}},this.transformPoints2=function(e,t){for(var r=e.length,n=0;r>n;n++){var i=e[n],o=t[n],a=this.a13*i+this.a23*o+this.a33;e[n]=(this.a11*i+this.a21*o+this.a31)/a,t[n]=(this.a12*i+this.a22*o+this.a32)/a}},this.buildAdjoint=function(){return new i(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new i(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function o(e,t){this.bits=e,this.points=t}function a(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,r,n){var i=Math.abs(n-t)>Math.abs(r-e);if(i){var o=e;e=t,t=o,o=r,r=n,n=o}for(var a=Math.abs(r-e),s=Math.abs(n-t),h=-a>>1,d=n>t?1:-1,w=r>e?1:-1,c=0,f=e,u=t;f!=r;f+=w){var l=i?u:f,g=i?f:u;if(1==c?this.image[l+g*qrcode.width]&&c++:this.image[l+g*qrcode.width]||c++,3==c){var v=f-e,m=u-t;return Math.sqrt(v*v+m*m)}if((h+=s)>0){if(u==n)break;u+=d,h-=a}}var p=r-e,y=n-t;return Math.sqrt(p*p+y*y)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,a=e-(r-e);0>a?(o=e/(e-a),a=0):a>=qrcode.width&&(o=(qrcode.width-1-e)/(a-e),a=qrcode.width-1);var s=Math.floor(t-(n-t)*o);return o=1,0>s?(o=t/(t-s),s=0):s>=qrcode.height&&(o=(qrcode.height-1-t)/(s-t),s=qrcode.height-1),a=Math.floor(e+(a-e)*o),(i+=this.sizeOfBlackWhiteBlackRun(e,t,a,s))-1},this.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},this.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},this.distance=function(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(e,t,r,n){var a=7+(Math.round(this.distance(e,t)/n)+Math.round(this.distance(e,r)/n)>>1);switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw"Error"}return a},this.findAlignmentInRegion=function(e,t,r,n){var i=Math.floor(n*e),o=Math.max(0,t-i),a=Math.min(qrcode.width-1,t+i);if(3*e>a-o)throw"Error";var s=Math.max(0,r-i),h=Math.min(qrcode.height-1,r+i);return new D(this.image,o,s,a-o,h-s,e,this.resultPointCallback).find()},this.createTransform=function(e,t,r,n,o){var a,s,h,d,w=o-3.5;return null!=n?(a=n.X,s=n.Y,h=d=w-3):(a=t.X-e.X+r.X,s=t.Y-e.Y+r.Y,h=d=w),i.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,h,d,3.5,w,e.X,e.Y,t.X,t.Y,a,s,r.X,r.Y)},this.sampleGrid=function(e,t,r){return GridSampler.sampleGrid3(e,r,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,n=e.TopRight,i=e.BottomLeft,a=this.calculateModuleSize(t,n,i);if(1>a)throw"Error";var s=this.computeDimension(t,n,i,a),h=r.getProvisionalVersionForDimension(s),d=h.DimensionForVersion-7,w=null;if(h.AlignmentPatternCenters.length>0)for(var c=n.X-t.X+i.X,f=n.Y-t.Y+i.Y,u=1-3/d,l=Math.floor(t.X+u*(c-t.X)),g=Math.floor(t.Y+u*(f-t.Y)),v=4;16>=v;v<<=1){w=this.findAlignmentInRegion(a,l,g,v);break}var m,p=this.createTransform(t,n,i,w,s),y=this.sampleGrid(this.image,p,s);return m=null==w?new Array(i,t,n):new Array(i,t,n,w),new o(y,m)},this.detect=function(){var e=(new S).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}function s(e){this.errorCorrectionLevel=h.forBits(e>>3&3),this.dataMask=7&e,Object.defineProperties(this,{ErrorCorrectionLevel:{get:function(){return this.errorCorrectionLevel}},DataMask:{get:function(){return this.dataMask}}}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask}}function h(e,t,r){this.ordinal_Renamed_Field=e,this.bits=t,this.name=r,Object.defineProperties(this,{Bits:{get:function(){return this.bits}},Name:{get:function(){return this.name}}}),this.ordinal=function(){return this.ordinal_Renamed_Field}}function d(e,t){if(t||(t=e),1>e||1>t)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var r=e>>5;0!=(31&e)&&r++,this.rowSize=r,this.bits=new Array(r*t);for(var n=0;n<this.bits.length;n++)this.bits[n]=0;Object.defineProperties(this,{Width:{get:function(){return this.width}},Height:{get:function(){return this.height}},Dimension:{get:function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}}}),this.get_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);return 0!=(1&q(this.bits[r],31&e))},this.set_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]|=1<<(31&e)},this.flip=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;e>t;t++)this.bits[t]=0},this.setRegion=function(e,t,r,n){if(0>t||0>e)throw"Left and top must be nonnegative";if(1>n||1>r)throw"Height and width must be at least 1";var i=e+r,o=t+n;if(o>this.height||i>this.width)throw"The region must fit inside the matrix";for(var a=t;o>a;a++)for(var s=a*this.rowSize,h=e;i>h;h++)this.bits[s+(h>>5)]|=1<<(31&h)}}function w(e,t){this.numDataCodewords=e,this.codewords=t,Object.defineProperties(this,{NumDataCodewords:{get:function(){return this.numDataCodewords}},Codewords:{get:function(){return this.codewords}}})}function c(e){var t=e.Dimension;if(21>t||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,r){return this.bitMatrix.get_Renamed(e,t)?r<<1|1:r<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;6>t;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(r=5;r>=0;r--)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=s.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var n=this.bitMatrix.Dimension;e=0;for(var i=n-8,t=n-1;t>=i;t--)e=this.copyBit(t,8,e);for(var r=n-7;n>r;r++)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=s.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(6>=t)return r.getVersionForNumber(t);for(var n=0,i=e-11,o=5;o>=0;o--)for(a=e-9;a>=i;a--)n=this.copyBit(a,o,n);if(this.parsedVersion=r.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;n=0;for(var a=5;a>=0;a--)for(o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(this.parsedVersion=r.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=DataMask.forReference(e.DataMask),n=this.bitMatrix.Dimension;r.unmaskBitMatrix(this.bitMatrix,n);for(var i=t.buildFunctionPattern(),o=!0,a=new Array(t.TotalCodewords),s=0,h=0,d=0,w=n-1;w>0;w-=2){6==w&&w--;for(var c=0;n>c;c++)for(var f=o?n-1-c:c,u=0;2>u;u++)i.get_Renamed(w-u,f)||(d++,h<<=1,this.bitMatrix.get_Renamed(w-u,f)&&(h|=1),8==d&&(a[s++]=h,d=0,h=0));o^=!0}if(s!=t.TotalCodewords)throw"Error readCodewords";return a}}function M(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var r=t.length;if(r>1&&0==t[0]){for(var n=1;r>n&&0==t[n];)n++;if(n==r)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(r-n);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=t[n+o]}}else this.coefficients=t;Object.defineProperties(this,{Zero:{get:function(){return 0==this.coefficients[0]}},Degree:{get:function(){return this.coefficients.length-1}},Coefficients:{get:function(){return this.coefficients}}}),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var r=0,n=0;t>n;n++)r=A.addOrSubtract(r,this.coefficients[n]);return r}for(var i=this.coefficients[0],n=1;t>n;n++)i=A.addOrSubtract(this.field.multiply(e,i),this.coefficients[n]);return i},this.addOrSubtract=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return t;if(t.Zero)return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var i=r;r=n,n=i}for(var o=new Array(n.length),a=n.length-r.length,s=0;a>s;s++)o[s]=n[s];for(var h=a;h<n.length;h++)o[h]=A.addOrSubtract(r[h-a],n[h]);return new M(e,o)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Array(r+i-1),a=0;r>a;a++)for(var s=t[a],h=0;i>h;h++)o[a+h]=A.addOrSubtract(o[a+h],this.field.multiply(s,n[h]));return new M(this.field,o)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,r=new Array(t),n=0;t>n;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new M(this.field,r)},this.multiplyByMonomial=function(e,t){if(0>e)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var r=this.coefficients.length,n=new Array(r+e),i=0;i<n.length;i++)n[i]=0;for(i=0;r>i;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new M(this.field,n)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,r=this,n=e.getCoefficient(e.Degree),i=this.field.inverse(n);r.Degree>=e.Degree&&!r.Zero;){var o=r.Degree-e.Degree,a=this.field.multiply(r.getCoefficient(r.Degree),i),s=e.multiplyByMonomial(o,a),h=this.field.buildMonomial(o,a);t=t.addOrSubtract(h),r=r.addOrSubtract(s)}return new Array(t,r)}}function A(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,r=0;256>r;r++)this.expTable[r]=t,(t<<=1)>=256&&(t^=e);for(r=0;255>r;r++)this.logTable[this.expTable[r]]=r;var n=new Array(1);n[0]=0,this.zero=new M(this,new Array(n));var i=new Array(1);i[0]=1,this.one=new M(this,new Array(i)),Object.defineProperties(this,{Zero:{get:function(){return this.zero}},One:{get:function(){return this.one}}}),this.buildMonomial=function(e,t){if(0>e)throw"System.ArgumentException";if(0==t)return zero;for(var r=new Array(e+1),n=0;n<r.length;n++)r[n]=0;return r[0]=t,new M(this,r)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}function q(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}function k(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,Object.defineProperties(this,{EstimatedModuleSize:{get:function(){return this.estimatedModuleSize}},Count:{get:function(){return this.count}},X:{get:function(){return this.x}},Y:{get:function(){return this.y}}}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var n=Math.abs(e-this.estimatedModuleSize);return 1>=n||n/this.estimatedModuleSize<=1}return!1}}function P(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],Object.defineProperties(this,{BottomLeft:{get:function(){return this.bottomLeft}},TopLeft:{get:function(){return this.topLeft}},TopRight:{get:function(){return this.topRight}}})}function S(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,Object.defineProperty(this,"CrossCheckStateCount",{get:function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}}),this.foundPatternCross=function(e){for(var t=0,r=0;5>r;r++){var n=e[r];if(0==n)return!1;t+=n}if(7>t)return!1;var i=Math.floor((t<<_)/7),o=Math.floor(i/2);return Math.abs(i-(e[0]<<_))<o&&Math.abs(i-(e[1]<<_))<o&&Math.abs(3*i-(e[2]<<_))<3*o&&Math.abs(i-(e[3]<<_))<o&&Math.abs(i-(e[4]<<_))<o},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,r,n){for(var i=this.image,o=qrcode.height,a=this.CrossCheckStateCount,s=e;s>=0&&i[t+s*qrcode.width];)a[2]++,s--;if(0>s)return NaN;for(;s>=0&&!i[t+s*qrcode.width]&&a[1]<=r;)a[1]++,s--;if(0>s||a[1]>r)return NaN;for(;s>=0&&i[t+s*qrcode.width]&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;o>s&&i[t+s*qrcode.width];)a[2]++,s++;if(s==o)return NaN;for(;o>s&&!i[t+s*qrcode.width]&&a[3]<r;)a[3]++,s++;if(s==o||a[3]>=r)return NaN;for(;o>s&&i[t+s*qrcode.width]&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-n)>=2*n?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.crossCheckHorizontal=function(e,t,r,n){for(var i=this.image,o=qrcode.width,a=this.CrossCheckStateCount,s=e;s>=0&&i[s+t*qrcode.width];)a[2]++,s--;if(0>s)return NaN;for(;s>=0&&!i[s+t*qrcode.width]&&a[1]<=r;)a[1]++,s--;if(0>s||a[1]>r)return NaN;for(;s>=0&&i[s+t*qrcode.width]&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;o>s&&i[s+t*qrcode.width];)a[2]++,s++;if(s==o)return NaN;for(;o>s&&!i[s+t*qrcode.width]&&a[3]<r;)a[3]++,s++;if(s==o||a[3]>=r)return NaN;for(;o>s&&i[s+t*qrcode.width]&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return NaN;var h=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(h-n)>=n?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2]+e[3]+e[4],i=this.centerFromEnd(e,r),o=this.crossCheckVertical(t,Math.floor(i),e[2],n);if(!isNaN(o)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(o),e[2],n),!isNaN(i))){for(var a=n/7,s=!1,h=this.possibleCenters.length,d=0;h>d;d++){var w=this.possibleCenters[d];if(w.aboutEquals(a,o,i)){w.incrementCount(),s=!0;break}}if(!s){var c=new k(i,o,a);this.possibleCenters.push(c),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(c)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(3>e)throw"Couldn't find enough finder patterns";if(e>3){for(var t=0,r=0,n=0;e>n;n++){var i=this.possibleCenters[n].EstimatedModuleSize;t+=i,r+=i*i}var o=t/e;this.possibleCenters.sort(function(e,t){var r=Math.abs(t.EstimatedModuleSize-o),n=Math.abs(e.EstimatedModuleSize-o);return n>r?-1:r==n?0:1});for(var a=Math.sqrt(r/e-o*o),s=Math.max(.2*o,a),n=0;n<this.possibleCenters.length&&this.possibleCenters.length>3;n++){var h=this.possibleCenters[n];Math.abs(h.EstimatedModuleSize-o)>s&&(this.possibleCenters.remove(n),n--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(1>=e)return 0;for(var t=null,r=0;e>r;r++){var n=this.possibleCenters[r];if(n.Count>=X){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-n.X)-Math.abs(t.Y-n.Y))/2);t=n}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,r=this.possibleCenters.length,n=0;r>n;n++){var i=this.possibleCenters[n];i.Count>=X&&(e++,t+=i.EstimatedModuleSize)}if(3>e)return!1;for(var o=t/r,a=0,n=0;r>n;n++)i=this.possibleCenters[n],a+=Math.abs(i.EstimatedModuleSize-o);return.05*t>=a},this.findFinderPattern=function(e){this.image=e;var r=qrcode.height,n=qrcode.width,i=Math.floor(3*r/(4*L));(V>i||!1)&&(i=V);for(var o=!1,a=new Array(5),s=i-1;r>s&&!o;s+=i){a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0;for(var h=0,d=0;n>d;d++)if(e[d+s*qrcode.width])1==(1&h)&&h++,a[h]++;else if(0==(1&h))if(4==h)if(this.foundPatternCross(a)){if(w=this.handlePossibleCenter(a,s,d))if(i=2,this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{var c=this.findRowSkip();c>a[2]&&(s+=c-a[2]-i,d=n-1)}else{do{d++}while(n>d&&!e[d+s*qrcode.width]);d--}h=0,a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0}else a[0]=a[2],a[1]=a[3],a[2]=a[4],a[3]=1,a[4]=0,h=3;else a[++h]++;else a[h]++;if(this.foundPatternCross(a)){var w=this.handlePossibleCenter(a,s,n);w&&(i=a[0],this.hasSkipped&&(o=haveMultiplyConfirmedCenters()))}}var f=this.selectBestPatterns();return qrcode.orderBestPatterns(f),new P(f)}}function E(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,Object.defineProperties(this,{EstimatedModuleSize:{get:function(){return this.estimatedModuleSize}},Count:{get:function(){return this.count}},X:{get:function(){return Math.floor(this.x)}},Y:{get:function(){return Math.floor(this.y)}}}),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var n=Math.abs(e-this.estimatedModuleSize);return 1>=n||n/this.estimatedModuleSize<=1}return!1}}function D(e,t,r,n,i,o,a){this.image=e,this.possibleCenters=new Array,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=a,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,n=0;3>n;n++)if(Math.abs(t-e[n])>=r)return!1;return!0},this.crossCheckVertical=function(e,t,r,n){var i=this.image,o=qrcode.height,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=e;s>=0&&i[t+s*qrcode.width]&&a[1]<=r;)a[1]++,s--;if(0>s||a[1]>r)return NaN;for(;s>=0&&!i[t+s*qrcode.width]&&a[0]<=r;)a[0]++,s--;if(a[0]>r)return NaN;for(s=e+1;o>s&&i[t+s*qrcode.width]&&a[1]<=r;)a[1]++,s++;if(s==o||a[1]>r)return NaN;for(;o>s&&!i[t+s*qrcode.width]&&a[2]<=r;)a[2]++,s++;if(a[2]>r)return NaN;var h=a[0]+a[1]+a[2];return 5*Math.abs(h-n)>=2*n?NaN:this.foundPatternCross(a)?this.centerFromEnd(a,s):NaN},this.handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2],i=this.centerFromEnd(e,r),o=this.crossCheckVertical(t,Math.floor(i),2*e[1],n);if(!isNaN(o)){for(var a=(e[0]+e[1]+e[2])/3,s=this.possibleCenters.length,h=0;s>h;h++)if(this.possibleCenters[h].aboutEquals(a,o,i))return new E(i,o,a);var w=new E(i,o,a);this.possibleCenters.push(w),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(w)}return null},this.find=function(){for(var t=this.startX,i=this.height,o=t+n,a=r+(i>>1),s=new Array(0,0,0),h=0;i>h;h++){var d=a+(0==(1&h)?h+1>>1:-(h+1>>1));s[0]=0,s[1]=0,s[2]=0;for(var w=t;o>w&&!e[w+qrcode.width*d];)w++;for(var c=0;o>w;){if(e[w+d*qrcode.width])if(1==c)s[c]++;else if(2==c){if(this.foundPatternCross(s)&&null!=(f=this.handlePossibleCenter(s,d,w)))return f;s[0]=s[2],s[1]=1,s[2]=0,c=1}else s[++c]++;else 1==c&&c++,s[c]++;w++}if(this.foundPatternCross(s)){var f=this.handlePossibleCenter(s,d,o);if(null!=f)return f}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function x(e,t,r){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=r,9>=t?this.dataLengthMode=0:t>=10&&26>=t?this.dataLengthMode=1:t>=27&&40>=t&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var r=0,n=0;e>n;n++)r+=1<<n;return r<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&r)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){for(var i=0,n=0;n<this.bitPointer+1;n++)i+=1<<n;return t=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){for(var i=0,o=0,n=0;n<this.bitPointer+1;n++)i+=1<<n;var a=(this.blocks[this.blockPointer]&i)<<e-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);this.blockPointer++;for(n=0;n<e-(this.bitPointer+1+8);n++)o+=1<<n;return o<<=8-(e-(this.bitPointer+1+8)),t=a+s+((this.blocks[this.blockPointer]&o)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,r=0,n="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{if(t>1){var a=(r=this.getNextBits(11))%45;n+=i[Math.floor(r/45)],n+=i[a],t-=2}else 1==t&&(r=this.getNextBits(6),n+=i[r],t-=1)}while(t>0);return n},this.getFigureString=function(e){var t=e,r=0,n="";do{t>=3?(100>(r=this.getNextBits(10))&&(n+="0"),10>r&&(n+="0"),t-=3):2==t?(10>(r=this.getNextBits(7))&&(n+="0"),t-=2):1==t&&(r=this.getNextBits(4),t-=1),n+=r}while(t>0);return n},this.get8bitByteArray=function(e){var t=e,r=0,n=new Array;do{r=this.getNextBits(8),n.push(r),t--}while(t>0);return n},this.getKanjiString=function(e){var t=e,r=0,n="";do{var a=((r=getNextBits(13))/192<<8)+r%192,s=0;s=40956>=a+33088?a+33088:a+49472,n+=String.fromCharCode(s),t--}while(t>0);return n},Object.defineProperty(this,"DataByte",{get:function(){for(var e=new Array;;){var o=this.NextMode();if(0==o){if(e.length>0)break;throw"Empty data block"}if(1!=o&&2!=o&&4!=o&&8!=o)throw"Invalid mode: "+(o=guessMode(o))+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(o),1>dataLength)throw"Invalid data length: "+dataLength;switch(o){case 1:for(var a=this.getFigureString(dataLength),s=new Array(a.length),h=0;h<a.length;h++)s[h]=a.charCodeAt(h);e.push(s);break;case 2:for(var a=this.getRomanAndFigureString(dataLength),s=new Array(a.length),h=0;h<a.length;h++)s[h]=a.charCodeAt(h);e.push(s);break;case 4:var d=this.get8bitByteArray(dataLength);e.push(d);break;case 8:a=this.getKanjiString(dataLength);e.push(a)}}return e}})}GridSampler={},GridSampler.checkAndNudgePoints=function(e,t){for(var r=qrcode.width,n=qrcode.height,i=!0,o=0;o<t.length&&i;o+=2){var a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(-1>a||a>r||-1>s||s>n)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[o]=0,i=!0):a==r&&(t[o]=r-1,i=!0),-1==s?(t[o+1]=0,i=!0):s==n&&(t[o+1]=n-1,i=!0)}i=!0;for(o=t.length-2;o>=0&&i;o-=2){var a=Math.floor(t[o]),s=Math.floor(t[o+1]);if(-1>a||a>r||-1>s||s>n)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(t[o]=0,i=!0):a==r&&(t[o]=r-1,i=!0),-1==s?(t[o+1]=0,i=!0):s==n&&(t[o+1]=n-1,i=!0)}},GridSampler.sampleGrid3=function(e,t,r){for(var n=new d(t),i=new Array(t<<1),o=0;t>o;o++){for(var a=i.length,s=o+.5,h=0;a>h;h+=2)i[h]=.5+(h>>1),i[h+1]=s;r.transformPoints1(i),GridSampler.checkAndNudgePoints(e,i);try{for(h=0;a>h;h+=2){var w=4*Math.floor(i[h])+Math.floor(i[h+1])*qrcode.width*4,c=e[Math.floor(i[h])+qrcode.width*Math.floor(i[h+1])];qrcode.imagedata.data[w]=c?255:0,qrcode.imagedata.data[w+1]=c?255:0,qrcode.imagedata.data[w+2]=0,qrcode.imagedata.data[w+3]=255,c&&n.set_Renamed(h>>1,o)}}catch(f){throw"Error.checkAndNudgePoints"}}return n},GridSampler.sampleGridx=function(e,t,r,n,o,a,s,h,d,w,c,f,u,l,g,v,m,p){var y=i.quadrilateralToQuadrilateral(r,n,o,a,s,h,d,w,c,f,u,l,g,v,m,p);return GridSampler.sampleGrid3(e,t,y)},r.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),r.VERSIONS=new Array(new r(1,new Array,new t(7,new e(1,19)),new t(10,new e(1,16)),new t(13,new e(1,13)),new t(17,new e(1,9))),new r(2,new Array(6,18),new t(10,new e(1,34)),new t(16,new e(1,28)),new t(22,new e(1,22)),new t(28,new e(1,16))),new r(3,new Array(6,22),new t(15,new e(1,55)),new t(26,new e(1,44)),new t(18,new e(2,17)),new t(22,new e(2,13))),new r(4,new Array(6,26),new t(20,new e(1,80)),new t(18,new e(2,32)),new t(26,new e(2,24)),new t(16,new e(4,9))),new r(5,new Array(6,30),new t(26,new e(1,108)),new t(24,new e(2,43)),new t(18,new e(2,15),new e(2,16)),new t(22,new e(2,11),new e(2,12))),new r(6,new Array(6,34),new t(18,new e(2,68)),new t(16,new e(4,27)),new t(24,new e(4,19)),new t(28,new e(4,15))),new r(7,new Array(6,22,38),new t(20,new e(2,78)),new t(18,new e(4,31)),new t(18,new e(2,14),new e(4,15)),new t(26,new e(4,13),new e(1,14))),new r(8,new Array(6,24,42),new t(24,new e(2,97)),new t(22,new e(2,38),new e(2,39)),new t(22,new e(4,18),new e(2,19)),new t(26,new e(4,14),new e(2,15))),new r(9,new Array(6,26,46),new t(30,new e(2,116)),new t(22,new e(3,36),new e(2,37)),new t(20,new e(4,16),new e(4,17)),new t(24,new e(4,12),new e(4,13))),new r(10,new Array(6,28,50),new t(18,new e(2,68),new e(2,69)),new t(26,new e(4,43),new e(1,44)),new t(24,new e(6,19),new e(2,20)),new t(28,new e(6,15),new e(2,16))),new r(11,new Array(6,30,54),new t(20,new e(4,81)),new t(30,new e(1,50),new e(4,51)),new t(28,new e(4,22),new e(4,23)),new t(24,new e(3,12),new e(8,13))),new r(12,new Array(6,32,58),new t(24,new e(2,92),new e(2,93)),new t(22,new e(6,36),new e(2,37)),new t(26,new e(4,20),new e(6,21)),new t(28,new e(7,14),new e(4,15))),new r(13,new Array(6,34,62),new t(26,new e(4,107)),new t(22,new e(8,37),new e(1,38)),new t(24,new e(8,20),new e(4,21)),new t(22,new e(12,11),new e(4,12))),new r(14,new Array(6,26,46,66),new t(30,new e(3,115),new e(1,116)),new t(24,new e(4,40),new e(5,41)),new t(20,new e(11,16),new e(5,17)),new t(24,new e(11,12),new e(5,13))),new r(15,new Array(6,26,48,70),new t(22,new e(5,87),new e(1,88)),new t(24,new e(5,41),new e(5,42)),new t(30,new e(5,24),new e(7,25)),new t(24,new e(11,12),new e(7,13))),new r(16,new Array(6,26,50,74),new t(24,new e(5,98),new e(1,99)),new t(28,new e(7,45),new e(3,46)),new t(24,new e(15,19),new e(2,20)),new t(30,new e(3,15),new e(13,16))),new r(17,new Array(6,30,54,78),new t(28,new e(1,107),new e(5,108)),new t(28,new e(10,46),new e(1,47)),new t(28,new e(1,22),new e(15,23)),new t(28,new e(2,14),new e(17,15))),new r(18,new Array(6,30,56,82),new t(30,new e(5,120),new e(1,121)),new t(26,new e(9,43),new e(4,44)),new t(28,new e(17,22),new e(1,23)),new t(28,new e(2,14),new e(19,15))),new r(19,new Array(6,30,58,86),new t(28,new e(3,113),new e(4,114)),new t(26,new e(3,44),new e(11,45)),new t(26,new e(17,21),new e(4,22)),new t(26,new e(9,13),new e(16,14))),new r(20,new Array(6,34,62,90),new t(28,new e(3,107),new e(5,108)),new t(26,new e(3,41),new e(13,42)),new t(30,new e(15,24),new e(5,25)),new t(28,new e(15,15),new e(10,16))),new r(21,new Array(6,28,50,72,94),new t(28,new e(4,116),new e(4,117)),new t(26,new e(17,42)),new t(28,new e(17,22),new e(6,23)),new t(30,new e(19,16),new e(6,17))),new r(22,new Array(6,26,50,74,98),new t(28,new e(2,111),new e(7,112)),new t(28,new e(17,46)),new t(30,new e(7,24),new e(16,25)),new t(24,new e(34,13))),new r(23,new Array(6,30,54,74,102),new t(30,new e(4,121),new e(5,122)),new t(28,new e(4,47),new e(14,48)),new t(30,new e(11,24),new e(14,25)),new t(30,new e(16,15),new e(14,16))),new r(24,new Array(6,28,54,80,106),new t(30,new e(6,117),new e(4,118)),new t(28,new e(6,45),new e(14,46)),new t(30,new e(11,24),new e(16,25)),new t(30,new e(30,16),new e(2,17))),new r(25,new Array(6,32,58,84,110),new t(26,new e(8,106),new e(4,107)),new t(28,new e(8,47),new e(13,48)),new t(30,new e(7,24),new e(22,25)),new t(30,new e(22,15),new e(13,16))),new r(26,new Array(6,30,58,86,114),new t(28,new e(10,114),new e(2,115)),new t(28,new e(19,46),new e(4,47)),new t(28,new e(28,22),new e(6,23)),new t(30,new e(33,16),new e(4,17))),new r(27,new Array(6,34,62,90,118),new t(30,new e(8,122),new e(4,123)),new t(28,new e(22,45),new e(3,46)),new t(30,new e(8,23),new e(26,24)),new t(30,new e(12,15),new e(28,16))),new r(28,new Array(6,26,50,74,98,122),new t(30,new e(3,117),new e(10,118)),new t(28,new e(3,45),new e(23,46)),new t(30,new e(4,24),new e(31,25)),new t(30,new e(11,15),new e(31,16))),new r(29,new Array(6,30,54,78,102,126),new t(30,new e(7,116),new e(7,117)),new t(28,new e(21,45),new e(7,46)),new t(30,new e(1,23),new e(37,24)),new t(30,new e(19,15),new e(26,16))),new r(30,new Array(6,26,52,78,104,130),new t(30,new e(5,115),new e(10,116)),new t(28,new e(19,47),new e(10,48)),new t(30,new e(15,24),new e(25,25)),new t(30,new e(23,15),new e(25,16))),new r(31,new Array(6,30,56,82,108,134),new t(30,new e(13,115),new e(3,116)),new t(28,new e(2,46),new e(29,47)),new t(30,new e(42,24),new e(1,25)),new t(30,new e(23,15),new e(28,16))),new r(32,new Array(6,34,60,86,112,138),new t(30,new e(17,115)),new t(28,new e(10,46),new e(23,47)),new t(30,new e(10,24),new e(35,25)),new t(30,new e(19,15),new e(35,16))),new r(33,new Array(6,30,58,86,114,142),new t(30,new e(17,115),new e(1,116)),new t(28,new e(14,46),new e(21,47)),new t(30,new e(29,24),new e(19,25)),new t(30,new e(11,15),new e(46,16))),new r(34,new Array(6,34,62,90,118,146),new t(30,new e(13,115),new e(6,116)),new t(28,new e(14,46),new e(23,47)),new t(30,new e(44,24),new e(7,25)),new t(30,new e(59,16),new e(1,17))),new r(35,new Array(6,30,54,78,102,126,150),new t(30,new e(12,121),new e(7,122)),new t(28,new e(12,47),new e(26,48)),new t(30,new e(39,24),new e(14,25)),new t(30,new e(22,15),new e(41,16))),new r(36,new Array(6,24,50,76,102,128,154),new t(30,new e(6,121),new e(14,122)),new t(28,new e(6,47),new e(34,48)),new t(30,new e(46,24),new e(10,25)),new t(30,new e(2,15),new e(64,16))),new r(37,new Array(6,28,54,80,106,132,158),new t(30,new e(17,122),new e(4,123)),new t(28,new e(29,46),new e(14,47)),new t(30,new e(49,24),new e(10,25)),new t(30,new e(24,15),new e(46,16))),new r(38,new Array(6,32,58,84,110,136,162),new t(30,new e(4,122),new e(18,123)),new t(28,new e(13,46),new e(32,47)),new t(30,new e(48,24),new e(14,25)),new t(30,new e(42,15),new e(32,16))),new r(39,new Array(6,26,54,82,110,138,166),new t(30,new e(20,117),new e(4,118)),new t(28,new e(40,47),new e(7,48)),new t(30,new e(43,24),new e(22,25)),new t(30,new e(10,15),new e(67,16))),new r(40,new Array(6,30,58,86,114,142,170),new t(30,new e(19,118),new e(6,119)),new t(28,new e(18,47),new e(31,48)),new t(30,new e(34,24),new e(34,25)),new t(30,new e(20,15),new e(61,16)))),r.getVersionForNumber=function(e){if(1>e||e>40)throw"ArgumentException";return r.VERSIONS[e-1]},r.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return r.getVersionForNumber(e-17>>2)}catch(t){throw"Error getVersionForNumber"}},r.decodeVersionInformation=function(e){for(var t=4294967295,n=0,i=0;i<r.VERSION_DECODE_INFO.length;i++){var o=r.VERSION_DECODE_INFO[i];if(o==e)return this.getVersionForNumber(i+7);var a=s.numBitsDiffering(e,o);t>a&&(n=i+7,t=a)}return 3>=t?this.getVersionForNumber(n):null},i.quadrilateralToQuadrilateral=function(e,t,r,n,i,o,a,s,h,d,w,c,f,u,l,g){var v=this.quadrilateralToSquare(e,t,r,n,i,o,a,s);return this.squareToQuadrilateral(h,d,w,c,f,u,l,g).times(v)},i.squareToQuadrilateral=function(e,t,r,n,o,a,s,h){return dy2=h-a,dy3=t-n+a-h,0==dy2&&0==dy3?new i(r-e,o-r,e,n-t,a-n,t,0,0,1):(dx1=r-o,dx2=s-o,dx3=e-r+o-s,dy1=n-a,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new i(r-e+a13*r,s-e+a23*s,e,n-t+a13*n,h-t+a23*h,t,a13,a23,1))},i.quadrilateralToSquare=function(e,t,r,n,i,o,a,s){return this.squareToQuadrilateral(e,t,r,n,i,o,a,s).buildAdjoint()};var F=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),I=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);s.numBitsDiffering=function(e,t){return e^=t,I[15&e]+I[15&q(e,4)]+I[15&q(e,8)]+I[15&q(e,12)]+I[15&q(e,16)]+I[15&q(e,20)]+I[15&q(e,24)]+I[15&q(e,28)]},s.decodeFormatInformation=function(e){var t=s.doDecodeFormatInformation(e);return null!=t?t:s.doDecodeFormatInformation(21522^e)},s.doDecodeFormatInformation=function(e){for(var t=4294967295,r=0,n=0;n<F.length;n++){var i=F[n],o=i[0];if(o==e)return new s(i[1]);var a=this.numBitsDiffering(e,o);t>a&&(r=i[1],t=a)}return 3>=t?new s(r):null},h.forBits=function(e){if(0>e||e>=z.length)throw"ArgumentException";return z[e]};var O=new h(0,1,"L"),T=new h(1,0,"M"),N=new h(2,3,"Q"),R=new h(3,2,"H"),z=new Array(T,O,R,N);w.getDataBlocks=function(e,t,r){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var n=t.getECBlocksForLevel(r),i=0,o=n.getECBlocks(),a=0;a<o.length;a++)i+=o[a].Count;for(var s=new Array(i),h=0,d=0;d<o.length;d++)for(var c=o[d],a=0;a<c.Count;a++){var f=c.DataCodewords,u=n.ECCodewordsPerBlock+f;s[h++]=new w(f,new Array(u))}for(var l=s[0].codewords.length,g=s.length-1;g>=0&&s[g].codewords.length!=l;)g--;g++;for(var m=l-n.ECCodewordsPerBlock,p=0,a=0;m>a;a++)for(d=0;h>d;d++)s[d].codewords[a]=e[p++];for(d=g;h>d;d++)s[d].codewords[m]=e[p++];for(var y=s[0].codewords.length,a=m;y>a;a++)for(d=0;h>d;d++){var b=g>d?a:a+1;s[d].codewords[b]=e[p++]}return s},DataMask={},DataMask.forReference=function(e){if(0>e||e>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[e]},DataMask.DATA_MASKS=new Array(new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return t%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return(e+t)%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==(q(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){var r=e*t;return(1&r)+r%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){var r=e*t;return 0==((1&r)+r%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;t>r;r++)for(var n=0;t>n;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}),A.QR_CODE_FIELD=new A(285),A.DATA_MATRIX_FIELD=new A(301),A.addOrSubtract=function(e,t){return e^t},Decoder={},Decoder.rsDecoder=new function(e){this.field=e,this.decode=function(e,t){for(var r=new M(this.field,e),n=new Array(t),i=0;i<n.length;i++)n[i]=0;for(var a=!0,i=0;t>i;i++){var s=r.evaluateAt(this.field.exp(i));n[n.length-1-i]=s,0!=s&&(a=!1)}if(!a)for(var h=new M(this.field,n),d=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),h,t),w=d[0],c=d[1],f=this.findErrorLocations(w),u=this.findErrorMagnitudes(c,f,!1),i=0;i<f.length;i++){var l=e.length-1-this.field.log(f[i]);if(0>l)throw"ReedSolomonException Bad error location";e[l]=A.addOrSubtract(e[l],u[i])}},this.runEuclideanAlgorithm=function(e,t,r){if(e.Degree<t.Degree){var n=e;e=t,t=n}for(var i=e,o=t,a=this.field.One,s=this.field.Zero,h=this.field.Zero,d=this.field.One;o.Degree>=Math.floor(r/2);){var w=i,c=a,f=h;if(i=o,a=s,h=d,i.Zero)throw"r_{i-1} was zero";o=w;for(var u=this.field.Zero,l=i.getCoefficient(i.Degree),g=this.field.inverse(l);o.Degree>=i.Degree&&!o.Zero;){var v=o.Degree-i.Degree,m=this.field.multiply(o.getCoefficient(o.Degree),g);u=u.addOrSubtract(this.field.buildMonomial(v,m)),o=o.addOrSubtract(i.multiplyByMonomial(v,m))}s=u.multiply1(a).addOrSubtract(c),d=u.multiply1(h).addOrSubtract(f)}var p=d.getCoefficient(0);if(0==p)throw"ReedSolomonException sigmaTilde(0) was zero";var y=this.field.inverse(p),b=d.multiply2(y),C=o.multiply2(y);return new Array(b,C)},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var r=new Array(t),n=0,i=1;256>i&&t>n;i++)0==e.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!=t)throw"Error locator degree does not match number of roots";return r},this.findErrorMagnitudes=function(e,t,r){for(var n=t.length,i=new Array(n),o=0;n>o;o++){for(var a=this.field.inverse(t[o]),s=1,h=0;n>h;h++)o!=h&&(s=this.field.multiply(s,A.addOrSubtract(1,this.field.multiply(t[h],a))));i[o]=this.field.multiply(e.evaluateAt(a),this.field.inverse(s)),r&&(i[o]=this.field.multiply(i[o],a))}return i}}(A.QR_CODE_FIELD),Decoder.correctErrors=function(e,t){for(var r=e.length,n=new Array(r),i=0;r>i;i++)n[i]=255&e[i];var o=e.length-t;try{Decoder.rsDecoder.decode(n,o)}catch(a){throw a}for(i=0;t>i;i++)e[i]=n[i]},Decoder.decode=function(e){for(var t=new c(e),r=t.readVersion(),n=t.readFormatInformation().ErrorCorrectionLevel,i=t.readCodewords(),o=w.getDataBlocks(i,r,n),a=0,s=0;s<o.length;s++)a+=o[s].NumDataCodewords;for(var h=new Array(a),d=0,f=0;f<o.length;f++){var u=o[f],l=u.Codewords,g=u.NumDataCodewords;Decoder.correctErrors(l,g);for(s=0;g>s;s++)h[d++]=l[s]}return new x(h,r.VersionNumber,n.Bits)},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.canvasElement=null,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.setCanvasElement=function(e){qrcode.canvasElement=e},qrcode.decode=function(e,t){if(0==arguments.length){var r=qrcode.canvasElement,n=r.getContext("2d");return qrcode.width=r.width,qrcode.height=r.height,qrcode.imagedata=n.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(n),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var i=new Image;i.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d"),n=i.height,o=i.width;if(i.width*i.height>qrcode.maxImgSize){var a=i.width/i.height;o=a*(n=Math.sqrt(qrcode.maxImgSize/a))}e.width=o,e.height=n,r.drawImage(i,0,0,e.width,e.height),qrcode.width=e.width,qrcode.height=e.height;try{qrcode.imagedata=r.getImageData(0,0,e.width,e.height)}catch(s){return qrcode.result="Cross domain Error",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(r),t(null,qrcode.result)}catch(s){qrcode.result="Error decoding QR Code from Image",t(new Error("Error decoding QR Code from Image"))}null!=qrcode.callback&&qrcode.callback(qrcode.result)},i.src=e},qrcode.isUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},qrcode.decode_url=function(e){var t="";try{t=escape(e)}catch(r){t=e}var n="";try{n=decodeURIComponent(t)}catch(r){n=t}return n},qrcode.decode_utf8=function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},qrcode.process=function(e){var t=((new Date).getTime(),qrcode.grayScaleToBitmap(qrcode.grayscale()));if(qrcode.debug){for(var r=0;r<qrcode.height;r++)for(var n=0;n<qrcode.width;n++){var i=4*n+r*qrcode.width*4;qrcode.imagedata.data[i]=(t[n+r*qrcode.width],0),qrcode.imagedata.data[i+1]=(t[n+r*qrcode.width],0),qrcode.imagedata.data[i+2]=t[n+r*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}var s=new a(t).detect();qrcode.debug&&e.putImageData(qrcode.imagedata,0,0);for(var d=Decoder.decode(s.bits).DataByte,w="",c=0;c<d.length;c++)for(var f=0;f<d[c].length;f++)w+=String.fromCharCode(d[c][f]);return(new Date).getTime(),qrcode.decode_utf8(w)},qrcode.getPixel=function(e,t){if(qrcode.width<e)throw"point error";if(qrcode.height<t)throw"point error";return point=4*e+t*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100},qrcode.binarize=function(e){for(var t=new Array(qrcode.width*qrcode.height),r=0;r<qrcode.height;r++)for(var n=0;n<qrcode.width;n++){var i=qrcode.getPixel(n,r);t[n+r*qrcode.width]=e>=i}return t},qrcode.getMiddleBrightnessPerArea=function(e){for(var r=Math.floor(qrcode.width/4),n=Math.floor(qrcode.height/4),i=new Array(4),o=0;4>o;o++){i[o]=new Array(4);for(var a=0;4>a;a++)i[o][a]=new Array(0,0)}for(s=0;4>s;s++)for(h=0;4>h;h++){i[h][s][0]=255;for(var d=0;n>d;d++)for(var w=0;r>w;w++){var c=e[r*h+w+(n*s+d)*qrcode.width];c<i[h][s][0]&&(i[h][s][0]=c),c>i[h][s][1]&&(i[h][s][1]=c)}}for(var f=new Array(4),u=0;4>u;u++)f[u]=new Array(4);for(var s=0;4>s;s++)for(var h=0;4>h;h++)f[h][s]=Math.floor((i[h][s][0]+i[h][s][1])/2);return f},qrcode.grayScaleToBitmap=function(e){for(var t=qrcode.getMiddleBrightnessPerArea(e),r=t.length,n=Math.floor(qrcode.width/r),i=Math.floor(qrcode.height/r),o=new Array(qrcode.height*qrcode.width),a=0;r>a;a++)for(var s=0;r>s;s++)for(var h=0;i>h;h++)for(var d=0;n>d;d++)o[n*s+d+(i*a+h)*qrcode.width]=e[n*s+d+(i*a+h)*qrcode.width]<t[s][a];return o},qrcode.grayscale=function(){for(var e=new Array(qrcode.width*qrcode.height),t=0;t<qrcode.height;t++)for(var r=0;r<qrcode.width;r++){var n=qrcode.getPixel(r,t);e[r+t*qrcode.width]=n}return e},Array.prototype.remove=function(e,t){var r=this.slice((t||e)+1||this.length);return this.length=0>e?this.length+e:e,this.push.apply(this,r)};var V=3,L=57,_=8,X=2;return qrcode.orderBestPatterns=function(e){function t(e,t){return xDiff=e.X-t.X,yDiff=e.Y-t.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}var n,i,o,a=t(e[0],e[1]),s=t(e[1],e[2]),h=t(e[0],e[2]);if(s>=a&&s>=h?(i=e[0],n=e[1],o=e[2]):h>=s&&h>=a?(i=e[1],n=e[0],o=e[2]):(i=e[2],n=e[0],o=e[1]),function(e,t,r){var n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}(n,i,o)<0){var d=n;n=o,o=d}e[0]=n,e[1]=i,e[2]=o},qrcode}),function(e,t){"function"==typeof define&&define.amd?define(["qrcode"],t):"object"==typeof exports?module.exports=t(require("../build/qrcode")):e.QCodeDecoder=t(qrcode)}(this,function(e){"use strict";function t(){return this instanceof t?(this.timerCapture=null,this.canvasElem=null,this.stream=null,void(this.videoConstraints={video:!0,audio:!1})):new t}return t.prototype.isCanvasSupported=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},t.prototype.hasGetUserMedia=function(){return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!!navigator.getUserMedia},t.prototype._prepareCanvas=function(t){return this.canvasElem||(this.canvasElem=document.createElement("canvas"),this.canvasElem.style.width=t.videoWidth+"px",this.canvasElem.style.height=t.videoHeight+"px",this.canvasElem.width=t.videoWidth,this.canvasElem.height=t.videoHeight),e.setCanvasElement(this.canvasElem),this},t.prototype._captureToCanvas=function(t,r,n){if(this.timerCapture&&clearTimeout(this.timerCapture),t.videoWidth&&t.videoHeight){this.canvasElem||this._prepareCanvas(t);var i=this.canvasElem.getContext("2d");i.clearRect(0,0,t.videoWidth,t.videoHeight),i.drawImage(t,0,0,t.videoWidth,t.videoHeight);try{if(r(null,e.decode()),n)return}catch(o){"Couldn't find enough finder patterns"!==o&&r(new Error(o))}}this.timerCapture=setTimeout(function(){this._captureToCanvas.call(this,t,r,n)}.bind(this),500)},t.prototype.decodeFromCamera=function(e,t,r){var n=(this.stop(),this);return this.hasGetUserMedia()||t(new Error("Couldn't get video from camera")),navigator.getUserMedia(this.videoConstraints,function(i){e.src=window.URL.createObjectURL(i),n.videoElem=e,n.stream=i,n.videoDimensions=!1,setTimeout(function(){n._captureToCanvas.call(n,e,t,r)},500)},t),this},t.prototype.decodeFromVideo=function(e,t,r){return setTimeout(function(){this._captureToCanvas.call(this,e,t,r)}.bind(this),500),this},t.prototype.decodeFromImage=function(t,r){if(+t.nodeType>0&&!t.src)throw new Error("The ImageElement must contain a src");return t=t.src?t.src:t,e.decode(t,r),this},t.prototype.stop=function(){return this.stream&&(this.stream.stop(),this.stream=void 0),this.timerCapture&&(clearTimeout(this.timerCapture),this.timerCapture=void 0),this},t.prototype.setSourceId=function(e){return this.videoConstraints.video=!e||{optional:[{sourceId:e}]},this},t.prototype.getVideoSources=function(e){var t=[];return MediaStreamTrack&&MediaStreamTrack.getSources?(MediaStreamTrack.getSources(function(r){r.forEach(function(e){"video"===e.kind&&t.push(e)}),e(null,t)}),this):e(new Error("Current browser doest not support MediaStreamTrack.getSources"))},t}),function($,sr){var debounce=function(func,threshold,execAsap){var timeout;return function(){var obj=this,args=arguments;timeout?clearTimeout(timeout):execAsap&&func.apply(obj,args),timeout=setTimeout(function(){execAsap||func.apply(obj,args),timeout=null},threshold||100)}};jQuery.fn[sr]=function(fn){return fn?this.bind("resize",debounce(fn)):this.trigger(sr)}}(jQuery,"smartresize");var CURRENT_URL=window.location.href.split("#")[0].split("?")[0],$BODY=$("body"),$MENU_TOGGLE=$("#menu_toggle"),$SIDEBAR_MENU=$("#sidebar-menu"),$SIDEBAR_FOOTER=$(".sidebar-footer"),$LEFT_COL=$(".left_col"),$RIGHT_COL=$(".right_col"),$NAV_MENU=$(".nav_menu"),$FOOTER=$("footer"),randNum=function(){return Math.floor(21*Math.random())+20};$(document).ready(function(){$(".collapse-link").on("click",function(){var $BOX_PANEL=$(this).closest(".x_panel"),$ICON=$(this).find("i"),$BOX_CONTENT=$BOX_PANEL.find(".x_content");$BOX_PANEL.attr("style")?$BOX_CONTENT.slideToggle(200,function(){$BOX_PANEL.removeAttr("style")}):($BOX_CONTENT.slideToggle(200),$BOX_PANEL.css("height","auto")),$ICON.toggleClass("fa-chevron-up fa-chevron-down")}),$(".close-link").click(function(){$(this).closest(".x_panel").remove()})}),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip({container:"body"})}),$(".progress .progress-bar")[0]&&$(".progress .progress-bar").progressbar(),$(document).ready(function(){$(".js-switch")[0]&&Array.prototype.slice.call(document.querySelectorAll(".js-switch")).forEach(function(html){new Switchery(html,{color:"#26B99A"})})}),$(document).ready(function(){$(".expand").on("click",function(){$(this).next().slideToggle(200),$expand=$(this).find(">:first-child"),"+"==$expand.text()?$expand.text("-"):$expand.text("+")})});var originalLeave=$.fn.popover.Constructor.prototype.leave;$.fn.popover.Constructor.prototype.leave=function(obj){var container,timeout,self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);originalLeave.call(this,obj),obj.currentTarget&&(container=$(obj.currentTarget).siblings(".popover"),timeout=self.timeout,container.one("mouseenter",function(){clearTimeout(timeout),container.one("mouseleave",function(){$.fn.popover.Constructor.prototype.leave.call(self,self)})}))},$("body").popover({selector:"[data-popover]",trigger:"click hover",delay:{show:50,hide:400}}),$(document).ready(function(){PNotify.prototype.options.styling="bootstrap3",PNotify.prototype.options.addclass="stack-bottomleft",PNotify.prototype.options.stack=stack_bottomleft,PNotify.prototype.options.buttons.sticker=!1,PNotify.prototype.options.delay=2e3,PNotify.prototype.options.insert_brs=!1,$("#preLoader").hide(),init_sidebar(),init_TagsInput(),init_parsley(),init_skycons()});var app=angular.module("assetAdminPanel",["ngRoute","ngCookies","ngStorage","ngFileUpload","ADM-dateTimePicker","ngPersian","ui.tree"]);app.config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("")}]),app.config(function($httpProvider){$httpProvider.defaults.headers.get||($httpProvider.defaults.headers.get={}),$httpProvider.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",$httpProvider.defaults.headers.get["Cache-Control"]="no-cache"}),app.config(["ADMdtpProvider",function(ADMdtp){ADMdtp.setOptions({calType:"jalali",format:"YYYY-MM-DD",zIndex:1100,dtpType:"date",freezeInput:"true",multiple:!1,autoClose:!0,transition:!1})}]),angular.module("assetAdminPanel").config(function($routeProvider){for(var assetPages=["home","database","seller","producer","guarantor","warehouse","changepass","group","invoice","mywarehouse","config","notification","emptydatabase"],i=0;i<assetPages.length;i++)$routeProvider.when("/"+assetPages[i],{templateUrl:"/dist/templates/"+assetPages[i]+".html",controller:assetPages[i]+"Ctrl",controllerAs:assetPages[i]});$routeProvider.when("/product/:id?",{templateUrl:"/dist/templates/product.html",controller:"productCtrl",controllerAs:"product"}).when("/user/:id?",{templateUrl:"/dist/templates/user.html",controller:"userCtrl",controllerAs:"user"}).when("/ticket/:id?",{templateUrl:"/dist/templates/ticket.html",controller:"ticketCtrl",controllerAs:"ticket"}).when("/transaction/:id?",{templateUrl:"/dist/templates/transaction.html",controller:"transactionCtrl",controllerAs:"transaction"})}),app.service("mainAsset",function($window,$http,ADMdtpConvertor){this.devMode=assetPanelData.devMode,this.getUrl=function(){return assetPanelData.serverUrl},this.getUploadUrl=function(){return assetPanelData.uploadUrl},this.openModal=function(modal){$(modal).modal({backdrop:"static",keyboard:!0}),$(modal).modal("show")},this.closeModal=function(modal){$(modal).modal("hide")},this.toGregorianDate=function(pDate,config){pDate||(pDate=""),config||(config={});var outDate="";if(pDate.indexOf(" ")>=0){var splitted=pDate.split(" "),time=splitted[0],dateArray=splitted[1].split("-"),gDate=ADMdtpConvertor.toGregorian(Number(dateArray[0]),Number(dateArray[1]),Number(dateArray[2]));outDate=moment(gDate.year+"-"+gDate.month+"-"+gDate.day+" "+time+":00","YYYY-MM-DD HH:mm:ss"),outDate=moment(outDate).utcOffset(0).format("YYYY-MM-DDTHH:mm:ss")}else{dateArray=pDate.split("-");outDate=(gDate=ADMdtpConvertor.toGregorian(Number(dateArray[0]),Number(dateArray[1]),Number(dateArray[2]))).year+"-"+gDate.month+"-"+gDate.day}return config.noTime&&outDate.indexOf("T")>=0&&(outDate=outDate.split("T")[0]),outDate},this.toJalaliDate=function(pDate,config){pDate||(pDate=""),config||(config={}),config.baseOffset||(config.baseOffset=480),config.timeText||(config.timeText=" "),config.deleteTime&&pDate.indexOf("T")>=0&&(pDate=pDate.split("T")[0]),pDate.indexOf("T")>=0&&(pDate=moment(pDate).isDST()?moment(pDate).utcOffset(config.baseOffset+60).format("YYYY-MM-DDTHH:mm"):moment(pDate).utcOffset(config.baseOffset).format("YYYY-MM-DDTHH:mm"));var dateArray=(pDate=pDate.split("T"))[0].split("-"),transactionTime=pDate[1],gDate=ADMdtpConvertor.toJalali(Number(dateArray[0]),Number(dateArray[1]),Number(dateArray[2])),output=gDate.year+"/"+gDate.month+"/"+gDate.day;return void 0!==transactionTime&&(output=output+"   "+transactionTime),output},this.log=function(logText){assetPanelData.devMode&&console.log(logText)},this.convertMarkdownToHtml=function(data_,resultHandler_){marked(data_,function(err,content){err?mainAsset.log(err):"function"==typeof resultHandler_?resultHandler_(content):resultHandler_=content})}}),app.filter("filterObjById",function(){return function(items,filterId){var filtered=[];return angular.forEach(items,function(item){item.id!=filterId&&filtered.push(item)}),filtered}}),app.filter("jalaliDate",function(mainAsset){return function(inputDate){return mainAsset.toJalaliDate(inputDate)}}),app.filter("currentJalaliDate",function(mainAsset){return function(inputDate){return mainAsset.toJalaliDate(inputDate,{baseOffset:210})}}),app.filter("userType",function(){return function(input){var output;switch(input){case 3:output="";break;case 2:output=" ";break;case 1:output="";break;case 0:output=""}return output}}),app.filter("holderType",function(){return function(input){var output;switch(input){case"User":output="";break;case"Warehouse":output=""}return output}}),app.filter("ticketStatus",function(){return function(input){var output;switch(input){case 0:output=" ";break;case 1:output="  ";break;case 2:output=" "}return output}}),app.filter("ticketType",function(){return function(input){var output="";return 0==input||"0"==input?output="":1==input||"1"==input?output="":2==input||"2"==input?output="":3!=input&&"3"!=input||(output=""),output}}),app.filter("ticketReason",function(){return function(input){var output="";return 0==input||"0"==input?output="":1==input||"1"==input?output="":2==input||"2"==input?output="":3!=input&&"3"!=input||(output=""),output}}),app.filter("metaType",function(){return function(input){var output;switch(input){case"num":output="";break;case"str":output="";break;case"bool":output=" "}return output}}),app.filter("productPrice",function(){return function(input){return-1==input?"   ":input}}),app.filter("depricateType",function(){return function(input){var output;switch(input){case 0:output=" ";break;case 1:output=""}return output}}),app.filter("lengthLimit",function(){return function(input,customLength){return"string"==typeof input&&input.length>customLength&&(input=input.slice(0,customLength)+"..."),input}}),app.filter("reasonType",function(){return function(input){var output;switch(input=Number(input)){case 3:output=" ";break;case 2:output="";break;case 1:output="";break;case 0:output=""}return output}}),app.filter("transactionType",function(){return function(input){var output;switch(input=Number(input)){case 2:output="";break;case 1:output="";break;case 0:output=""}return output}}),app.filter("userOrWarehouseName",function(){return function(input){if(input)return"User"==input.type?input.obj.first_name+" "+input.obj.last_name||"":input.obj.title||""}}),app.filter("productName",function(){return function(input){if(input)return input.model||""}}),app.filter("nullFilter",function(){return function(input){return input||""}}),app.filter("clerkFilter",function(){return function(input){return input?input.first_name+" "+input.last_name:"--  --"}}),app.filter("useFilter",function($filter){return function(){var filterName=[].splice.call(arguments,1,1)[0];return filterName?$filter(filterName).apply(null,arguments):$filter("nullFilter").apply(null,arguments)}}),app.filter("transactionIdDisplay",function(){return function(input){return input&&""!=input?input:"   "}}),angular.module("assetAdminPanel").run(["$templateCache",function($templateCache){$templateCache.put("/dist/js/app/directive/creatproduct.html",'\x3c!-- product Modal --\x3e\n<div class="modal fade" id="productModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <label ng-hide="dParent.editMode || dParent.stage != 0">\n            <input type="checkbox" ng-model="makeDuplicate">\n              \n          </label>\n          <button type="button" ng-disabled="!productForm.$valid || !controller.product.qr_code"\n          ng-click="sendOrEdit(dParent.editMode)" ng-show = "dParent.stage == 0" ng-show = "dParent.checkWrite(\'product\')" class="btn btn-success"></button>\n          <button type="button" class="btn btn-danger" ng-show = "dParent.stage == 0" ng-click="controller.productReset()" data-dismiss="modal"></button>\n          <button type="button" class="btn btn-info" ng-show = "dParent.stage != 0" ng-click="dParent.stage = 0; controller.tmp.searchQuery = \'\' "></button>\n        </div>\n        <div class="pull-left single-export" ng-show="dParent.editMode">\n            <export-file exptype="product" id="controller.obj.id"></export-file>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "dParent.loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="dParent.editMode">  </h3>\n        <h3 class="modal-title" ng-show="dParent.editMode && dParent.loadModal">\n             \n          </h3>\n        <h3 class="modal-title" ng-show="dParent.editMode && !dParent.loadModal">\n           \n          <small>\n              "{{controller.product.name}}"              \n          </small>\n        </h3>\n      </div>\n      <div class="modal-body">\n          <div class="box-body">\n            <div ng-show = "dParent.stage == 0">\n              <form name="productForm" role="form" ng-hide="dParent.loadModal" novalidate \n              ng-submit="productForm.$valid && sendOrEdit(dParent.editMode)">\n              <button type="submit" hidden></button>\n                <fieldset>\n                <div class="row">\n                  \x3c!-- model serial group --\x3e\n                  <div class="col-md-4">\n                    <div class="form-group" ng-class="{\'has-success\' : productForm.model.$valid && controller.product.model}">\n                      <label> *</label>\n                      <input type="text" class="form-control" name="model" placeholder=" " ng-model = "controller.product.model" required>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group" ng-class="{\'has-success\' : productForm.serial.$valid && controller.product.serial_number}">\n                      <label> *</label>\n                      <input type="text" class="form-control" name="serial" placeholder=" " ng-model = "controller.product.serial_number" required>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label>*</label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="controller.product.subgroup.title" disabled>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!dParent.checkWrite(\'product\')" class="btn btn-info btn-beside-input" ng-click="setGroupStage()"></button>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <hr>\n                  \x3c!-- end of model serial group --\x3e\n\n                  \x3c!-- productin date producer Qr code --\x3e\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label> *</label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="controller.product.producer.brand_name" disabled required>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!dParent.checkWrite(\'product\')" class="btn btn-info btn-beside-input" ng-click="controller.selectThings(4, \'producer\')"></button>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group" ng-class="{\'has-success\' : productForm.cardno.$valid && controller.product.card_no}">\n                      <label> *</label>\n                      <adm-dtp ng-model="controller.product.production_date" ></adm-dtp>\n                    </div>\n                  </div>\n                  <div class="col-md-3">\n                    <div class="form-group">\n                      <label>*Qr Code</label>\n                      <br/>\n                      <div class="btn btn-info btn-sm" ng-hide = "uploading" ngf-select="controller.uploadProductPic()" ng-model="controller.qrCodeFile" name="productPic" ngf-pattern="\'.jpg,.png,.jpeg,.png\'"\n                        ngf-accept="\'image/*\'" ngf-max-size="2MB" ng-if="!controller.product.qr_code && dParent.checkWrite(\'product\')" ng-required="!controller.product.qr_code" ng-disabled="uploading">\n                         \n                        <i class="fa fa-qrcode fa-lg"></i>\n                      </div>\n                      <p ng-show="uploading">\n                           \n                        ({{uploadPercentage | pNumber}})\n                      </p>\n                      <button type="button" class="btn btn-sm btn-danger" ng-if="controller.product.qr_code && dParent.checkWrite(\'product\')"\n                      ng-click=" controller.deleteKey(controller.product,\'qr_code\')"> </button>\n                      <p ng-show="productForm.productPic.$error.maxSize" class="input-error-p">       </p>\n                      <p ng-show="productForm.productPic.$error.pattern" class="input-error-p">    </p>\n                    </div>\n                  </div>\n                  <div class="col-md-1" ng-if="controller.product.qr_code">\n                    <a ng-href="{{uploadUrl + controller.product.qr_code}}" data-lightbox=" " data-title=" ">\n                      <img class="img-responsive img-thumbnail" ng-src="{{uploadUrl + controller.product.qr_code}}"  id=\'qrCodeImage\'>\n                    </a>\n                  </div>\n                  <div class="clearfix"></div>\n                  <hr>\n                  \x3c!-- end of productin date producer Qr code --\x3e\n\n                  \x3c!-- gurantor --\x3e\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label>*</label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="controller.product.guarantor.company_name" disabled required>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!dParent.checkWrite(\'product\')" class="btn btn-info btn-beside-input" ng-click="controller.selectThings(1, \'guarantor\')"></button>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label>  *</label>\n                      <adm-dtp ng-model="controller.product.guarantee_start_date" ></adm-dtp>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label>  *</label>\n                      <adm-dtp ng-model="controller.product.guarantee_end_date"></adm-dtp>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <hr>\n                  \x3c!-- end gurantor --\x3e\n\n                  \x3c!-- subgroup and time of deprication --\x3e\n                  \n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label> *</label>\n                      <select class="form-control" ng-model = "controller.product.deprication_type" required>\n                        <option value="0">   </option>\n                        <option value="1">  </option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label>  ()*</label>\n                      <input type="number" class="form-control" ng-model="controller.product.deprication_period" required>\n                    </div>\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group" ng-hide = "!dParent.editMode && !controller.product.is_bundle">\n                      <label></label>  \n                      <div class="row">\n                        <div class="col-sm-6">\n                            \n                          <input class="" type="checkbox" ng-model="controller.product.is_out_of_system">\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  \x3c!-- end of subgroup and time of deprication --\x3e\n                </div>\n                <hr ng-show="controller.tmp.meta.meta_template.length > 0">\n                <h4 ng-show="controller.tmp.meta.meta_template.length > 0" > </h4>\n                <div class="row">\n                  <div class="col-md-3" ng-repeat-start="meta in controller.tmp.meta.meta_template track by $index" >\n                    <h5>{{meta.key  | lengthLimit:30}}</h5>\n                  </div>\n                  <div class="col-md-6">\n                    <input ng-if="meta.type == \'str\'" class="form-control" type="text" ng-model="controller.product.meta_data[$index][\'value\']" >\n                    <input ng-if="meta.type == \'bool\'" type="checkbox" ng-model="controller.product.meta_data[$index][\'value\']" >\n                    <input ng-if="meta.type == \'num\'" class="form-control form-ltr" type="number" ng-model="controller.product.meta_data[$index][\'value\']">\n                  </div>\n                  <div class="col-md-3" >\n                  </div>\n                  <div class="clearfix" style="margin-bottom:10px; " ng-repeat-end></div>\n                </div>\n                <hr ng-show = "controller.apiName != \'invoice\'">\n                <div class="row" ng-show = "controller.apiName != \'invoice\'">\n                  <div class="col-md-6">\n                    <div class="checkbox" ng-hide="dParent.editMode">\n                      <label>\n                        <input type="checkbox" ng-model="controller.product.is_bundle">\n                           \n                      </label>\n                    </div>\n                  </div>\n                  <div class="col-md-6" style="text-align:left"> \n                    <button type="button" class="btn btn-round btn-success" ng-show="controller.product.is_bundle" ng-click="controller.openBundleSelection()">\n                         \n                      <i class="fa fa-plus"></i>\n                    </button>\n                  </div>\n                  <div class="clearfix"></div>\n                  <div class="col-md-8 col-md-offset-2" ng-show="controller.product.is_bundle">\n                    <table class="table table-striped asset-tables">\n                      <thead>\n                        <tr>\n                          <th>#</th>\n                          <th> </th>\n                          <th> </th>\n                          <th></th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr ng-repeat="goods in controller.product.children">\n                          <td>{{ $index + 1 }}</td>\n                          <td>{{ goods.model | lengthLimit:30 }}</td>\n                          <td>{{ goods.serial_number | lengthLimit:30 }}</td>\n                          <td>\n                            <a class="fa-lg" ng-click="controller.deleteChild($index)" href></a>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n                </fieldset>\n              </form>\n            </div>\n            \x3c!-- end of Stage 0 --\x3e\n\n            <search-stage ng-show = "dParent.stage == 1" obj="selectGuarantorObj" controller = "controller" target="product"></search-stage>\n            \x3c!-- end of Stage 1 --\x3e\n            \n            <div class="row" ng-show="dParent.stage == 2">\n              <div class="col-md-12">\n                <div class="panel panel-primary" ng-show="controller.product.children">\n                  <div class="panel-heading">\n                      \n                  </div>\n                  <div class="panel-body">\n                    <ul class="remove-box">\n                      <li dir="auto" ng-repeat = "goods in controller.product.children track by $index">\n                        <span ng-click="controller.deleteChild($index)"></span>\n                        {{goods.model | lengthLimit:20}}({{goods.serial_number | lengthLimit:20}})\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n                <div class="panel panel-info">\n                  <div class="panel-heading">\n                       \n                    <div class="pull-left">\n                      <i ng-show = "dParent.loadSearch" class="fa fa-refresh fa-spin"></i>\n                    </div>\n                  </div>\n                  <div class="panel-body">\n                    <form name="searchForm" role="form" novalidate>\n                          <div class="input-group">\n                            <input type="text" class="form-control" placeholder="" name="searchText" ng-model="controller.tmp.searchQuery">\n                            <span class="input-group-btn">\n                              <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="controller.bundleProductSearch()">\n                                \n                              </button>\n                            </span>\n                          </div>\n                      </form>\n                      <table class="table table-hover table-border" ng-hide = "controller.tmp.searchResult == \'\' || dParent.loadSearch">\n                        <thead>\n                          <tr>\n                            <th></th>\n                            <th>\n                              \n                            </th>\n                            <th>\n                               \n                            </th>\n                            <th>\n                               \n                            </th>\n                            <th>\n                              \n                            </th>\n                            <th></th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr ng-repeat = "list in controller.tmp.searchResult">\n                            <td>\n                              {{ $index + 1 }}\n                            </td>\n                            <td>{{list.model | lengthLimit:30}}</td>\n                            <td>{{list.serial_number | lengthLimit:30}}</td>\n                            <td>\n                              {{list.subgroup.title | lengthLimit:30}}\n                            </td>\n                            <td>\n                              {{list.holder | userOrWarehouseName}}\n                            </td>\n                            <td>\n                              <i ng-hide="controller.checkDuplicate(list, controller.product.children)"></i>\n                              <a ng-show="controller.checkDuplicate(list, controller.product.children)" ng-click="controller.addBundleProduct(list)" href>\n                                <i class="fa fa-check-square-o fa-lg"></i>\n                              </a>\n                            </td>\n                          </tr>\n                        </tbody>\n                    </table>\n                  </div>\n                </div>\n              \x3c!-- /.box-body --\x3e\n              </div>\n            </div>\n            \x3c!-- end of Stage 2 --\x3e\n\n            <div class="row" ng-show="dParent.stage == 3">\n              <div class="col-md-12">\n                <div class="panel panel-info">\n                  <div class="panel-heading">\n                     \n                    <div class="pull-left">\n                      <i ng-show = "dParent.loadSearch" class="fa fa-refresh fa-spin"></i>\n                    </div>\n                  </div>\n                  <div class="panel-body">\n                    <form name="searchForm" role="form" novalidate>\n                          <div class="input-group">\n                            <input type="text" class="form-control" placeholder="" name="searchText" ng-model="controller.tmp.searchQuery">\n                            <span class="input-group-btn">\n                              <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="controller.search(\'group\'); controller.tmp.searchD = true">\n                                \n                              </button>\n                            </span>\n                          </div>\n                      </form>\n\n                      <div ng-hide = "controller.tmp.searchResult == \'\' || dParent.loadSearch">\n                        <div ui-tree id="tree-root" ng-show = "controller.tmp.searchResult.length>0">\n                          <ol ui-tree-nodes ng-model="controller.tmp.searchResult">\n                            <li ng-repeat="node in controller.tmp.searchResult" ui-tree-node ng-include="\'nodes_renderer1.html\'"></li>\n                          </ol>\n                        </div>\n                      </div>\n                      \n                  </div>\n                </div>\n              \x3c!-- /.box-body --\x3e\n              </div>\n            </div>\n            \x3c!-- end of Stage 3 --\x3e\n\n            <search-stage ng-show = "dParent.stage == 4" obj="selectProducerObj" controller = "controller" target="product"></search-stage>\n            \x3c!-- end of Stage 4 --\x3e\n            \n          </div>\n      </div>\n      <script type="text/ng-template" id="nodes_renderer1.html">\n        <div class="tree-node tree-node-content row">\n          <div class="col-md-1">\n            <a ng-if="node.children && node.children.length > 0" data-nodrag ng-click="toggle(this)" ng-hide="controller.tmp.searchD">\n              <span class="fa fa-lg" ng-class="{\'fa-plus-square\': collapsed,\'fa-minus-square\': !collapsed}"></span>\n            </a>\n          </div>\n          <div class="col-md-3">\n            {{node.title | lengthLimit:30}}\n          </div>\n          <div class="col-md-6 text-center">\n            {{node.description | lengthLimit:40}}\n          </div>\n          <div class="col-md-2">\n            <a class="pull-left" title="" href ng-click="controller.selectTarget(node, controller.product, \'subgroup\', 0);loadMeta(node.id)" href>\n              <i class="fa fa-check-square-o fa-lg"></i>\n            </a>\n          </div>\n        </div>\n      \n        <ol ui-tree-nodes="" class="tree-chd" ng-model="node.children" ng-class="{hidden: collapsed}">\n          <li ng-repeat="node in node.children" ui-tree-node ng-include="\'nodes_renderer1.html\'">\n          </li>\n        </ol>\n      <\/script>\n      <div class="modal-footer">\n        \x3c!-- \n        <ul>\n          <li ng-repeat="(key, errors) in productForm.$error track by $index"> <strong>{{ key }}</strong> errors\n              <ul>\n              <li ng-repeat="e in errors">{{ e.$name }} has an error: <strong>{{ key }}</strong>.</li>\n              </ul>\n          </li>\n        </ul> --\x3e\n        <p ng-show = "dParent.stage === 0"> \n                *    \n          <br>\n          -\n                  .\n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n'),$templateCache.put("/dist/js/app/directive/deleteModal.html",'\x3c!-- Delete Modal --\x3e\n<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n <div class="modal-dialog modal-sm" role="document">\n   <div class="modal-content">\n     <div class="modal-header">\n       <button type="button" class="pull-left close" data-dismiss="modal" aria-label="Close" ng-hide ="$parent.loadModal">\n         <span aria-hidden="true">&times;</span>\n       </button>\n       <div class="pull-left load-spinner" ng-show = "$parent.loadModal">\n         <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n       </div>\n       <h4 class="modal-title" id="myModalLabel" ng-hide = "editMode"></h4>\n     </div>\n     <div class="modal-body" ng-hide ="$parent.loadModal">\n          \n       "{{controller.toDeleteTitle | lengthLimit:30}}"\n       \n     </div>\n     <div class="modal-footer" ng-hide ="$parent.loadModal">\n       <button type="button" class="btn btn-danger" data-dismiss="modal"></button>\n       <button type="button" class="btn btn-success" ng-click="controller.deleteObject(controller.toDeleteId,controller.afterDelete)"></button>\n     </div>\n   </div>\n </div>\n</div>'),$templateCache.put("/dist/js/app/directive/exportToFile.html",'<div class = "pull-left export-btn">\n  <label>  :</label>\n  <a ng-click="makeExport(\'html\')" title="   html" href>\n    <i class="fa fa-internet-explorer fa-lg"></i>\n  </a>\n  <a ng-click="makeExport(\'pdf\')" title="   pdf" href>\n    <i class="fa fa-file-pdf-o fa-lg"></i>\n  </a>\n  <a ng-click="makeExport(\'docx\')" title="   doc" href>\n    <i class="fa fa-file-word-o fa-lg"></i>\n  </a>\n</div>'),$templateCache.put("/dist/js/app/directive/pagination.html",'<div class="paging-simple" ng-hide = "dParent.load">\n  <ul class="pagination business-pagination">\n    <li title="   " class="paginate_button previou" ng-class="{\'disabled\' : pagination(\'first\')}">\n      <a ng-click = "!pagination(\'first\') && pageSet(\'first\')" href></a>\n    </li>\n    \x3c!-- <li class="paginate_button" ng-hide="pagination(\'first\')">\n      <a ng-click = "pageSet(\'first\')" href></a>\n    </li> --\x3e\n    <li class="paginate_button" ng-hide="pagination(\'first_mid\')">\n      <a>....</a>\n    </li>\n    <li class="paginate_button" ng-hide="pagination(\'new\')">\n      <a ng-click = "pageSet(\'new\')" href>{{itempage-1 | pNumber}}</a>\n    </li>\n    <li class="paginate_button active">\n      <a href>{{itempage | pNumber}}</a>\n    </li>\n    <li class="paginate_button" ng-hide="pagination(\'old\')">\n      <a ng-click = "pageSet(\'old\')" href>{{itempage+1 | pNumber}}</a>\n    </li>\n    <li class="paginate_button" ng-hide="pagination(\'end_mid\')">\n      <a>....</a>\n    </li>\n    \x3c!-- <li class="paginate_button" ng-hide="pagination(\'end\')">\n      <a ng-click = "pageSet(\'end\')" href>{{itemmeta.pages | pNumber}}</a>\n    </li> --\x3e\n    <li title="   " class="paginate_button next" ng-class="{\'disabled\' : pagination(\'end\')}">\n      <a ng-click = "!pagination(\'end\') && pageSet(\'end\')" href> ({{itemmeta.pages | pNumber}}) </a>\n    </li>\n  </ul>\n  <div class="per-page-text" ng-hide = "config.url">\n         \n        :\n  </div>\n  <select class="form-control per-page-select" title="   " ng-init = "dParent.perPage = \'10\'" ng-model="dParent.perPage" ng-change="itempage=1;pageSet()" ng-hide = "config.url">\n    <option value="10"></option>\n    <option value="25"></option>\n    <option value="50"></option>\n  </select>\n  \n</div>\n'),$templateCache.put("/dist/js/app/directive/productstat.html",'\x3c!-- warehouse Product Modal --\x3e\n<div class="modal fade" id="productStatModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left single-export">\n          <export-file exptype="product" id="controller.productStat.id"></export-file>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "dParent.loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n      </div>\n      <div class="modal-body">\n        <div class="row" ng-hide="dParent.loadModal">\n\n            <div class="col-xs-4">\n              <label> </label>\n              <h5 class="product-stat">\n                {{controller.productStat.name}}\n              </h5>\n            </div>\n\n          <div class="col-xs-4">\n            <label></label>\n            <span class="label label-danger pull-left" ng-show="controller.productStat.is_out_of_system">  </span>\n            <span class="label label-info pull-left" ng-show="controller.productStat.is_bundle"></span>\n            \n            <h5 class="product-stat">\n              {{controller.productStat.model}}\n              \n            </h5>\n\n          </div>\n          <div class="col-xs-4">\n            <label> </label>\n            <h5 class="product-stat">\n              {{controller.productStat.serial_number}}\n            </h5>\n          </div>\n          \n          <div class="clearfix"></div>\n          <div class="col-xs-4">\n            <label></label>\n            <h5 class="product-stat">\n              {{controller.productStat.subgroup.title}}\n            </h5>\n          </div>\n\n          <div class="col-xs-4">\n            <label></label>\n            <h5 class="product-stat">\n              {{controller.productStat.guarantor.company_name }}\n            </h5>\n          </div>\n          <div class="col-xs-4">\n            <label> </label>\n            <h5 class="product-stat">\n              \n              <label class="ltr-input">{{controller.productStat.guarantee_start_date | jalaliDate | pNumber}}</label>\n              \n              <label class="ltr-input">{{controller.productStat.guarantee_end_date | jalaliDate | pNumber}}</label>\n              \n            </h5>\n          </div>\n          <div class="clearfix"></div>\n          <div class="col-xs-4">\n            <label> </label>\n            <h5 class="product-stat">\n              {{controller.productStat.producer.brand_name}}\n            </h5>\n          </div>\n\n          <div class="col-xs-4">\n            <label> </label>\n            <h5 class="product-stat">\n              {{controller.productStat.production_date | jalaliDate | pNumber}}\n            </h5>\n          </div>\n          <div class="col-xs-4">\n            <label></label>\n            <h5 class="product-stat">\n               \n              {{controller.productStat.deprication_period | pNumber}}\n               \n              {{controller.productStat.deprication_type | depricateType}}\n            </h5>\n          </div>\n          <div class="clearfix"></div>\n\n          <div class="col-xs-4">\n            <label></label>\n            <h5 class="product-stat">\n              {{controller.productStat.price | currency:\'\':0 | productPrice | pNumber}}\n              {{ "" + " " }}\n            </h5>\n          </div>\n\n          <div class="col-xs-4">\n            <label></label>\n            <h5 class="product-stat">\n              {{controller.productStat.holder.obj.title}}\n              {{controller.productStat.holder.obj.first_name + " " + controller.productStat.holder.obj.last_name}}\n              ({{controller.productStat.holder.type | holderType}})\n            </h5>\n          </div>\n          <div class="col-xs-3">\n            <label>Qr Code</label>\n          </div>\n          <div class="col-xs-1">\n            <a href="{{controller.productStat.qr_code}}" data-lightbox=" " data-title=" ">\n              <img ng-src="{{controller.productStat.qr_code}}" class="img-responsive img-thumbnail" >\n            </a>\n          </div>\n          \n          <div class="clearfix"></div>\n\n            <div ng-show="controller.productStat.invoice_no" class="col-xs-4">\n              <label> </label>\n              <h5 class="product-stat">\n                {{controller.productStat.invoice_no}}\n              </h5>\n            </div>\n\n          <div ng-show="controller.productStat.invoice_no" class="clearfix"></div>\n\n          <div class="col-xs-4">\n            <label ng-show="controller.productStat.parent_bundle"> </label>\n            <h5 class="product-stat" ng-show="controller.productStat.parent_bundle">\n              {{controller.productStat.parent_bundle.model}}\n              ({{controller.productStat.parent_bundle.serial_number}})\n            </h5>\n          </div>\n          <div class="clearfix"></div>\n          \n          <hr ng-show="controller.productStat.meta_data.length > 0">\n          <div class="col-xs-4 col-xs-offset-4" ng-show="controller.productStat.meta_data.length > 0">\n            <h4 style="text-align:center"> </h4>\n          </div>\n          <div class="col-xs-4" ng-repeat="meta in controller.productStat.meta_data">\n            <label>{{meta.key}}</label>\n            <h5 class="product-stat">\n              {{meta.value | pNumber}}\n            </h5>\n          </div>\n          <div class="clearfix"></div>\n\n          <hr ng-show="controller.productStat.transactions.length > 0 || controller.productStat.repair_tickets.length > 0">\n          <div class="col-xs-12" ng-show="controller.productStat.transactions.length > 0">\n            <br>\n            <label style="text-align:center"  class="center-block"> </label>\n            <div class="stat-box" ng-show="controller.productStat.transactions.length > 0">\n              <table class="table table-striped" >\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th></th>\n                    <th> </th>                    \n                    <th></th>\n                    <th></th>\n                    <th> </th>\n                    <th> </th>                    \n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="t in controller.productStat.transactions" \n                  ng-class="{\'info\':t.transaction_type==0,\'danger\':t.transaction_type==1,\'default\':t.transaction_type==2}">\n                    <td>{{$index + 1 | pNumber}}</td>\n                    <td>{{ t.unique_id | transactionIdDisplay | pNumber}}</td>\n                    <td>{{ t.product.model | lengthLimit:20}}</td>                                        \n                    <td>\n                      {{t.source.obj.last_name}}\n                      {{t.source.obj.title}}\n                      ({{t.source.type | holderType}})\n                    </td>\n                    <td>\n                      {{t.destination.obj.last_name}}\n                      {{t.destination.obj.title}}\n                      ({{t.destination.type | holderType}})\n                    </td>\n                    <td>{{ t.reason | reasonType}}</td>                                        \n                    <td>{{ t.transaction_type | transactionType}}</td>                                                            \n                    <td>\n                      {{t.datetime | jalaliDate | pNumber}}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class="col-xs-12" ng-show="controller.productStat.repair_tickets.length > 0">\n            <br>\n            <label style="text-align:center" class="center-block">  </label>\n            <div class="stat-box" ng-show="controller.productStat.repair_tickets.length > 0">\n              <table class="table table-striped" >\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="r in controller.productStat.repair_tickets">\n                    <td>{{$index + 1}}</td>\n                    <td>\n                      {{r.title}}\n                    </td>\n                    <td>\n                      {{r.ticket_type | ticketType}}\n                    </td>\n                    <td>\n                      {{r.reason | ticketReason}}\n                    </td>\n                    <td>\n                      {{r.status | ticketStatus}}\n                    </td>\n                    <td>\n                      {{r.datetime | jalaliDate | pNumber}}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div class="clearfix"></div>\n\n          <hr ng-show="controller.productStat.children.length>0">\n          <div class="col-xs-4 col-xs-offset-4" ng-show="controller.productStat.children.length>0">\n            <h4 style="text-align:center">   </h4>\n          </div>\n\n          <div class="col-xs-8 col-xs-offset-2" ng-show="controller.productStat.children.length>0">\n            <br>\n            <div class="stat-box" >\n              <table class="table table-striped" >\n                <thead>\n                  <tr>\n                    <th>#</th>\n                    <th></th>\n                    <th></th>\n                    <th>  () </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-repeat="c in controller.productStat.children">\n                    <td>{{$index + 1 | pNumber}}</td>\n                    <td>\n                      {{c.model}}\n                    </td>\n                    <td>\n                      {{c.serial_number}}\n                    </td>\n                    <td>\n                      {{c.price | currency:\'\':0 | pNumber}}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          \n          \n        </div>\n      </div>\n      <div class="modal-footer">\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e'),$templateCache.put("/dist/js/app/directive/search.html",'\n<div class="col-md-12 col-sm-12 col-xs-12">\n  <div class="x-panel-search">\n    <form class="filter-form">\n      <input type="text" ng-repeat="opt in sobject" class="form-control search-option" title="{{opt.fname}}" id="{{opt.field}}" placeholder="{{opt.fname}}" ng-model="scontroller.searchValue[opt.field]" \n      ng-if="opt.show_in_search != false">\n      <ng-transclude></ng-transclude>\n      <select title="   " ng-show="sobject.length>0" class="form-control filter-option" ng-model="scontroller.searchValue[\'type\']">\n        <option value="">   </option>\n        <option ng-repeat="opt in sobject" value="{{opt.field}}" ng-if="opt.show_in_order != false">\n          {{opt.fname | lengthLimit:30}}\n        </option>\n      </select>\n      <select title="  " ng-hide="scontroller.searchValue[\'type\']==\'\' || scontroller.searchValue[\'type\']==undefined" class="form-control sort-option" ng-init = " scontroller.searchValue[\'order\'] = \'\'" \n      ng-model="scontroller.searchValue[\'order\']">\n        <option value=""></option>\n        <option value="-">  </option>\n      </select>\n      <button type="submit" class="btn btn-info filter-btn" ng-click = "scontroller.getFilteredData()"></button>\n    </form>\n    <div class="row more-filter-link-container" >\n        <a title="   " id="more-filters" class="more-filters-link" href> </a>\n        <a title="    " id="less-filters" style="display:none" class="more-filters-link" href></a>\n    </div>\n  </div>\n</div>'),$templateCache.put("/dist/js/app/directive/searchStage.html",'<div class="row">\n  <div class="col-md-12">\n    <div class="panel panel-info">\n      <div class="panel-heading">\n        \n        {{obj.title.fa  | lengthLimit:30}}\n        <div class="pull-left">\n          <i ng-show = "$parent.loadSearch || $parent.$parent.loadSearch" class="fa fa-refresh fa-spin"></i>\n        </div>\n      </div>\n      <div class="panel-body">\n        <form name="searchForm" role="form" novalidate>\n              <div class="input-group">\n                <input title="     " type="text" class="form-control" placeholder="" name="searchText" ng-model="controller.tmp.searchQuery">\n                <span class="input-group-btn">\n                  <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="controller.search(obj.searchItem.en, obj.addOneUrl, obj.searchFilter)">\n                     \n                    {{obj.searchItem.fa  | lengthLimit:30}}\n                  </button>\n                </span>\n              </div>\n          </form>\n          <table class="table table-hover table-border" ng-hide = "controller.tmp.searchResult == \'\' || $parent.loadSearch || $parent.$parent.loadSearch">\n            <tbody>\n              <tr>\n                <th></th>\n                <th ng-repeat="item in obj.table">\n                  {{item.fa | lengthLimit:20}}\n                </th>\n                <th></th>\n              </tr>\n\n              <tr ng-repeat = "list in controller.tmp.searchResult | filterObjById:(filterId || controller.obj.id)">\n                <td>{{$index+1}}</td>\n                <td ng-repeat="att in obj.table">\n                  {{list[att.en] | useFilter:(att.filter || null) | lengthLimit:30}}\n                </td>\n                <td>\n                  <a title=" " ng-click="controller.selectTarget(list,controller[subbase][target] || controller[target], obj.title.en, 0, func)" href>\n                    <i class="fa fa-check-square-o fa-lg"></i>\n                  </a>\n                </td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    </div>\n  \x3c!-- /.box-body --\x3e\n  </div>\n</div>'),$templateCache.put("/dist/js/app/directive/transactionStat.html",'\x3c!-- transaction status Modal --\x3e\n<div class="modal fade" id="transactionStatModal" tabindex="-1" role="dialog">\n        <div class="modal-dialog" role="document">\n          <div class="modal-content">\n            <div class="modal-header">\n              <div class="pull-left">\n                <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n              </div>\n              <div class="pull-left load-spinner" ng-show = "$parent.loadingTransactionData">\n                <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n              </div>\n              <h3 class="modal-title" ng-hide="editMode">  </h3>\n            </div>\n            <div class="modal-body">\n              <div class="row" ng-hide="$parent.loadingTransactionData">\n                <div class="col-sm-6">\n                    <label></label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.unique_id | pNumber}}\n                    </h5>\n                </div>\n                <div class="col-sm-6">\n                    <label> </label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.datetime | jalaliDate | pNumber}}\n                    </h5>\n                </div>\n                <div class="clearfix"></div>\n                <hr>\n\n                <div class="col-sm-6">\n                    <label> </label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.product.model | lengthLimit:30}}\n                    </h5>\n                </div>\n                <div class="col-sm-6">\n                    <label> </label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.product.serial_number}}\n                    </h5>\n                </div>\n                <div class="clearfix"></div>\n                <hr>\n\n                <div class="col-sm-6">\n                    <label></label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.destination | userOrWarehouseName | lengthLimit:30}}\n                    </h5>\n                </div>\n                \n                <div class="col-sm-6">\n                    <label></label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.source | userOrWarehouseName | lengthLimit:30}}\n                    </h5>\n                </div>                \n                <div class="clearfix"></div>\n                <hr>\n\n                <div class="col-sm-6">\n                    <label> </label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.transaction_type | transactionType}}\n                    </h5>\n                </div>\n                    \n                <div class="col-sm-6">\n                    <label> </label>\n                    <h5 class="transaction-stat">\n                        {{controller.transactionStat.reason | reasonType}}\n                    </h5>\n                </div>\n                \n                <div class="clearfix"></div>\n                <hr>\n                <div class="col-sm-12">\n                    <label> </label>\n                    <p class="transaction-stat">\n                        {{controller.transactionStat.details}}\n                    </p>\n                </div>\n               \n              </div>\n            </div>\n            <div class="modal-footer">\n            </div>\n          </div>\x3c!-- /.modal-content --\x3e\n        </div>\x3c!-- /.modal-dialog --\x3e\n      </div>\x3c!-- /.modal --\x3e')}]),angular.module("assetAdminPanel").run(["$templateCache",function($templateCache){$templateCache.put("/dist/templates/changepass.html",'<div class="row changePasswordMainArrengment">\n  <div class="col-md-offset-4 col-md-4 changePasswordArrengment panel panel-default">\n    <div class="panel-body">\n      <form name="passForm" novalidate>\n        <p class="dataBaseMainText">\n                     \n        </p>\n        <br>\n        <div class="form-group">\n          <input name="oldpass" type="password" id="password" ng-model="changepass.obj.old_password" class="form-control" placeholder="  " required>\n        </div>\n        <div class="form-group" ng-class=" {\'has-error\' : passForm.pass.$invalid && !passForm.pass.$pristine,\n          \'has-success\' : !passForm.pass.$invalid && !passForm.pass.$pristine}  ">\n          <input name="pass" type="password" id="password" ng-model="changepass.obj.new_password" class="form-control" ng-maxlength="15" ng-minlength="8"\n          ng-pattern = "/^[a-z0-9]+$/" placeholder="  " ng-model-options="{ allowInvalid: true }" required>\n          <p ng-show="passForm.pass.$error.minlength" class="input-error-p">   </p>\n          <p ng-show="passForm.pass.$error.maxlength" class="input-error-p">   </p>\n          <p ng-show="passForm.pass.$error.pattern" class="input-error-p">     </p>\n        </div>\n        <div class="form-group" ng-class=" {\'has-error\' : changepass.tmp.newPassConf != changepass.obj.new_password && !passForm.confPass.$pristine,\n          \'has-success\' : changepass.tmp.newPassConf === changepass.obj.new_password && !passForm.confPass.$pristine}  ">\n          <input name="confPass" type="password" id="password" ng-model="changepass.tmp.newPassConf" class="form-control" ng-maxlength="15" ng-minlength="8"\n          ng-pattern = "/^[a-z0-9]+$/" placeholder="   " ng-model-options="{ allowInvalid: true }" required>\n          <p ng-show="changepass.tmp.newPassConf !== changepass.obj.new_password && !passForm.confPass.$pristine"\n          class="input-error-p">    </p>\n        </div>\n\n        <button type="submit" ng-click="changepass.changePassword()" class="btn btn-primary changePasswordButton"\n          ng-disabled = "!passForm.$valid || changepass.obj.new_password !== changepass.tmp.newPassConf">  </button>\n        <input type="checkbox" name="checkBox" class="changePasswordCheckButton" onchange="document.getElementById(\'password\').type = this.checked ? \'text\' : \'password\'">      </input>\n        <br>\n      </form>\n    </div>\n  </div>\n</div>'),$templateCache.put("/dist/templates/config.html",'<div class="row">\n    <div class="col-md-6 col-md-offset-3 dataBaseplace-box">\n        <div class="" id=\'myTabs\' role="tabpanel" data-example-id="myTabs">\n            <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">\n                <li role="presentation">\n                    <a href="#ldap" role="tab" data-toggle="tab" aria-expanded="false">LDAP</a>\n                </li>\n                <li role="presentation">\n                    <a href="#syslog" role="tab" data-toggle="tab" aria-expanded="false"> </a>\n                </li>\n            </ul>\n            <div id="myTabContent" class="tab-content">\n                <div role="tabpanel" class="tab-pane fade" id="ldap" aria-labelledby="ldap-tab">\n                    <div ng-show="loadModal" class="text-center">\n                        <i class="fa fa-spinner fa-pulse fa-4x"></i>\n                    </div>\n                    <form ng-hide="loadModal" name="ldapForm" ng-submit="!ldapForm.hostname.$error.pattern && config.setConfig(\'ldap\')">\n                        <fieldset>\n                            \n                            <div class="col-md-6 col-md-pull-3" title="     ldap">\n                                <div  class="checkbox">\n                                    <label>\n                                        <input class="checkbox" ng-change="config.configChange(\'ldap\')" ng-model="config.obj.ldap.ldap_on" id="ldap_on_off" type="checkbox">\n                                        <b>\n                                                    LDAP\n                                        </b>   \n                                    </label>\n                                </div>\n                            </div>\n                            <div class="clearfix"></div>\n                            \n\n                            <div class="col-md-6 col-md-pull-3">\n                                <div id="ldap-hostname-container" class="form-group" ng-class="{\'has-error\':ldapForm.hostname.$error.pattern && config.validateResult.ldap_touched , \'has-success\':!ldapForm.hostname.$error.pattern && config.validateResult.ldap_touched }">\n                                    <label>   LDAP </label>\n                                    <input id="ldap-host" type="text" class="form-control hostname-input" dir="ltr" name="hostname" ng-model = "config.obj.ldap.hostname" \n                                    ng-change="config.configChange(\'ldap\')">\n                                </div>\n                            </div>\n                            <div class="clearfix"></div>\n                            \n                            <div class="col-md-6 col-md-pull-3">\n                                    <div id="dn-container" class="form-group" ng-class="{\'has-success\':ldapForm.dn && config.validateResult.ldap_touched}">\n                                        <label> DN </label>\n                                        <input id="ldap-dn" type="text" class="form-control hostname-input" dir="ltr" name="dn" ng-model = "config.obj.ldap.dn" ng-change="config.configChange(\'ldap\')">\n                                    </div>\n                            </div>\n                            <div class="clearfix"></div>\n\n                            <div class="col-md-12 col-md-pull-0">\n                                <p>\n                                    -\n                                             \n                                    (username)\n                                     .\n\n                                    : <br/>\n                                    <span style="float:left">\n                                            cn=?,dc=example,dc=com                                            \n                                    </span>\n                                </p>\n                            </div>\n                            <div class="clearfix"></div>\n                            \n                            <div class="col-md-2 col-md-pull-8">\n                                <button id="ldap-submit" style="display:none"  ng-disabled="ldapForm.hostname.$error.pattern" class="btn btn-success" type="submit">  </button>\n                            </div>\n                        </fieldset>\n                    </form>\n                </div>\n\n                <div role="tabpanel" class="tab-pane fade" id="syslog" aria-labelledby="syslog-tab">\n                    <div ng-show="loadModal" class="text-center">\n                        <i class="fa fa-spinner fa-pulse fa-4x"></i>\n                    </div>\n                    <form ng-hide="loadModal" name="syslogForm" ng-submit="!syslogForm.hostname.$error.pattern && config.setConfig(\'syslog\')">\n                        <fieldset>\n                            <div class="col-md-6 col-md-pull-3" title="       ">\n                                <div class="checkbox">\n                                    <label>\n                                        <input class="checkbox" ng-model="config.obj.syslog.syslog_on" id="syslog_on_off" type="checkbox" ng-change="config.configChange(\'syslog\')">\n                                        <b>\n                                                     Syslog                                                \n                                        </b>    \n                                    </label>\n                                </div>\n                            </div>    \n                            <div class="clearfix"></div>\n                            \n                            <div class="col-md-6 col-md-pull-3">\n                                <div class="form-group"  id="syslog-hostname-container" ng-class="{\'has-error\':syslogForm.hostname.$error.pattern && config.validateResult.syslog_touched , \'has-success\':!syslogForm.hostname.$error.pattern && config.validateResult.syslog_touched }">\n                                    <label>   Syslog </label>\n                                    <input id="syslog-host" type="text" class="form-control hostname-input" dir="ltr" name="hostname" ng-model = "config.obj.syslog.hostname"  ng-change="config.configChange(\'syslog\')" ng-pattern="/^(((([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)+([A-Za-z]|[A-Za-z][A-Za-z\\-]*[A-Za-z]))|((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))|(localhost))(:[0-9]{1,4})?$/">\n                                </div>\n                            </div>\n                            <div class="clearfix"></div>\n                            \n                            <div class="col-md-2 col-md-pull-8">\n                                <button id="syslog-submit" style="display:none"  ng-disabled="syslogForm.hostname.$error.pattern" class="btn btn-success" type="submit">  </button>\n                            </div>\n\n                        </fieldset>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),$templateCache.put("/dist/templates/database.html",'<div class="row" ng-hide="uploading">\n  <div class="col-md-6 col-md-offset-3 dataBaseplace-box">\n    <div class="" id=\'myTabs\' role="tabpanel" data-example-id="myTabs">\n      <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">\n        <li role="presentation">\n          <a href="#server" role="tab" data-toggle="tab" aria-expanded="false"></a>\n        </li>\n        <li role="presentation">\n          <a href="#upload" role="tab" data-toggle="tab" aria-expanded="true"> </a>\n        </li>\n      </ul>\n      <div id="myTabContent" class="tab-content">\n        <div role="tabpanel" class="tab-pane fade" id="server" aria-labelledby="home-tab">\n          <p class="dataBaseMainText">\n                                \n          </p>\n          <div class="row">\n            <div class="col-md-6 col-md-offset-3">\n              \n              <div style="text-align:center">\n                <form name=\'databaseForm\'>\n                  <button type="button" ng-click="database.download()" class="btn btn-success">  </button>\n                  <button class="btn btn-primary" data-toggle="modal" data-target="#databaseConfirm">\n                       \n                  </button>\n                </form>\n              </div>\n              <p ng-show="databaseForm.file.$error.pattern || restoreForm.file.$error.pattern" class="input-error-p">    </p>\n            </div>\n          </div>\n        </div>\n        <div role="tabpanel" class="tab-pane fade" id="upload" aria-labelledby="profile-tab">\n          <p class="dataBaseMainText">\n                                  \n          </p>\n          <div class="row">\n            <div class="col-md-6 col-md-offset-3">\n              \n              <div style="text-align:center">\n                <form name=\'uploadForm\'>\n                  <button type="button" ng-click="database.downloadFile()" class="btn btn-success">   </button>\n                  <button class="btn btn-primary" data-toggle="modal" data-target="#filesConfirm">\n                     \n                  </button>      \n                </form>\n              </div>\n              <p ng-show="uploadForm.file.$error.pattern" class="input-error-p">    </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n  </div>\n</div>\n\n<div class="clearfix"></div>\n<br>\n\n<div class="row">\n  <div class="col-md-6 col-md-offset-3 dataBaseplace-box" ng-show = "uploading">\n    <p ng-hide=" uploadPercentage == \'100%\' " class="text-center">\n               .\n      <br>\n      <b>   ...</b>\n    </p>\n    <p ng-show=" uploadPercentage == \'100%\' " class="text-center">\n           .\n            .\n      <br>\n      <b>   ...</b>\n      <div class="load-spinner center-block text-center">\n        <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n      </div>\n    </p>\n    <br>\n    <div class="progress active" ng-hide = "uploadPercentage == 0 || uploadPercentage == \'100%\'">\n      <div class="progress-bar progress-bar-info" role="progressbar"\n      aria-valuemin="0" id="uploadPercentBox" aria-valuemax="100" ng-style="{ \'width\' : uploadPercentage }">\n      {{uploadPercentage}}\n      </div>\n    </div>\n  </div>\n</div>\n\n<br>\n\n<div class="row">\n  <div class="col-md-6 col-md-offset-3">\n    <div class="alert alert-success alert-dismissible fade in" role="alert" ng-show="database.downloadUrl">\n      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true"></span>\n      </button>\n      <strong>    .</strong>          \n      <a ng-href="{{database.downloadUrl}}" target="_blank"></a> \n        .\n    </div>\n  </div>\n</div>\n\n\x3c!-- Database Confirm --\x3e\n<div class="modal fade" id="databaseConfirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n    <div class="modal-dialog modal-sm" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="pull-left close" data-dismiss="modal" aria-label="Close" ng-hide ="$parent.loadModal">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <div class="pull-left load-spinner" ng-show = "$parent.loadModal">\n            <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n          </div>\n          <h4 class="modal-title" id="myModalLabel" ng-hide = "editMode"></h4>\n        </div>\n        <div class="modal-body" ng-hide ="$parent.loadModal">\n          .             \n              \n        </div>\n        <div class="modal-footer" ng-hide ="$parent.loadModal">\n          \n          <form name="restoreForm">\n              <button type="button" class="btn btn-danger" data-dismiss="modal"></button>    \n              <div class="btn btn-primary" ngf-select="database.upload()" ng-model="database.file" name="file" ngf-pattern="\'.mdb\'" ngf-accept="\'.mdb\'"\n              ngf-max-size="2MB" data-dismiss="modal"> </div>\n          </form>\n          \n        </div>\n      </div>\n    </div>\n   </div>\n\n\x3c!-- Files Confirm --\x3e\n<div class="modal fade" id="filesConfirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog modal-sm" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="pull-left close" data-dismiss="modal" aria-label="Close" ng-hide ="loadModal">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h4 class="modal-title" id="myModalLabel" ></h4>\n      </div>\n      <div class="modal-body" ng-hide ="loadModal">\n        .             \n            \n      </div>\n      <div class="modal-footer" ng-hide ="loadModal">\n        \n        <form name="uploadForm">\n            <button type="button" class="btn btn-danger" data-dismiss="modal"></button>    \n            <div class="btn btn-primary" ngf-select="database.uploadServer()" ng-model="database.uploadFile" name="file" ngf-pattern="\'.zip\'" ngf-accept="\'.zip\'"\n            ngf-max-size="1024MB" data-dismiss="modal"></div>\n        </form>\n        \n      </div>\n    </div>\n  </div>\n </div>'),$templateCache.put("/dist/templates/emptydatabase.html",'<div class="row" ng-hide="uploading">\n  <div class="col-md-6 col-md-offset-3 dataBaseplace-box">\n    <div class="" id=\'myTabs\' role="tabpanel" data-example-id="myTabs">\n      <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">\n        <li role="presentation">\n          <a href="#testid" role="tab" data-toggle="tab" aria-expanded="false">  </a>\n        </li>\n      </ul>\n      <div id="myTabContent" class="tab-content">\n        <div role="tabpanel" class="tab-pane fade" id="testid" aria-labelledby="home-tab">\n          <p class="dataBaseMainText">\n                           .\n          </p>\n          <div class="row">\n            <div class="col-md-6 col-md-offset-3">\n              \n              <div style="text-align:center">                \n                  <button type="button" ng-hide="emptydatabase.emptySuccess" data-toggle="modal" data-target="#databaseConfirm" class="btn btn-danger">  </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n  </div>\n</div>\n\n<div class="clearfix"></div>\n<br>\n\n\n<div class="row">\n  <div class="col-md-6 col-md-offset-3">\n    <div class="alert alert-success alert-dismissible fade in" role="alert" ng-show="emptydatabase.emptySuccess">\n      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true"></span>\n      </button>\n      <strong>     </strong>\n    </div>\n  </div>\n</div>\n\n\n\x3c!-- Database Confirm --\x3e\n<div class="modal fade" id="databaseConfirm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n    <div class="modal-dialog modal-sm" role="document">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="pull-left close" data-dismiss="modal" aria-label="Close" ng-hide ="$parent.loadModal">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <div class="pull-left load-spinner" ng-show = "$parent.loadModal">\n            <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n          </div>\n          <h4 class="modal-title" id="myModalLabel" ng-hide = "editMode"></h4>\n        </div>\n        <div class="modal-body" ng-hide ="$parent.loadModal">\n          .             \n              \n        </div>\n        <div class="modal-footer" ng-hide ="$parent.loadModal">\n          \n          <form name=\'databaseForm\'>\n              <button type="button" class="btn btn-primary" data-dismiss="modal"></button>    \n              <button type="button" ng-click="emptydatabase.empty()" class="btn btn-danger" data-dismiss="modal"></button>    \n          </form>\n          \n        </div>\n      </div>\n    </div>\n   </div>'),$templateCache.put("/dist/templates/group.html",'<div class="row">\n <search-tools sobject="group.searchObject" scontroller="group">\n    <select class="form-control sort-option" ng-model="group.addOne.extra.depth__lt" title="    ">\n      <option value="2">\n        \n      </option>\n      <option value="7">\n          \n      </option>\n    </select>\n  </search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i> </h2>\n        <button type="button" ng-if = "checkWrite(\'group\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n           \n        </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n\n        <div ui-tree id="tree-root" ng-show = "group.note.length>0">\n          <ol ui-tree-nodes ng-model="group.note">\n            <li ng-repeat="node in group.note" ui-tree-node ng-include="\'nodes_renderer.html\'"></li>\n          </ol>\n        </div>\n        \n        <req-pagination itemmeta="meta" itempage="page" controller="group" config="group.paginationConfig"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- group Modal --\x3e\n<div class="modal fade" id="groupModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-disabled="!groupForm.$valid" ng-click="group.sendOrEdit(editMode)" ng-if = "checkWrite(\'group\')" class="btn btn-success" ng-show = "stage == 0"></button>\n          <button type="button" class="btn btn-info" ng-show = "stage != 0" ng-click="stage = 0"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode"> </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body" ng-hide = "loadModal">\n        <div ng-show = "stage == 0">\n          <form name="groupForm" role="form" novalidate  ng-submit="groupForm.$valid && group.sendOrEdit(editMode)">\n            <button type="submit" hidden></button>\n            <fieldset ng-disabled="!checkWrite(\'group\')">\n              <div class="row">\n                <div class="col-sm-6">\n                  <div class="form-group" ng-class="{\'has-success\' : groupForm.title.$valid && group.obj.title}">\n                    <label>*</label>\n                    <input type="text" class="form-control" name="title" placeholder="" ng-model = "group.obj.title" required>\n                  </div>\n                </div>\n                <div class="col-sm-6">\n                  <div class="form-group" ng-hide="group.obj.level >= 6">\n                      <label></label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="group.obj.parent.title" disabled>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!checkWrite(\'product\')" class="btn btn-info btn-beside-input" ng-hide="group.obj.parent.title" ng-click="group.selectThings(1, \'group\', ( (group.obj.id) ? \'parent_for=\' + group.obj.id : \'depth__lt=6\') + \'\')"> </button>\n                          <button type="button" ng-disabled="!checkWrite(\'product\')" class="btn btn-danger btn-beside-input" ng-show="group.obj.parent.title" ng-click="group.deleteKey(group.obj, \'parent\')"> </button>\n                        </span>\n                      </div>\n                    </div>\n                </div>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : groupForm.dsc.$valid && group.obj.description}">\n                <label>*</label>\n                <input type="text" class="form-control" name="dsc" placeholder="" ng-model = "group.obj.description" required>\n              </div>\n              \n              <h4>\n                  \n              </h4>\n\n              <div class="meta-case">\n                <button type="button" class="btn btn-round btn-sm btn-info" ng-click="group.addMeta(\'num\')">\n                  <i class="fa fa-plus"></i>\n                  \n                </button>\n\n                <button type="button" class="btn btn-round btn-sm btn-info" ng-click="group.addMeta(\'str\')">\n                  <i class="fa fa-plus"></i>\n                  \n                </button>\n\n                <button type="button" class="btn btn-round btn-sm btn-info" ng-click="group.addMeta(\'bool\')">\n                  <i class="fa fa-plus"></i>\n                  \n                </button>\n              </div>\n              <br>\n              <table class="table table-hover">\n                <thead>\n                  <th> </th>\n                  <th> </th>\n                  <th></th>\n                </thead>\n                <tbody>\n                  <tr ng-repeat = "meta in group.obj.self_meta_template">\n                    <td>\n                      <h5>\n                        {{meta.type | metaType}}\n                      </h5>\n                    </td>\n                    <td>\n                      <input type="text" class="form-control" placeholder=" " ng-model = "meta.key" required>\n                    </td>\n                    <td>\n                      <a class="fa-2x" ng-click="group.deleteMeta($index)" href></a>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n\n            </fieldset>\n          </form>\n        </div>\n        \x3c!-- end of Stage 0 --\x3e\n\n        <search-stage ng-show = "stage == 1" obj="group.selectGroupObj" controller = "group"></search-stage>\n        \x3c!-- end of Stage 1 --\x3e\n        \n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "group"></delete-modal>\n<script type="text/ng-template" id="nodes_renderer.html">\n  <div class="tree-node tree-node-content row">\n    <div class="col-md-1">\n      <a title="     " ng-if="node.children && node.children.length > 0" data-nodrag ng-click="toggle(this)">\n        <span class="fa fa-lg" ng-class="{\'fa-plus-square\': collapsed,\'fa-minus-square\': !collapsed}"></span>\n      </a>\n    </div>\n    <div class="col-md-3">\n      {{node.title | lengthLimit:30}}\n    </div>\n    <div class="col-md-6 text-center">\n      {{node.description | lengthLimit:40}}\n    </div>\n    <div class="col-md-2">\n      <a class="pull-left" ng-if="checkWrite(\'group\')" ng-click="group.toDeleteId = node.id; group.toDeleteTitle = node.title" title="" data-toggle="modal" data-target="#deleteModal" href>\n        <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n      </a>\n      <a class="pull-left" ng-click="group.getObject(node.id)" title="" href style="margin-left: 15px;">\n        <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'group\') , \'fa-eye\' : !checkWrite(\'group\')}" aria-hidden="true"></i>\n      </a>\n    </div>\n  </div>\n\n  <ol ui-tree-nodes="" class="tree-chd" ng-model="node.children" ng-class="{hidden: collapsed}">\n    <li ng-repeat="node in node.children" ui-tree-node ng-include="\'nodes_renderer.html\'">\n    </li>\n  </ol>\n<\/script>'),$templateCache.put("/dist/templates/guarantor.html",'<div class="row">\n  <search-tools sobject="guarantor.searchObject" scontroller="guarantor"></search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'guarantor\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n           \n        </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th> </th>\n              <th></th>\n              <th> </th>\n              <th></th>\n              <th></th>\n              <th ng-if = "checkWrite(\'guarantor\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in guarantor.note">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>{{list.company_name | lengthLimit:30}}</td>\n              <td title="  ">\n                <a target="_blank" ng-href="{{list.website_address}}" ng-show="list.website_address">\n                  <i class="fa fa-lg fa-internet-explorer"></i>\n                </a>\n                <i ng-hide="list.website_address">\n                  --  --\n                </i>\n              </td>\n              <td>{{list.office_phone | pNumber}}</td>\n              <td>{{list.address | lengthLimit:30 | pNumber}}</td>\n              <td title="">\n                <a ng-click="guarantor.getObject(list.id)" href>\n                  <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'guarantor\') , \'fa-eye\' : !checkWrite(\'guarantor\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td title="" ng-if = "checkWrite(\'guarantor\')">\n                <a ng-click="guarantor.toDeleteId = list.id; guarantor.toDeleteTitle = list.company_name " data-toggle="modal" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="guarantor"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- guarantor Modal --\x3e\n<div class="modal fade" id="guarantorModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-disabled="!guarantorForm.$valid" ng-if = "checkWrite(\'guarantor\')" ng-click="guarantor.sendOrEdit(editMode)" class="btn btn-success"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n        <form name="guarantorForm" role="form" ng-hide="loadModal" novalidate ng-submit="guarantorForm.$valid && guarantor.sendOrEdit(editMode)">\n          <button type="submit" hidden></button>\n          <fieldset ng-disabled = "!checkWrite(\'guarantor\')">\n            <div class="box-body">\n              <div class="form-group" ng-class="{\'has-success\' : guarantorForm.name.$valid && guarantor.obj.company_name}">\n                <label> *</label>\n                <input type="text" class="form-control" name="name" placeholder=" " ng-model = "guarantor.obj.company_name" required>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : guarantorForm.website.$valid && guarantor.obj.website_address}">\n                <label> </label>\n                <input type="text" class="form-control ltr-input" placeholder="  " name="website" ng-model = "guarantor.obj.website_address"\n                ng-pattern="\'(https?:\\\\/\\\\/(?:www\\\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\\\.[^\\\\s]{2,}|www\\\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\\\.[^\\\\s]{2,}|https?:\\\\/\\\\/(?:www\\\\.|(?!www))[a-zA-Z0-9]\\\\.[^\\\\s]{2,}|www\\\\.[a-zA-Z0-9]\\\\.[^\\\\s]{2,})\'">\n              </div>\n              <div class="form-group" ng-class=" {\'has-error\' : guarantorForm.phone.$invalid && guarantor.obj.office_phone,\n                \'has-success\' : guarantorForm.phone.$valid && guarantor.obj.office_phone } ">\n                <label> *</label>\n                <input type="text" class="form-control ltr-input" name="phone" placeholder=" " ng-model = "guarantor.obj.office_phone"\n                ng-pattern = "/^[0-9-+]+$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }" required>\n                <p ng-show="guarantorForm.phone.$error.maxlength" class="input-error-p">    </p>\n                <p ng-show="guarantorForm.phone.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : guarantorForm.address.$valid && guarantor.obj.address}">\n                <label>*</label>\n                <textarea class="form-control" placeholder="" name="address" ng-model="guarantor.obj.address" rows="3" required></textarea>\n              </div>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "guarantor"></delete-modal>'),$templateCache.put("/dist/templates/home.html",'<div class="row">\n  <div class="col-md-6 col-md-offset-3 dataBaseplace-box">\n    <p class="dataBaseMainText">\n      <i class="fa fa-dashboard fa-5x"></i>\n      <br><br>\n           \n      <br><br>\n                  \n    </p>\n    <div class="clearfix">\n    </div>\n    <p>\n\n    </p>\n  </div>\n</div>\n'),$templateCache.put("/dist/templates/invoice.html",'<div class="row" esc-event="reset()">\n\n    \x3c!-- Search Object --\x3e\n    <search-tools sobject="invoice.searchObject" scontroller="invoice">\n        <div id="report-field" style="display:none" class="report-field">\n            <div title="    " class="input-group report-field-option">\n                <adm-dtp inputplaceholder=" " ng-model="invoice.addOne.reportFields.datetime__gte" \n                options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'>\n                </adm-dtp>\n            </div>\x3c!-- / datetime__gte filter --\x3e\n\n            <div title="    " class="input-group report-field-option">\n                <adm-dtp inputplaceholder=" " ng-model="invoice.addOne.reportFields.datetime__lte" \n                options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'>\n                </adm-dtp>\n            </div>\x3c!-- / datetime__lte filter --\x3e\n        </div>\n    </search-tools>\n    \x3c!-- /Search Object--\x3e\n\n    \x3c!-- invoice list --\x3e\n    <div ng-class = "{\'col-xs-12\':!invoice.tmp.formShow , \'col-xs-6\' : invoice.tmp.formShow}">\n        <div class="x_panel">\n            <div class="x_title">\n                <h2>\n                    <i class="fa"></i> \n                    <small ng-if="meta.total && !load">\n                      ( : {{meta.total | pNumber}})\n                    </small>\n                \n                    <small ng-if="total_price && !load">\n                        ( : {{total_price | currency:\'\':0 | productPrice | pNumber}}\n                        {{ "" + " " }}\n                        )\n                    </small>\n                </h2>\n                <button type="button" ng-if = "checkWrite(\'invoice\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="invoice.setNewInvoiceForm()">\n                    \n                </button>\n                <export-file ng-hide="invoice.tmp.formShow" exptype="invoice_list"></export-file>\n                <div class="clearfix"></div>\n            </div>\x3c!-- /.x_title--\x3e\n            <div class="x_content">\n                <table class="table table-striped jambo_table asset-tables">\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th> </th>\n                            <th>   () </th>\n                            <th></th>\n                            <th ng-if = "checkWrite(\'invoice\')"></th>\n                        </tr>\n                    </thead>\n                    <tbody ng-hide="load">\n                        <tr ng-repeat = "list in invoice.note">\n                            <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n                            <td class="limited-width-col">{{list.invoice_no  | lengthLimit:30}}</td>\n                            <td class="limited-width-col">{{list.price | currency:\'\':0 | lengthLimit:30 | pNumber}}</td>\n                            <td>\n                                <a title="" ng-click="invoice.readInvoice(list.id)" href>\n                                    <i class="fa fa-lg"  ng-class = "{\'fa-pencil-square-o\':checkWrite(\'invoice\') , \'fa-eye\' : !checkWrite(\'invoice\')}" aria-hidden="true"></i>\n                                </a>\n                            </td>\n                            <td ng-if = "checkWrite(\'invoice\')">\n\t\t\t\t\t\t\t\t<a title="" ng-click="invoice.toDeleteId = list.id; invoice.toDeleteTitle = list.invoice_no" data-toggle="modal" data-target="#deleteModal" href>\n                                    <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                                </a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <req-pagination itemmeta="meta" itempage="page" config="invoice.paginationConfig"></req-pagination>\n            </div>\x3c!-- /.x_content--\x3e\n        </div>\x3c!-- /.x_panel--\x3e\n    </div>\n    \x3c!-- /invoice list --\x3e\n\n    \x3c!-- edit and create column --\x3e\n    <div class="col-xs-6" id="invoiceEditCreateForm">\n        <div class="x_panel " ng-hide="!invoice.tmp.formShow">\n            <div class="x_title">\n                <h2 ng-show="editMode"><i class="fa"></i> </h2>\n                <h2 ng-hide="editMode"><i class="fa"></i>  </h2>\n\n                <div class="pull-left" ng-hide="loadSide">\n                    <button type="button" class="btn btn-danger" ng-click="reset()"></button>\n                    <button type="button" ng-if = "checkWrite(\'invoice\')" ng-click="invoice.validateForm()" class="btn btn-success"></button>\n                </div>\n                <div class="pull-left single-export" ng-show="editMode">\n                    <export-file exptype="invoice" id="invoice.obj.id"></export-file>\n                </div>\n\n                <div class="clearfix"></div>\n            </div>\x3c!-- /.x_title--\x3e\n            <div class="x_content" ng-hide="loadSide">\n                <form name="invoiceForm" role="form"  novalidate ng-submit="invoice.validateForm()">\n                    <button type="submit" hidden></button>\n                    <fieldset ng-disabled ="!checkWrite(\'invoice\')">\n                        <div class="box-body">\n\n\n\n                            <div class="row">\n\n                                <div class="col-xs-6">\n                                    <div class="form-group" ng-class=" {\'has-error\' : invoiceForm.invoice_no.$invalid && invoice.obj.invoice_no,\n                                        \'has-success\' : invoiceForm.invoice_no.$valid && invoice.obj.invoice_no } ">\n                                        <label> *</label>\n                                        <input type="text" class="form-control" name="invoice_no" placeholder=" " ng-model = "invoice.obj.invoice_no" required>\n                                    </div>\n                                </div>\n                                <div class="col-xs-6">\n                                    <div class="form-group" ng-class="{\'has-success\' : invoiceForm.datetime.$valid && invoice.obj.datetime}">\n                                        <label> *</label>\n                                        <adm-dtp  ng-model="invoice.obj.datetime" ></adm-dtp>\n                                    </div>\n                                </div>\n                                <div class="clearfix"></div>\n\n                                <div class="col-xs-6">\n                                    <label>*</label>\n                                    <div class="input-group">\n                                        <input type="text" class="form-control" ng-model="invoice.obj.buyer.last_name" placeholder="" disabled>\n                                        <span class="input-group-btn">\n                                            <button type="button" class="btn btn-info btn-beside-input" ng-click="invoice.selectBuyer()"></button>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class="col-xs-6">\n                                    <label>*</label>\n                                    <div class="input-group">\n                                        <input type="text" class="form-control" ng-model="invoice.obj.seller.last_name" placeholder="" disabled>\n                                        <span class="input-group-btn">\n                                            <button type="button" class="btn btn-info btn-beside-input" ng-click="invoice.selectSeller()"></button>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class="clearfix"></div>\n\n                                <div class="col-xs-6">\n                                    <label>   () * </label>\n                                    <input type="number" min="0" step="1" class="form-control form-ltr" ng-model="invoice.obj.price">\n                                </div>\n                                <div class="col-xs-6">\n                                    <label> *</label>\n                                    <input type="number" min="0" step="1" class="form-control form-ltr" ng-model="invoice.obj.num_of_products">\n                                </div>\n                                <div class="clearfix"></div>\n                            </div>\n\n                            <hr>\n                            <div class="row">\n                                <div class="col-xs-6">\n                                    <span class="input-group-btn">\n                                        <button title="       " type="button" class="btn btn-info" ng-click="invoice.openProductModal()"> </button>\n                                        <button title="      " type="button" class="btn btn-info" ng-click="invoice.selectProduct()"> </button>\n                                    </span>\n                                </div>\n                            </div>\n                            <br>\n                            <table class="table table-striped asset-tables" ng-show="invoice.obj.products.length > 0">\n                                <colgroup>\n                                    <col span="1" style="width: 60%;">\n                                    <col span="1" style="width: 35%;">\n                                    <col span="1" style="width: 5%;">\n                                </colgroup>\n                                <thead>\n                                    <tr>\n                                        <th> </th>\n                                        <th> </th>\n                                        <th>  () </th>\n                                        <th></th>\n                                    </tr>\n                                </thead>\n                                <tbody ng-repeat = "product in invoice.obj.products">\n                                    <tr>\n                                        <td> {{product.model | lengthLimit:30}} </td>\n                                        <td> {{product.serial_number | lengthLimit:30}} </td>\n                                        <td>\n                                            <input placeholder=" " dir="ltr" type="number" step="1" min="0" class="longer-limited-width-col" name="productPrice" ng-model="product.price" required>\n                                        </td>\n                                        <td ng-if = "checkWrite(\'invoice\')">\n                                            <a ng-click="invoice.deselect($index)" href>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong></strong>\n                                            </a>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n\n                            <div ng-show="invoiceForm.productPrice.$invalid && invoice.obj.products.length > 0" style="text-align:right">\n                                <p class="text-danger">\n                                    -\n                                           \n                                </p>\n                            </div>\n\n                            <hr></hr>\n\n                            <div class="row">\n                                <div class="col-xs-4">\n                                    <label> *</label>\n                                </div>\n                                <div class="col-xs-6">\n                                    <div class="btn btn-info btn-sm" ngf-select="invoice.uploadPic()" ng-model="invoice.scannedFile" name="file" ngf-pattern="\'.jpg,.png,.jpeg,.png\'"\n                                            ngf-accept="\'image/*\'" ngf-max-size="2MB" ng-if="!invoice.obj.scanned_invoice && checkWrite(\'invoice\')" ng-hide="uploading" required> </div>\n\n                                    <button type="button" class="btn btn-sm btn-danger" ng-if="invoice.obj.scanned_invoice && checkWrite(\'invoice\')"\n                                            ng-click=" invoice.obj.scanned_invoice = null"> </button>\n                                    <div ng-show = "uploading">\n                                        <p ng-show = "uploading" style="text-align : center;">\n                                           \n                                        <i class="fa fa-refresh fa-spin fa-lg"></i>\n                                        </p>\n                                    </div>\n\n                                </div>\n\n                                <div class="col-xs-2">\n\n                                    <a href="{{uploadUrl + invoice.obj.scanned_invoice}}" data-lightbox=" " data-title=" ">\n                                       <img class="img-responsive img-thumbnail" ng-src="{{uploadUrl + invoice.obj.scanned_invoice}}" ng-if="invoice.obj.scanned_invoice">\n                                    </a>\n\n                                </div>\n                                <br/>\n                                <p ng-show="invoiceForm.file.$error.maxSize" class="input-error-p">       </p>\n                                <p ng-show="invoiceForm.file.$error.pattern" class="input-error-p">    </p>\n\n                            </div>\n\n                            <hr></hr>\n\n\n\n                            <div style="text-align:right" ng-hide = "invoiceForm.$valid && invoice.obj.products.length>0">\n                                <p>\n                                        *    .\n                                </p>\n                            </div>\n\n                            <div class="col-xs-12" style="text-align: center">\n                                \x3c!-- <ul>\n                                    <li ng-repeat="(key, errors) in invoiceForm.$error track by $index"> <strong>{{ key }}</strong> errors\n                                        <ul>\n                                        <li ng-repeat="e in errors">{{ e.$name }} has an error: <strong>{{ key }}</strong>.</li>\n                                        </ul>\n                                    </li>\n                                </ul> --\x3e\n                            </div>\n\n\n\n                        </div>\x3c!-- /.box-body --\x3e\n                    </fieldset>\n                </form>\n            </div>\x3c!-- /.x_content--\x3e\n            <div class="load-spinner" ng-show = "loadSide" style="text-align:center">\n              <i class="fa fa-spinner fa-pulse fa-3x" ></i>\n            </div>\n        </div>\x3c!-- /.x_panel--\x3e\n    </div>\n    \x3c!-- /edit and create column --\x3e\n\n</div>\n\n\x3c!-- Select Modal --\x3e\n<div class="modal fade" id="selectModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <div class="pull-left">\n                  <button type="button" class="btn btn-danger" data-dismiss="modal"></button>\n                </div>\n            </div>\x3c!-- /.modal-header --\x3e\n            <div class="modal-body">\n                <div class="box-body">\n                    <div class="row">\n                        <div class="col-md-12">\n                            \x3c!-- Stage 1 for buyer select --\x3e\n                            <div class="panel panel-info" ng-show="selectStage == 1">\n                                <div class="panel-heading">\n                                     \n                                    <div class="pull-left">\n                                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                                    </div>\n                                </div>\n                                <div class="panel-body">\n                                    <form name="selectBuyerForm" role="form" novalidate>\n                                      <div class="input-group">\n                                        <input type="text" class="form-control" name="searchText" ng-model="invoice.tmp.searchQuery"  placeholder="">\n                                        <span class="input-group-btn">\n                                          <button type="submit" ng-disabled = "selectBuyerForm.$invalid" class="btn btn-info btn-beside-input" ng-click="invoice.search(\'user\')"> </button>\n                                        </span>\n                                      </div>\n                                    </form>\n\n                                    <table class="table table-hover table-border" ng-hide = "invoice.tmp.searchResult == \'\' || loadSearch">\n                                        <tbody>\n                                          <tr>\n                                            <th></th>\n                                            <th></th>\n                                            <th> </th>\n                                            <th></th>\n                                          </tr>\n\n                                          <tr ng-repeat = "list in invoice.tmp.searchResult">\n                                            <td>{{$index+1}}</td>\n                                            <td>\n                                              {{list.first_name | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              {{list.last_name | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              <a ng-click="invoice.selectTarget(list, invoice.obj, \'buyer\', null, invoice.closeModal(\'select\'))" href>\n                                                <i class="fa fa-check-square-o fa-lg"></i>\n                                              </a>\n                                            </td>\n                                          </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\x3c!-- /.panel --\x3e\n                            \x3c!-- End of Stage 1 --\x3e\n\n                            \x3c!-- Stage 2 for seller select --\x3e\n                            <div class="panel panel-info" ng-show="selectStage == 2">\n                                <div class="panel-heading">\n                                     \n                                    <div class="pull-left">\n                                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                                    </div>\n                                </div>\n                                <div class="panel-body">\n                                    <form name="selectSellerForm" role="form" novalidate>\n                                      <div class="input-group">\n                                        <input type="text" class="form-control" name="searchText" ng-model="invoice.tmp.searchQuery"  placeholder="">\n                                        <span class="input-group-btn">\n                                          <button type="submit" ng-disabled = "selectSellerForm.$invalid" class="btn btn-info btn-beside-input" ng-click="invoice.search(\'seller\')"> </button>\n                                        </span>\n                                      </div>\n                                    </form>\n\n                                    <table class="table table-hover table-border" ng-hide = "invoice.tmp.searchResult == \'\' || loadSearch">\n                                        <tbody>\n                                          <tr>\n                                            <th></th>\n                                            <th></th>\n                                            <th> </th>\n                                            <th></th>\n                                          </tr>\n\n                                          <tr ng-repeat = "list in invoice.tmp.searchResult">\n                                            <td>{{$index+1}}</td>\n                                            <td>\n                                              {{list.first_name | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              {{list.last_name | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              <a ng-click="invoice.selectTarget(list, invoice.obj, \'seller\', null, invoice.closeModal(\'select\'))" href>\n                                                <i class="fa fa-check-square-o fa-lg"></i>\n                                              </a>\n                                            </td>\n                                          </tr>\n                                        </tbody>\n                                    </table>\n\n\n\n                                </div>\n                            </div>\x3c!-- /.panel --\x3e\n                            \x3c!-- End of Stage 2 --\x3e\n\n                            \x3c!-- Stage 3 for product select --\x3e\n                            <div class="panel panel-info" ng-show="selectStage == 3">\n                                <div class="panel-heading">\n                                     \n                                    <div class="pull-left">\n                                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                                    </div>\n                                </div>\n                                <div class="panel-body">\n                                    <div class="row" ng-show="invoice.obj.products.length>0">\n                                        <ul class="remove-box">\n                                            <li ng-repeat="item in invoice.obj.products track by item.id">\n                                                <span ng-click="invoice.deselect($index)"></span>\n                                                {{item.model | limitTo : 10}}\n                                            </li>\n                                        </ul>\n                                        <hr/>\n                                    </div>\n\n                                    <form name="selectProductForm" role="form" novalidate>\n                                      <div class="input-group">\n                                        <input type="text" class="form-control" name="searchText" placeholder="" ng-model="invoice.tmp.searchQuery" >\n                                        <span class="input-group-btn">\n                                          <button type="submit" ng-disabled = "selectProductForm.$invalid" class="btn btn-info btn-beside-input" ng-click="invoice.search(\'product\',\'?use_case=0\')"> </button>\n                                        </span>\n                                      </div>\n                                    </form>\n\n\n                                    <table class="table table-hover table-border" ng-hide = "invoice.tmp.searchResult == \'\' || loadSearch">\n                                        <tbody>\n                                          <tr>\n                                            <th></th>\n                                            <th> </th>\n                                            <th> </th>\n                                            <th></th>\n                                          </tr>\n\n                                          <tr  ng-repeat = "list in invoice.tmp.searchResult">\n                                            <td >{{$index+1}}</td>\n                                            <td>\n                                              {{list.model | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              {{list.serial_number | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              <a ng-show="invoice.checkDuplicate(list, invoice.obj.products)" ng-click="invoice.pushProduct(list)" href>\n                                                <i class="fa fa-check-square-o fa-lg"></i>\n                                              </a>\n                                                <i ng-hide="invoice.checkDuplicate(list, invoice.obj.products)"></i>\n                                            </td>\n                                          </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n\n                            </div>\x3c!-- /.panel --\x3e\n                            \x3c!-- End of Stage 3 --\x3e\n\n                        </div>\n                    </div>\n                </div>\x3c!-- /.box-body --\x3e\n            </div>\x3c!-- /.modal-body --\x3e\n            <div class="modal-footer">\n            </div>\x3c!-- /.modal-footer --\x3e\n        </div>\x3c!-- /.modal-content --\x3e\n    </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n\n\n<delete-modal controller = "invoice"></delete-modal>\n\n<creat-product controller = "invoice"></creat-product>'),$templateCache.put("/dist/templates/mywarehouse.html",'<div class="row">\n  <div class="col-md-12 mywarehouse-box">\n    <div class="x_panel">\n      <div class="row x_title">\n        <div class="col-md-6 ">\n          <h2 ng-show="mywarehouse.pageType==0"><i class="fa fa-flag"></i>  </h2>\n          <h2 ng-show="mywarehouse.pageType==1"><i class="fa fa-building"></i>  </h2>\n          <h2 ng-show="mywarehouse.pageType==2"><i class="fa fa-building"></i>  </h2>                    \n        </div>\n        <div class="col-md-2"></div>\n        <div class="col-md-4">\n          <div class="input-group pull-left select-warehouse" ng-show="assetData.clearance_level > 1 && mywarehouse.pageType!=0">\n            <input title="   " type="text" class="form-control" ng-model="mywarehouse.warehouse.title" readonly>\n            <span class="input-group-btn">\n              <button type="button" class="btn btn-primary btn-beside-input" ng-hide="mywarehouse.warehouse.title" ng-click="mywarehouse.selectWareHouseModal()"> </button>\n              <button type="button" class="btn btn-danger btn-beside-input" ng-show="mywarehouse.warehouse.title" ng-click="mywarehouse.deleteWarehouse()"> </button>\n            </span>\n          </div>\n        </div>\n        \n        \n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <div class="" id=\'myTabs\' role="tabpanel" data-example-id="myTabs" ng-if="mywarehouse.warehouse">\n          <ul id="myTab" class="nav nav-tabs bar_tabs mywarehouse-tab" role="tablist">\n            <li id="tab0" role="presentation">\n              <a href ng-click="tabStage = 0"></a>\n            </li>\n            <li id="tab1" role="presentation">\n              <a href ng-click="tabStage = 1"> </a>\n            </li>\n            <li id="tab2" role="presentation">\n              <a href ng-click="tabStage = 2"> </a>\n            </li>\n            <li id="tab3" role="presentation">\n              <a href ng-click="tabStage = 3"> </a>\n            </li>\n            <li id="tab4" role="presentation">\n              <a href ng-click="tabStage = 4"></a>\n            </li>\n          </ul>\n          <div class="tab-content mywarehouse-tab-content">\n\n            <div ng-if="tabStage == 0">\n              <div class="row">\n                <div class="col-xs-8 col-xs-offset-2" ng-show="mywarehouse.warehouse">\n                  <div class="x_panel">\n                      <div class="x_title">\n                        <h2>\n                           \n                        </h2>\n                        <export-file exptype="warehouse" id="mywarehouse.warehouse.id"></export-file>\n                        <div class="clearfix"></div>\n                      </div>\n                \n                      <div class="x_content">\n                          <div class="warehouse-content row">\n                            <div class="col-md-6">\n                              <label>\n                                  :\n                              </label>\n                              {{mywarehouse.warehouse.title}}\n                              <span class="label label-info" ng-if="!mywarehouse.warehouse.parent_warehouse"> </span>\n                            </div>\n                            <div class="col-md-6">\n                              <label>\n                                 :\n                              </label>\n                              {{mywarehouse.warehouse.clerk | clerkFilter}}\n                            </div>\n                            <div class="clearfix"></div>\n                    \n                              <div class="col-md-6">\n                              <label>\n                                  :\n                              </label>\n                              <label style="direction:ltr">\n                                {{mywarehouse.warehouse.phone | pNumber}}\n                              </label>\n                            </div>\n                            <div class="col-md-6">\n                              <label>\n                                 :\n                              </label>\n                              {{mywarehouse.warehouse.location}}\n                            </div>\n                            <div class="clearfix"></div>\n                          </div>\n                      </div>\n                    </div>\n                </div>\n              </div>\n            </div>\n\n            <div ng-if="tabStage == 1">\n              <div ng-controller="ticketCtrl as ticket">\n                <ng-include src="\'../dist/templates/ticket.html\'">\n                </ng-include>\n              </div>\n            </div>\n\n            <div ng-if="tabStage == 2">\n              <div ng-controller="transactionCtrl as transaction">\n                <ng-include src="\'../dist/templates/transaction.html\'">\n                </ng-include>\n              </div>\n            </div>\n\n            <div ng-if="tabStage == 3">\n              <div ng-controller="productCtrl as product">\n                <ng-include src="\'../dist/templates/product.html\'">\n                </ng-include>\n              </div>\n            </div>\n\n            <div ng-if="tabStage == 4">\n              <div ng-controller="userCtrl as user">\n                <ng-include src="\'../dist/templates/user.html\'">\n                </ng-include>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div ng-hide="mywarehouse.warehouse">\n          <h3 style="text-align:center;" class="text-info">\n                     \n          </h3>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div class="clearfix"></div>\n\n  \x3c!--  --\x3e\n</div>\n\n</div>\n\n\x3c!-- Warehouse Modal --\x3e\n<div class="modal fade" id="warehouseModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <div class="pull-left">\n          <button type="button" class="btn btn-danger" data-dismiss="modal"></button>\n        </div>\n        <h4 class="modal-title" id="myModalLabel" ng-hide = "editMode"> </h4>\n      </div>\n      <div class="modal-body">\n\n        <div class="row">\n          <div class="col-md-12">\n            <div class="panel panel-info">\n              <div class="panel-heading">\n                \n                <div class="pull-left">\n                  <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                </div>\n              </div>\n              <div class="panel-body">\n                <form name="searchForm" role="form" novalidate ng-submit="searchForm.$valid && mywarehouse.search(\'warehouse\');">\n                      <div class="input-group">\n                        <input title="    " type="text" class="form-control" placeholder="" name="searchText" ng-model="mywarehouse.tmp.searchQuery">\n                        <span class="input-group-btn">\n                          <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input">\n                            \n                          </button>\n                        </span>\n                      </div>\n                  </form>\n                  <table class="table table-hover table-border" ng-hide = "!mywarehouse.tmp.searchResult || loadSearch">\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>\n                           \n                        </th>\n                        <th>\n                          \n                        </th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr ng-repeat = "list in mywarehouse.tmp.searchResult | filterObjById:mywarehouse.warehouseFilter">\n                        <td>\n                          {{ $index + 1 }}\n                        </td>\n                        <td>\n                          {{list.title | lengthLimit:20}}\n                          <span class="label label-info" ng-if="!list.parent_warehouse"> </span>\n                        </td>\n                        <td>{{list.location | lengthLimit:20}}</td>\n                        <td>\n                          <a title=" " ng-click="mywarehouse.selectWarehouse(list)" href>\n                            <i class="fa fa-check-square-o fa-lg"></i>\n                          </a>\n                        </td>\n                      </tr>\n                    </tbody>\n                </table>\n              </div>\n            </div>\n          \x3c!-- /.box-body --\x3e\n          </div>\n        </div>\n\n      </div>\n      <div class="modal-footer">\n      </div>\n    </div>\n  </div>\n</div>'),$templateCache.put("/dist/templates/notification.html",'<div class="row">\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa fa-envelop"></i>  </h2>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th style="width:10%">#</th>\n              <th style="width:20%"></th>\n              <th style="width:70%"> </th>\n            </tr>\n          </thead>\n          <tbody ng-hide = "load">\n            <tr ng-repeat = "list in notification.note">\n              <td style="width:10%">{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td style="width:20%">{{list.title}}</td>\n              <td style="width:70%" id="{{\'notif-\'+$index}}"></td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="notification"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>'),$templateCache.put("/dist/templates/producer.html",'<div class="row">\n  <search-tools sobject="producer.searchObject" scontroller="producer"></search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'producer\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n            \n        </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th> </th>\n              <th></th>\n              <th ng-if = "checkWrite(\'producer\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in producer.note">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>{{list.brand_name | lengthLimit:30}}</td>\n              <td>\n                <a  title="" ng-click="producer.getObject(list.id)" href>\n                  <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'producer\') , \'fa-eye\' : !checkWrite(\'producer\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td ng-if = "checkWrite(\'producer\')">\n                <a title="" ng-click="producer.toDeleteId = list.id; producer.toDeleteTitle = list.brand_name" data-toggle="modal" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="producer" ></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- producer Modal --\x3e\n<div class="modal fade" id="producerModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-if = "checkWrite(\'producer\')" ng-disabled="!producerForm.$valid" ng-click="producer.sendOrEdit(editMode)" class="btn btn-success"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n        <form name="producerForm" role="form" ng-hide="loadModal" novalidate ng-submit="producerForm.$valid && producer.sendOrEdit(editMode)">\n          <fieldset ng-disabled ="!checkWrite(\'producer\')">\n            <div class="box-body">\n              <div class="form-group" ng-class="{\'has-success\' : producerForm.brandname.$valid && producer.obj.brand_name}">\n                <label> *</label>\n                <input type="text" class="form-control" name="brandname" placeholder=" " ng-model = "producer.obj.brand_name" required>\n              </div>\n            </div>\n          </fieldset>\n      </form>\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "producer"></delete-modal>'),$templateCache.put("/dist/templates/product.html",'<div class="row">\n  <search-tools sobject="product.searchObject" scontroller="product">\n    <select class="form-control filter-option" ng-model="product.addOne.extra.product_filter" title=" ">\n      <option value="">--   --</option>\n      <option value="6"> </option>\n      <option value="3">  </option>\n      <option value="4">  (   )</option>\n    </select>\n    <select class="form-control filter-option" ng-model="product.addOne.extra.is_out_of_system" title=" ">\n      <option value=""></option>\n      <option value="False"> </option>\n      <option value="True">  </option>\n    </select>\n    <div id="report-field" style="display:none" class="report-field">\n      \n      <div title=" " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder=" " ng-model="product.addOne.reportFields.group.title" ng-click="product.openSelectionModal(0,\'group\',\'group_type=group\')" readonly>\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="product.addOne.reportFields.group"\n            ng-click="product.deleteKey(product.addOne.reportFields,\'group\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / group filter --\x3e\n      \n      <div title="  " class="input-group report-field-option">\n        <input type="text" class="form-control dropdown-toggle" placeholder="  " data-toggle="dropdown" aria-expanded="false" ng-model="product.addOne.reportFields.holder.last_name" ng-click="product.openSelectionModal(1,\'user\',\'\')" readonly>\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="product.addOne.reportFields.holder"\n            ng-click="product.deleteKey(product.addOne.reportFields,\'holder\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / holder filter --\x3e\n      \n      <div title="  " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder="  " ng-model="product.addOne.reportFields.producer.brand_name" readonly ng-click="product.openSelectionModal(2,\'producer\',\'\')">\n        <span class="input-group-btn">\n        <button type="button" class="btn btn-danger btn-beside-input" ng-show="product.addOne.reportFields.producer"\n          ng-click="product.deleteKey(product.addOne.reportFields,\'producer\')">\n          <i class="fa fa-remove"></i>\n        </button>\n        </span>\n      </div>\x3c!-- / producer filter --\x3e\n\n      <div title=" " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder=" " ng-model="product.addOne.reportFields.seller.last_name" readonly ng-click="product.openSelectionModal(3,\'seller\',\'\')">\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="product.addOne.reportFields.seller"\n          ng-click="product.deleteKey(product.addOne.reportFields,\'seller\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / seller filter --\x3e\n  \n      <div title="  " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder="  " ng-model="product.addOne.reportFields.guarantor.company_name" readonly ng-click="product.openSelectionModal(4,\'guarantor\',\'\')">\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="product.addOne.reportFields.guarantor"        ng-click="product.deleteKey(product.addOne.reportFields,\'guarantor\')">\n            <i class="fa fa-remove"></i>  \n          </button>\n        </span>\n      </div>\x3c!-- / guarantor filter --\x3e\n      \n      <div title="      " class="input-group report-field-option">\n          <adm-dtp inputplaceholder="     " ng-model="product.addOne.reportFields.return_datetime__gte" title="     " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'>\n          </adm-dtp>\n      </div>\x3c!-- / return_datetime__gte filter --\x3e\n      \n      <div title="      " class="input-group report-field-option">\n          <adm-dtp inputplaceholder="     " ng-model="product.addOne.reportFields.return_datetime__lte" title="     " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'>\n          </adm-dtp>\n      </div>\x3c!-- / return_datetime__lte filter --\x3e\n       \n      <div title="     " class="checkbox checkbox-report-field">\n        <label for="requested-repair">\n            <input class="checkbox" ng-model="product.addOne.reportFields.requested_for_repair" id="requested-repair" type="checkbox">\n               \n          </label>\n      </div>\x3c!-- / requested_for_repair filter --\x3e\n\n      <div hidden></div>\x3c!-- preventing bootstrap style when checkboxes come after each other  --\x3e\n\n      <div title="   " class="checkbox checkbox-report-field">\n        <label for="deprecated-filter" >\n            <input class="checkbox" id="deprecated-filter" type="checkbox" ng-model="product.addOne.reportFields.deprecated">\n             \n          </label>\n      </div>\x3c!-- / deprecated filter --\x3e\n\n    </div>\n  </search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2>\n          <i class="fa fa-cubes"></i> \n          <small ng-if="meta.total && !load">\n            ( : {{meta.total | pNumber}})\n          </small>\n\n          <small ng-if="total_price && !load">\n              ( : {{total_price | currency:\'\':0 | productPrice | pNumber}}\n              {{ "" + " " }}\n              )\n          </small>\n        </h2>        \n        <button type="button" ng-if = "checkWrite(\'product\')" class="btn btn-success btn-sm pull-left" ng-click="openModal(\'#productModal\')" name="button">\n           \n        </button>\n        <export-file exptype="product_list"></export-file>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th> </th>\n              <th> </th>\n              <th>  () </th>\n              <th> </th>\n              <th> </th>\n              <th></th>\n              <th></th>\n              <th ng-if = "checkWrite(\'product\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide = "load">\n            <tr ng-repeat = "list in product.note">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>{{list.name | lengthLimit:30}}</td>              \n              <td>{{list.model | lengthLimit:30}}</td>\n              <td dir="ltr">\n                {{list.price | currency:\'\':0 | productPrice | pNumber | lengthLimit:15}}\n              </td>\n              <td>{{list.production_date | jalaliDate | pNumber}}</td>\n              <td>{{list.guarantee_end_date | jalaliDate | pNumber}}</td>\n              <td >\n                <a title="" ng-click="product.getObject(list.id)" href>\n                  <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'product\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td >\n                <a title=" " ng-click="product.openProductModal(list)" href>\n                  <i class="fa fa-lg fa-info-circle" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td ng-if = "checkWrite(\'product\')">\n                <a  title="" ng-click="product.toDeleteId = list.id; product.toDeleteTitle = list.model" data-toggle="modal" ng-if="assetData.id !== list.id" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="product" config="product.paginationConfig"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n<creat-product controller = "product"></creat-product>\n\n<product-stat controller = "product"></product-stat>\n\n<delete-modal controller = "product"></delete-modal>\n\n\n\x3c!-- Select Modal --\x3e\n<div class="modal fade" id="selectModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        \x3c!-- <h3 class="modal-title"> </h3> --\x3e\n      </div>\n\n      <div class="modal-body">\n\n        \x3c!-- stage 0 for group selection --\x3e\n        <div class="row" ng-show="stage == 0">\n              <div class="col-md-12">\n                <div class="panel panel-info">\n                  <div class="panel-heading">\n                     \n                    <div class="pull-left">\n                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                    </div>\n                  </div>\n                  <div class="panel-body">\n                    <form name="searchForm" role="form" novalidate>\n                          <div class="input-group">\n                            <input type="text" class="form-control" placeholder="" name="searchText" ng-model="product.tmp.searchQuery">\n                            <span class="input-group-btn">\n                              <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="product.search(\'group\'); product.tmp.searchD = true">\n                                \n                              </button>\n                            </span>\n                          </div>\n                      </form>\n                      <table class="table table-hover table-border" ng-hide = "product.tmp.searchResult == \'\' || loadSearch">\n                        <colgroup>\n                          <col span="1" style="width: 5%;">\n                          <col span="1" style="width: 5%;">\n                          <col span="1" style="width: 25%;">\n                          <col span="1" style="width: 45%;">\n                          <col span="1" style="width: 20%;">\n                        </colgroup>\n                        <thead>\n                          <tr>\n                            <th ng-if="!product.tmp.searchD"></th>\n                            <th></th>\n                            <th>\n                              \n                            </th>\n                            <th>\n                              \n                            </th>\n                            <th></th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          <tr ng-repeat-start = "list in product.tmp.searchResult">\n                            <td style="text-align : right" ng-if="!product.tmp.searchD">\n                              <button class="colaps-btn" type="button" data-toggle="collapse" data-target="#coll{{$index}}" aria-expanded="false" aria-controls="collapseExample"\n                              ng-click="collaps[$index] = !collaps[$index]" ng-if="list.children" >\n                                <i class="fa fa-lg" ng-class = "{\'fa-plus-square\':!collaps[$index] , \'fa-minus-square\' : collaps[$index]}"></i>\n                              </button>\n                            </td>\n                            <td>\n                              {{ $index + 1 }}\n                            </td>\n                            <td>{{list.title | lengthLimit:30}}</td>\n                            <td>{{list.description | lengthLimit:30}}</td>\n                            <td>\n                              <a ng-click="product.selectReportOption(list.id, list.title, \'title\', \'group\', product.addOne.reportFields); loadMeta(list.id)" href> \n                                <i class="fa fa-check-square-o fa-lg"></i>\n                              </a>\n                            </td>\n                          </tr>\n                          <tr ng-hide="product.tmp.searchD" ng-repeat-end class="collapse" id="coll{{$index}}">\n                            <td colspan="6" style="padding:0px;">\n                              <table class="table">\n                                <colgroup>\n                                  <col span="1" style="width: 5%;">\n                                  <col span="1" style="width: 5%;">\n                                  <col span="1" style="width: 25%;">\n                                  <col span="1" style="width: 45%;">\n                                  <col span="1" style="width: 20%;">\n                                </colgroup>\n                                <tbody>\n                                  <tr ng-repeat="chd in list.children" class="group-chd">\n                                    <td style="text-align : right">\n                                      <i class = "fa fa-lg fa-level-down fa-rotate-90"></i>\n                                    </td>\n                                    <td class="chd-td">\n                                      {{$index+1}}-{{$parent.$index+1}}\n                                    </td>\n                                    <td>{{chd.title | lengthLimit:30}}</td>\n                                    <td>{{chd.description | lengthLimit:30}}</td>\n                                    <td>\n                                      <a ng-click="product.selectReportOption(chd.id, chd.title, \'title\', \'group\', product.addOne.reportFields); loadMeta(chd.id)" href>\n                                        <i class="fa fa-check-square-o fa-lg"></i>\n                                      </a>\n                                    </td>\n                                  </tr>\n                                </tbody>\n                              </table>\n                            </td>\n                          </tr>\n                        </tbody>\n                    </table>\n                  </div>\n                </div>\n              \x3c!-- /.box-body --\x3e\n              </div>\n        </div>\n        \x3c!-- end of Stage 0 --\x3e\n\n        \x3c!-- stage = 1 for holder type user selection --\x3e\n        <search-stage ng-show = "stage == 1" obj="product.selectUserHolderObj" controller = "product" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n        \n        \x3c!-- stage = 2 for producer selection --\x3e\n        <search-stage ng-show = "stage == 2" obj="product.selectProducerObj" controller = "product" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 3 for seller selection --\x3e\n        <search-stage ng-show = "stage == 3" obj="product.selectSellerObj" controller = "product" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 4 for gaurantor selection --\x3e\n        <search-stage ng-show = "stage == 4" obj="product.selectGuarantorObj" controller = "product" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \n      </div>\n      <div class="modal-footer">\n      </div>\x3c!-- /.modal-footer --\x3e\n    </div>\n  </div>\n</div>\n'),$templateCache.put("/dist/templates/seller.html",'<div class="row">\n <search-tools sobject="seller.searchObject" scontroller="seller"></search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'seller\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n           \n        </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th></th>\n              <th> </th>\n              <th> </th>\n              <th> </th>\n              <th>  </th>\n              <th></th>\n              <th ng-if = "checkWrite(\'seller\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in seller.note">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>{{list.first_name | lengthLimit:30}}</td>\n              <td>{{list.last_name | lengthLimit:30}}</td>\n              <td>{{list.store_name | lengthLimit:30}}</td>\n              <td style="direction:ltr;">{{list.cellphone | pNumber}}</td>\n              <td style="direction:ltr;">{{list.phone | pNumber}}</td>\n              <td>\n                <a title="" ng-click="seller.getObject(list.id)" href>\n                  <i class="fa fa-lg"  ng-class = "{\'fa-pencil-square-o\':checkWrite(\'seller\') , \'fa-eye\' : !checkWrite(\'seller\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td title="" ng-if = "checkWrite(\'seller\')">\n                <a ng-click="seller.toDeleteId = list.id; seller.toDeleteTitle = list.store_name" data-toggle="modal" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="seller"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Seller Modal --\x3e\n<div class="modal fade" id="sellerModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-if = "checkWrite(\'seller\')" ng-disabled="!sellerForm.$valid" ng-click="seller.sendOrEdit(editMode)" class="btn btn-success"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n        <form name="sellerForm" role="form" ng-hide="loadModal" novalidate ng-submit="sellerForm.$valid && seller.sendOrEdit(editMode)">\n          <button type="submit" hidden></button>\n          <fieldset ng-disabled ="!checkWrite(\'seller\')">\n            <div class="box-body">\n              <div class="form-group" ng-class="{\'has-success\' : sellerForm.name.$valid && seller.obj.first_name}">\n                <label>*</label>\n                <input type="text" class="form-control" name="name" placeholder="" ng-model = "seller.obj.first_name" required>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : sellerForm.lastname.$valid && seller.obj.last_name}">\n                <label> *</label>\n                <input type="text" class="form-control" placeholder=" " name="lastname" ng-model = "seller.obj.last_name" required>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : sellerForm.storename.$valid && seller.obj.store_name}">\n                <label> *</label>\n                <input type="text" class="form-control" placeholder=" " name="storename" ng-model = "seller.obj.store_name" required>\n              </div>\n              <div class="form-group" ng-class=" {\'has-error\' : sellerForm.phone.$invalid && seller.obj.phone,\n                \'has-success\' : sellerForm.phone.$valid && seller.obj.phone } ">\n                <label> *</label>\n                <input type="text" class="form-control ltr-input" placeholder=" " name="phone" ng-model = "seller.obj.phone"\n                ng-pattern = "/^[0-9-+]+$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }" required>\n                <p ng-show="sellerForm.phone.$error.maxlength" class="input-error-p">    </p>\n                <p ng-show="sellerForm.phone.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n              </div>\n              <div class="form-group" ng-class=" {\'has-error\' : sellerForm.cellphone.$invalid && seller.obj.cellphone,\n                \'has-success\' : sellerForm.cellphone.$valid && seller.obj.cellphone } ">\n                <label> *</label>\n                <input type="text" class="form-control ltr-input" name="cellphone" placeholder=" " ng-model = "seller.obj.cellphone"\n                ng-pattern = "/^[0-9-+]+$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }" required>\n                <p ng-show="sellerForm.cellphone.$error.maxlength" class="input-error-p">    </p>\n                <p ng-show="sellerForm.cellphone.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : sellerForm.address.$valid && seller.obj.address}">\n                <label>*</label>\n                <textarea class="form-control" placeholder="" name="address" ng-model="seller.obj.address" rows="3" required></textarea>\n              </div>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "seller"></delete-modal>'),$templateCache.put("/dist/templates/ticket.html",'<div class="row" esc-event="reset()">\n  <search-tools sobject="ticket.searchObject" scontroller="ticket">    \n    <select class="form-control filter-option" ng-model="ticket.addOne.extra.reason" title=" ">\n      <option value="">--   --</option>\n      <option value="1"></option>\n      <option value="2"></option>\n      <option value="3"></option>\n      <option value="0"></option>\n    </select>\n\n    <select class="form-control filter-option" id="ticket_type_report_field" ng-model="ticket.addOne.extra.ticket_type" title=" ">\n      <option value="">--   --</option>\n      <option value="1"></option>\n      <option value="2"></option>\n      <option value="3"></option>\n      <option value="0"></option>\n    </select>\n    <div class="sort-option-edited filter-option">\n      <adm-dtp inputplaceholder="  " ng-model="ticket.addOne.extra.datetime__gte" title="  " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'></adm-dtp>\n    </div>\n    <div class="sort-option-edited filter-option">\n      <adm-dtp inputplaceholder="  " ng-model="ticket.addOne.extra.datetime__lte" title="  " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'></adm-dtp>\n    </div>\n\n    <div id="report-field" style="display:none" class="report-field" >\n      <label class="report-label" ng-if="ticket.centralWarehouse">     :</label>\n      <div ng-if="ticket.centralWarehouse" title="    " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder="  " ng-model="ticket.addOne.reportFields.from_warehouse.title" readonly ng-click="ticket.openSelectionModal(2,\'warehouse\',\'\')">\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="ticket.addOne.reportFields.from_warehouse"\n            ng-click="ticket.clearPurchaseReport()">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / from_warehouse filter --\x3e\n\n      <div title="  " class="input-group report-field-option">\n        <select class="form-control" ng-model="ticket.addOne.reportFields.status" title=" ">\n          <option value="">--   --</option>\n          <option value="0"> </option>\n          <option value="1">  </option>\n          <option value="2" id="ticket_status_finished"> </option>\n        </select>\n      </div>\x3c!-- / ticket status filter --\x3e\n\n    </div>        \n  </search-tools>\n  <div ng-class = "{\'col-xs-12\':!ticket.tmp.formShow , \'col-xs-6\' : ticket.tmp.formShow}">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'ticket\')" class="btn btn-success pull-left btn-sm" name="button" ng-click="ticket.setNewTicketForm()">\n           \n        </button>\n        <export-file exptype="ticket_list"></export-file>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead class="obj-default-border">\n            <tr>\n              <th>#</th>\n              <th></th>\n              <th ng-hide="ticket.tmp.formShow"></th>\n              <th ng-hide="ticket.tmp.formShow"> </th>\n              <th ng-hide="ticket.tmp.formShow"> </th>\n              <th> </th>\n              <th ng-hide="ticket.tmp.formShow"></th>\n              <th></th>\n              <th ng-if = "checkWrite(\'ticket\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in ticket.note" ng-class="{\'info\':list.id==ticket.obj.id,\n            \'obj-info-border\':list.status==2,\'obj-success-border\':list.status==1,\'obj-warning-border\':list.status==0}">\n              <td>{{ (page-1)*10 + $index + 1 | pNumber}}</td>\n              <td>\n                {{list.title | lengthLimit:30}}\n                <span ng-if="list.sender_unread_count>0 && currentUser.warehouse_under_management" ng-show="list.from_warehouse.id == currentUser.warehouse_under_management.id" class="badge bg-green" title="    "> \n                  {{list.sender_unread_count | pNumber}} </span>\n                \n                <span ng-if="list.receiver_unread_count>0 && currentUser.warehouse_under_management" ng-show="list.to_warehouse.id == currentUser.warehouse_under_management.id" class="badge bg-green" title="    "> \n                    {{list.receiver_unread_count | pNumber}} </span>\n                    \n              </td>\n              <td ng-hide="ticket.tmp.formShow">{{list.description | lengthLimit:30}}</td>\n              <td ng-hide="ticket.tmp.formShow">{{list.ticket_type | ticketType}}</td>\n              <td ng-hide="ticket.tmp.formShow">{{list.reason | ticketReason}}</td>\n              <td>{{ list.datetime | jalaliDate}}</td>\n              <td ng-hide="ticket.tmp.formShow" >\n                <span disabled class="label" ng-class="{\'label-info\':list.status==2,\'label-success\':list.status==1,\n                \'label-warning\':list.status==0}">{{list.status | ticketStatus}}</span>\n                </td>\n              <td></td>\n              <td title=" ">\n                <a ng-click="ticket.readTicket(list.id,$index,this)" href>\n                  <i class="fa fa-lg fa-eye" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="ticket" config="ticket.paginationConfig"></req-pagination>\n      </div>\n    </div>\n  </div>\n\n  <div class="col-xs-6" ng-hide="!ticket.tmp.formShow">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2  ng-hide="editMode"><i class="fa"></i>  </h2>\n        <h2  ng-show="editMode"><i class="fa"></i>   </h2>\n        <div class="pull-left">\n          <button type="button" ng-if = "checkWrite(\'ticket\')" ng-show = "!editMode" ng-disabled="!ticketForm.$valid" ng-click="ticket.createTicket(editMode)" class="btn btn-success btn-sm"></button>\n          <button type="button" class="btn btn-danger btn-sm"  ng-click="reset()"></button>\n        </div>\n        <div class="pull-left single-export" ng-show="editMode">\n          <export-file exptype="ticket" id="ticket.obj.id"></export-file>\n        </div>\n        <div class="clearfix"></div>\n      </div>\x3c!-- /.X_title --\x3e\n      <div class="x_content" ng-hide="loadSide">\n\n        <div>\n          <form name="ticketForm" role="form" ng-hide="loadModal" novalidate ng-submit="ticketForm.$valid && ticket.createTicket(editMode)">\n            <button hidden type="submit"></button>\n            <div class="row">\n              <fieldset ng-disabled ="!checkWrite(\'ticket\')">\n                <div class="col-sm-6">\n                  <div class="form-group">\n                    <label ng-show="!editMode"> * </label>\n                    <label ng-show="editMode"></label>\n                    <input type="text" class="form-control" ng-model="ticket.obj.title" required ng-hide="editMode">\n                    <p ng-show="editMode"> {{ticket.obj.title | lengthLimit:20}} </p>\n                  </div>\n                </div>\n                <div class="col-sm-6" ng-show="!editMode">\n                  <div class="form-group" >\n                    <label></label>\n                    <div class="input-group" ng-hide="editMode">\n                      <input type="text" class="form-control" ng-model="ticket.obj.product.model" disabled>\n                      <span class="input-group-btn">\n                        <button type="button" ng-disabled="!checkWrite(\'ticket\') || editMode" class="btn btn-info btn-beside-input" ng-hide="ticket.obj.product && ticket.obj.product!=\'\'" ng-click="ticket.openSelectionModal(0,\'product\',\'\')"></button>\n                        <button class="btn btn-danger btn-beside-input" type="button"\n                        ng-show="ticket.obj.product && ticket.obj.product!=\'\'" \n                        ng-click="ticket.deleteKey(ticket.obj,\'product\')"> \n                            </button>\n                      </span>\n                    </div>\n\n                  </div>\n\n                </div>\n                <div class="col-sm-6" ng-show="editMode && ticket.obj.product">\n                  <label></label>\n                  <p> \n                    {{ticket.obj.product.model | lengthLimit:20}} \n                    ({{ticket.obj.product.serial_number | lengthLimit:20}}) </p>\n                </div>\n\n                <div class="clearfix"></div>\n                \x3c!--\n                  date and status only in editMode\n                  use ticketStatus filter for show  status\n                 --\x3e\n                <div class="col-xs-6" ng-show="editMode" >\n                  <label> </label>\n                  <p> {{ticket.obj.datetime | jalaliDate}} </p>\n                </div>\n                <div class="col-xs-3" ng-show="editMode">\n                  <label></label>\n                  <p> {{ticket.obj.status | ticketStatus}} </p>\n                </div>\n                <div class="pull-left button-padding" ng-show="editMode">\n                  <button title="      " type="button" class="btn btn-success btn-sm" ng-click="ticket.changeStatus(1)" \n                  ng-show="ticket.obj.status == 0 && !loadStatus">\n                     \n                  </button>\n                  <button title="     " type="button" class="btn btn-warning btn-sm" ng-click="ticket.changeStatus(2)" \n                  ng-show="ticket.obj.status == 1 && !loadStatus">\n                    \n                  </button>\n                  <i ng-show="loadStatus" class="fa fa-spinner fa-pulse fa-2x" ></i>\n                </div>\n                <div class="clearfix"></div>\n\n                <div class="col-sm-6">\n                  <div class="form-group">\n                    <label ng-hide="editMode"> *</label>\n                    <label ng-show="editMode"> </label>\n                    <select class="form-control" ng-model="ticket.obj.reason" title=" " required \n                    ng-hide="editMode">\n                      <option value="1"></option>\n                      <option value="2"></option>\n                      <option value="3"></option>\n                      <option value="0"></option>\n                    </select>\n                    <p ng-show="editMode"> {{ticket.obj.reason | ticketReason}} </p>\n                  </div>\n                </div>\n\n                <div class="col-sm-6">\n                  <div class="form-group">\n                    <label ng-hide="editMode"> *</label>\n                    <label ng-show="editMode"> </label>\n\n                    <select class="form-control" ng-model="ticket.obj.ticket_type" title=" " required\n                    ng-hide="editMode">\n                      <option value="1"></option>\n                      <option value="2"></option>\n                      <option value="3"></option>\n                      <option value="0"></option>\n                    </select>\n                    <p ng-show="editMode"> {{ticket.obj.ticket_type | ticketType}} </p>\n                  </div>\n                </div>\n                <div class="clearfix"></div>\n\n                \x3c!--\n                  warehouse_id is forbidden when source is normal warehouse\n                 --\x3e\n                <div class="col-sm-6" ng-show="editMode">\n                  <div class="form-group">\n                    <label> </label>\n                    <p> {{ticket.obj.from_warehouse.title | lengthLimit:30}} </p>\n                  </div>\n                </div>\n              \n                <div class="col-sm-6">\n                  <div class="form-group" ng-show="ticket.allowedSource || editMode">\n                    <label ng-hide="editMode"> *</label>\n                    <label ng-show="editMode"> </label>\n                    <div class="input-group" ng-hide="editMode">\n                      <input type="text" class="form-control" ng-model="ticket.obj.to_warehouse.title" disabled\n                      ng-required="ticket.allowedSource">\n                      <span class="input-group-btn">\n                        <button type="button" class="btn btn-info btn-beside-input"\n                        ng-disabled="editMode || !checkWrite(\'ticket\') || !ticket.allowedSource"  \n                        ng-hide="ticket.obj.to_warehouse && ticket.obj.to_warehouse!=\'\'" \n                        ng-click="ticket.openSelectionModal(1,\'warehouse\',\'\')">\n                          </button>\n                        <button class="btn btn-danger btn-beside-input" type="button"\n                        ng-show="ticket.obj.to_warehouse && ticket.obj.to_warehouse!=\'\'" \n                        ng-click="ticket.deleteKey(ticket.obj,\'to_warehouse\')"> \n                          </button>\n                      </span>\n                    </div>\n                    <p ng-show="editMode"> {{ticket.obj.to_warehouse.title | lengthLimit:30}} </p>\n                  </div>\n                </div>\n\n                <div class="clearfix"></div>\n              \n                <div class="col-xs-12">\n                  <div class="form-group">\n                    <label ng-hide="editMode"> *</label>\n                    <label ng-show="editMode"> </label>\n\n                    <div>\n                      <textarea class="form-control" style="resize:none" rows="3" ng-model="ticket.obj.description" required ng-hide="editMode">\n                      </textarea>\n                      <textarea ng-show="editMode" rows="3" class="ticket-description" ng-model="ticket.obj.description" disabled> \n                      </textarea>\n                    </div>\n                  </div>\n                </div>\n                <div class="clearfix"></div>\n              </fieldset>\n            </div>\n          </form> \n          \x3c!-- message is only show in editMode --\x3e\n          <div class="message-body" ng-show="editMode && !loadModal">\n            <hr>\n            <h4> </h4>\n            <div class="message-list-container">\n              <div ng-class="{\'ticket-message-self\':msg.sender.id == userId}" class="ticket-message" ng-repeat="msg in ticket.obj.messages">\n                <div class="row">\n                  <div class="col-sm-6">\n                    <h4>\n                      {{msg.sender.card_no | lengthLimit:20}}\n                      <small>   {{msg.datetime | jalaliDate}} </small>\n                    </h4>\n                  </div>\n                  <div class="col col-sm-2 col-sm-pull-4">\n                    <h2>\n                      <a title="    " ng-click="ticket.openTransactionStatModal(msg.attachments[0].data.id)" ng-if="msg.attachments[0].type==\'transaction\'" class="label label-warning" ></a>\n                    </h2>\n                  </div>\n                </div>\n                \n                <textarea ng-if="msg.text" cols="15" class="form-control ticket-message-style" rows="2" readonly> {{msg.text}} </textarea>\n                <p ng-if="msg.attachments[0].type==\'transaction\'"> \n                  <small>   :</small>\n                  <a title="    " href ng-click="ticket.openTransactionStatModal(msg.attachments[0].data.id)">\n                    <b> {{msg.attachments[0].data.unique_id | transactionIdDisplay}} </b>\n                  </a>\n                </p>\n                \n              </div>\n            </div>\n            <br />\n            <form name="messageForm" role="form" ng-show="editMode" novalidate ng-submit="!!ticket.tmp.text && ticket.tmp.text!=\'\' && !sendingMessage">\n              <div class="row">\n                <fieldset> \n                    <div class="col-md-9" ng-if="!ticket.tmp.transaction">\n                      <textarea type="text" ng-model="ticket.tmp.text" placeholder="    ..." class="form-control" cols="10" rows="3">\n                      </textarea>\n                    </div>\n                    <div class="col-md-9" ng-if="ticket.tmp.transaction">\n                      <p class="ticket-message-attached-transaction">\n                             :\n                          (<a title="    " href ng-click="ticket.openTransactionStatModal(ticket.tmp.transaction.id)">\n                            <b>\n                              <u>{{ticket.tmp.transaction.unique_id | transactionIdDisplay}}</u>\n                            </b>\n                          </a>)\n                           \n                      </p>\n                    </div>\n                    <div class="col-md-3">\n                      <button type="submit" class="btn btn-success" ng-click="ticket.addMessage()" ng-hide="sendingMessage" ng-disabled="(!ticket.tmp.text || ticket.tmp.text==\'\') && (!ticket.tmp.transaction)"\n                      style="width:100%; margin-bottom:6px;">\n                        \n                      </button>\n                      <button type="button" ng-disabled="sendingMessage" ng-hide="(!!ticket.tmp.text && ticket.tmp.text!=\'\') || ticket.tmp.transaction"\n                      ng-click="ticket.openSelectionModal(3,\'transaction\',\'\')" class="btn btn-primary" title=" "> \n                         \n                      </button>\n                      <button type="button" ng-show="ticket.tmp.transaction && !sendingMessage" class="btn btn-danger" ng-click="ticket.deleteKey(ticket.tmp,\'transaction\')" title=" " style="width:100%;">\n                          <i class="fa fa-lg fa-remove"></i>\n                      </button>\n                      <button ng-show="sendingMessage" class="btn btn-info" style="width:100%;">\n                          <i class="fa fa-spinner fa-pulse fa-lg" ></i>\n                      </button>\n                    </div>\n                </fieldset>\n              </div>\n            </form>\n            \n          </div>\n        </div>\n      </div>\x3c!-- /.X_content --\x3e\n\n      <div class="load-spinner" ng-show="loadSide" style="text-align:center">\n        <i class="fa fa-spinner fa-pulse fa-3x" ></i>\n      </div>\n    </div>\x3c!-- /.X_panel --\x3e\n  </div>\n</div>\n\n\x3c!-- Select product & to_warehouse & attachment transaction Modal --\x3e\n<div class="modal fade" id="selectModal" tabindex="-1" role="dialog">\n    <div class="modal-dialog modal-lg" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <div class="pull-left">\n                  <button type="button" class="btn btn-danger" data-dismiss="modal"></button>\n                </div>\n            </div>\x3c!-- /.modal-header --\x3e\n            <div class="modal-body">\n                <div class="box-body">\n                    <div class="row">\n                        <div class="col-md-12">\n                          \x3c!-- Stage == 0 -> product --\x3e\n                          <div class="panel panel-info" ng-show="stage == 0">\n                                <div class="panel-heading">\n                                     \n                                    <div class="pull-left">\n                                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                                    </div>\n                                </div>\n                                <div class="panel-body">\n\n                                    <form name="selectProductForm" role="form" novalidate>\n                                      <div class="input-group">\n                                        <input type="text" class="form-control" name="searchText" placeholder="" ng-model="ticket.tmp.searchQuery">\n                                        <span class="input-group-btn">\n                                          <button type="submit" ng-disabled = "selectProductForm.$invalid" class="btn btn-info btn-beside-input" ng-click="ticket.search(\'product\',\'\')"> </button>\n                                        </span>\n                                      </div>\n                                    </form>\n\n\n                                    <table class="table table-hover table-border" ng-hide = "ticket.tmp.searchResult == \'\' || loadSearch">\n                                        <tbody>\n                                          <tr>\n                                            <th></th>\n                                            <th> </th>\n                                            <th> </th>\n                                            <th></th>\n                                          </tr>\n\n                                          <tr  ng-repeat = "list in ticket.tmp.searchResult">\n                                            <td >{{$index+1}}</td>\n                                            <td>\n                                              {{list.model | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              {{list.serial_number | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              <a  ng-click="ticket.selectObj(\'product\',list)" href>\n                                                <i class="fa fa-check-square-o fa-lg"></i>\n                                              </a>\n                                                \n                                            </td>\n                                          </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                          </div>\n\n                          \x3c!-- Stage == 1 -> to_warehouse --\x3e\n                          <div class="panel panel-info" ng-show="stage == 1">\n                                <div class="panel-heading">\n                                      \n                                    <div class="pull-left">\n                                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                                    </div>\n                                </div>\n                                <div class="panel-body">\n\n                                    <form name="selectWarehouseForm" role="form" novalidate>\n                                      <div class="input-group">\n                                        <input type="text" class="form-control" name="searchText" placeholder="" ng-model="ticket.tmp.searchQuery">\n                                        <span class="input-group-btn">\n                                          <button type="submit" ng-disabled = "selectWarehouseForm.$invalid" class="btn btn-info btn-beside-input" ng-click="ticket.search(\'warehouse\')"> </button>\n                                        </span>\n                                      </div>\n                                    </form>\n\n\n                                    <table class="table table-hover table-border" ng-hide = "ticket.tmp.searchResult == \'\' || loadSearch">\n                                        <tbody>\n                                          <tr>\n                                            <th></th>\n                                            <th> </th>\n                                            <th></th>\n                                            <th> </th>\n                                            <th></th>\n                                          </tr>\n\n                                          <tr  ng-repeat = "list in ticket.tmp.searchResult | filterObjById:ticket.relateWarehouseId">\n                                            <td >{{$index+1}}</td>\n                                            <td>\n                                              {{list.title | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              {{list.location | lengthLimit:15}}\n                                            </td>\n                                            <td dir="ltr">\n                                              {{list.phone | lengthLimit:15}}\n                                            </td>\n                                            <td>\n                                              <a  ng-click="ticket.selectObj(\'to_warehouse\',list)" href>\n                                                <i class="fa fa-check-square-o fa-lg"></i>\n                                              </a>\n                                                \n                                            </td>\n                                          </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                          </div>\n\n                          \x3c!-- Stage == 2 -> from_warehouse --\x3e\n                          <search-stage ng-show = "stage == 2" obj="ticket.selectFromWarehouseObj" controller = "ticket" target="reportFields" subbase="addOne" func="controller.setPurchaseReport()" ,filterId="-1"></search-stage>\n\n                          \x3c!-- Stage == 3 -> transaction for message attachment --\x3e\n                          <search-stage ng-show = "stage == 3" obj="ticket.selectTransactionObj" controller = "ticket" target="tmp"  func="controller.closeModal()" ,filterId="-1"></search-stage>\n                          \n                        </div>\n                    </div>\n                </div>\x3c!-- /.box-body --\x3e\n            </div>\x3c!-- /.modal-body --\x3e\n            <div class="modal-footer">\n            </div>\x3c!-- /.modal-footer --\x3e\n        </div>\x3c!-- /.modal-content --\x3e\n    </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n\n<transaction-stat controller = "ticket"></transaction-stat>\n'),$templateCache.put("/dist/templates/transaction.html",'<div class="row">\n  <search-tools sobject="transaction.searchObject" scontroller="transaction">    \n    <select class="form-control filter-option" ng-model="transaction.addOne.extra.reason" title=" ">\n      <option value="">--   --</option>\n      <option value="0"></option>\n      <option value="1"></option>\n      <option value="2"></option>\n      <option value="3"> </option>\n    </select>\n\n    <select class="form-control filter-option" ng-model="transaction.addOne.extra.transaction_type" title=" ">\n      <option value="">--   --</option>\n      <option value="0"></option>\n      <option value="1"></option>\n      <option value="2"></option>\n    </select>\n    <div class="sort-option-edited filter-option">\n      <adm-dtp inputplaceholder="  " ng-model="transaction.addOne.extra.datetime__gte" title="  " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'></adm-dtp>\n    </div>\n    <div class="sort-option-edited filter-option">\n      <adm-dtp inputplaceholder="  " ng-model="transaction.addOne.extra.datetime__lte" title="  " options=\'{format: "hh:mm YYYY-MM-DD",dtpType : "date&time"}\'></adm-dtp>\n    </div>\n\n    <div id="report-field" style="display:none" class="report-field">\n      \n      <div title="  " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder=" " ng-model="transaction.addOne.reportFields.product.model" readonly ng-click="transaction.openSelectionModal(0,\'product\',\'use_case=1\')">\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="transaction.addOne.reportFields.product"\n          ng-click="transaction.deleteKey(transaction.addOne.reportFields,\'product\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / product filter --\x3e\n\n      <div title="  " class="input-group report-field-option">\n        <a class="dropdown-toggle" href data-toggle="dropdown" aria-expanded="false">\n            <input type="text" class="form-control"  placeholder=" " ng-model="transaction.addOne.reportFields.source.last_name" readonly  ng-hide="transaction.addOne.reportFields.source_type == \'warehouse\'">\n            <input type="text" class="form-control" placeholder=" " ng-model="transaction.addOne.reportFields.source.title" readonly  ng-show="transaction.addOne.reportFields.source_type == \'warehouse\'">\n        </a>\n        <ul id="dropdown-filter-source" class="dropdown-menu dropdown-menu-right" role="menu">\n          <li>\n            <a ng-click="transaction.openSelectionModal(1,\'user\',\'\');transaction.addOne.reportFields.source_type=\'user\'" href></a>\n          </li>\n          <li>\n            <a ng-click="transaction.openSelectionModal(2,\'warehouse\',\'\');transaction.addOne.reportFields.source_type=\'warehouse\'" href></a>\n          </li>\n        </ul>\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="transaction.addOne.reportFields.source"\n          ng-click="transaction.deleteKey(transaction.addOne.reportFields,\'source\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / source filter --\x3e\n\n      <div title="   " class="input-group report-field-option">\n        <a class="dropdown-toggle" href data-toggle="dropdown" aria-expanded="false">\n          <input type="text" class="form-control"  placeholder=" " ng-model="transaction.addOne.reportFields.destination.last_name"     readonly  ng-hide="transaction.addOne.reportFields.destination_type == \'warehouse\'">\n          <input type="text" class="form-control" placeholder=" " ng-model="transaction.addOne.reportFields.destination.title" readonly  ng-show="transaction.addOne.reportFields.destination_type == \'warehouse\'">\n        </a>\n        <ul id="dropdown-filter-destination" class="dropdown-menu dropdown-menu-right" role="menu">\n          <li>\n            <a ng-click="transaction.openSelectionModal(3,\'user\',\'\');transaction.addOne.reportFields.destination_type=\'user\'" href></a>\n          </li>\n          <li>\n            <a ng-click="transaction.openSelectionModal(4,\'warehouse\',\'\');transaction.addOne.reportFields.destination_type=\'warehouse\'" href></a>\n          </li>\n        </ul>\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="transaction.addOne.reportFields.destination"\n          ng-click="transaction.deleteKey(transaction.addOne.reportFields,\'destination\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / destination filter --\x3e\n\n      <div title="   " class="input-group report-field-option">\n        <input type="text" class="form-control" placeholder="   " ng-model="transaction.addOne.reportFields.auth_by.last_name" readonly ng-click="transaction.openSelectionModal(5,\'user\',\'\')">\n        <span class="input-group-btn">\n          <button type="button" class="btn btn-danger btn-beside-input" ng-show="transaction.addOne.reportFields.auth_by"\n          ng-click="transaction.deleteKey(transaction.addOne.reportFields,\'auth_by\')">\n            <i class="fa fa-remove"></i>\n          </button>\n        </span>\n      </div>\x3c!-- / auth_by filter --\x3e\n\n    </div>\n  </search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'transaction\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n           \n        </button>\n        <export-file exptype="transaction_list"></export-file>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead class="obj-default-border">\n            <tr>\n              <th>#</th>\n              <th>  </th>              \n              <th> </th>\n              <th></th>\n              <th></th>\n              <th> </th>\n              <th>  </th>\n              <th></th>\n              <th ng-if = "checkWrite(\'transaction\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in transaction.note" ng-class="{\'obj-info-border\':list.transaction_type==0, \'obj-danger-border\':list.transaction_type==1, \'obj-success-border\':list.transaction_type==2}">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>{{list.unique_id | transactionIdDisplay | pNumber}}</td>              \n              <td>{{list.product.model | lengthLimit:30}}</td>\n              <td>{{list.source | userOrWarehouseName| lengthLimit:30}}</td>\n              <td>{{list.destination | userOrWarehouseName | lengthLimit:30}}</td>\n              <td>{{list.reason | reasonType}}</td>\n              <td>\n                <span class="label" ng-class="{\'label-info\':list.transaction_type==0, \'label-danger\':list.transaction_type==1, \'label-success\':list.transaction_type==2}">\n                  {{list.transaction_type | transactionType}}\n                </span>\n              </td>\n\n              <td></td>\n              <td>\n                <a title="" ng-click="transaction.getObject(list.id); editMode = true" href>\n                  <i class="fa fa-lg fa-eye" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="transaction" config="transaction.paginationConfig"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- Transaction Modal --\x3e\n<div class="modal fade" id="transactionModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-if = "checkWrite(\'transaction\')" ng-show = "stage == 0 && !editMode" ng-disabled="!transactionForm.$valid || !transaction.obj.destination" ng-click="transaction.sendOrEdit(editMode)" class="btn btn-success"></button>\n          <button type="button" class="btn btn-info" ng-show = "stage != 0" ng-click="transaction.returnBtn()"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left single-export" ng-show="editMode">\n          <export-file exptype="transaction" id="transaction.obj.id"></export-file>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n\n        <div ng-show="stage == 0">\n          <form name="transactionForm" role="form" ng-hide="loadModal" novalidate ng-submit="!editMode && transactionForm.$valid && transaction.sendOrEdit(editMode)">\n            <button type="submit" hidden></button>\n            <div class="row">\n              <fieldset ng-disabled ="!checkWrite(\'transaction\')">\n                <div ng-show="editMode" class="col-sm-6">\n                  <label >:</label>\n                  <p class="data-show">\n                      {{ transaction.obj.unique_id | transactionIdDisplay | pNumber }}                      \n                  </p>\n                </div>\n                <div class="clearfix" ng-show="editMode"></div>\n                <hr ng-show="editMode">\n                <div class="col-sm-6">\n                  <div class="form-group">\n\n                    <label>\n                      \n                      {{ (editMode ? \'\' : \'*\') }}\n                    </label>\n                    <div class="input-group" ng-hide="editMode">\n                      <input type="text" class="form-control" ng-model="transaction.obj.product.model" required disabled>\n                      <span class="input-group-btn">\n                        <button type="button" ng-disabled="!checkWrite(\'transaction\') || editMode" class="btn btn-info btn-beside-input" ng-click="transaction.selectThings(1, \'product\', \'?use_case=1\')"></button>\n                      </span>\n                    </div>\n                    <p class="data-show" ng-show="editMode">\n                        {{ transaction.obj.product.model | pNumber}}\n                        ({{transaction.obj.product.serial_number | pNumber}})\n                    </p>\n\n                  </div>\n                </div>\n                <div class="col-sm-6">\n                  <div class="form-group" ng-show="editMode">\n                    <label> </label>\n                    <p class="data-show">\n                      {{transaction.obj.datetime | pNumber}}\n                    </p>\n                  </div>\n                </div>\n                <div class="clearfix"></div>\n                <hr>\n                <div class="col-sm-6">\n                  <div class="form-group">\n                    <label>\n                      \n                      {{ (editMode ? \'\' : \'*\') }}                      \n                    </label>\n\n                    <div class="input-group" ng-hide="editMode">\n                      <input type="text" class="form-control" ng-hide="transaction.obj.destination.type==\'Warehouse\'" ng-model="transaction.obj.destination.obj.last_name" disabled>\n                      <input type="text" class="form-control" ng-show="transaction.obj.destination.type==\'Warehouse\'" ng-model="transaction.obj.destination.obj.title" disabled>\n                      <div class="input-group-btn">\n                        <button type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false"\n                        ng-disabled="editMode">\n                          \n                          <span class="caret"></span>\n                        </button>\n                        <ul class="dropdown-menu dropdown-menu-right" role="menu">\n                          <li>\n                            <a ng-click="transaction.selectThings(2, \'user\'); scope = 2" href></a>\n                          </li>\n                          <li>\n                            <a ng-click="transaction.selectThings(3, \'warehouse\'); scope = 3" href></a>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n\n                    <p class="data-show" ng-show="editMode">\n                      {{transaction.obj.destination.obj.last_name}}\n                      {{transaction.obj.destination.obj.title}}\n                    </p>\n\n                  </div>\n                </div>\n              \n                \x3c!-- source selection --\x3e\n                <div class="col-xs-6">\n                  <div class="form-group">\n                    <label></label>\n                    <p class="data-show" ng-show="!editMode">\n                      {{transaction.obj.product.holder | userOrWarehouseName | lengthLimit:30}}\n                    </p>\n                    <p class="data-show" ng-show="editMode">\n                      {{transaction.obj.source | userOrWarehouseName | lengthLimit:30}}\n                    </p>\n                  </div>\n                </div>\n                  \n                <div class="clearfix"></div>\n                <hr>\n                \x3c!-- transaction type and reason selection --\x3e\n                <div class="col-xs-6">\n\n                    <div class="form-group">\n                      <label>\n                         \n                        {{ (editMode ? \'\' : \'*\') }}                        \n                      </label>\n                      <div ng-hide="editMode">\n                        <select class="form-control" ng-model="transaction.obj.transaction_type" required ng-disabled="editMode">\n                          <option value="0"></option>\n                          <option value="1"></option>\n                          <option value="2"></option>\n                        </select>\n                      </div>\n\n                      <p class="data-show" ng-show="editMode">\n                        {{transaction.obj.transaction_type | transactionType}}\n                      </p>\n                    </div>\n                </div>\n                \n              \n                <div class="col-xs-6">\n                  <div class="form-group">\n                    <label>\n                       \n                      {{ (editMode ? \'\' : \'*\') }}                      \n                    </label>\n\n                    <div ng-hide="editMode">\n                      <select class="form-control" ng-model="transaction.obj.reason" required ng-disabled="editMode">\n                        <option value="0"></option>\n                        <option value="1"></option>\n                        <option value="2"></option>\n                        <option value="3"> </option>\n                      </select>\n                    </div>\n                    <p class="data-show" ng-show="editMode">\n                      {{transaction.obj.reason | reasonType}}\n                    </p>\n                  </div>\n                </div>\n                <div class="clearfix"></div>\n                <hr>\n              \n                <div class="col-xs-12" >\n                  <div class="form-group">\n                    <label>\n                       \n                      {{ (editMode ? \'\' : \'*\') }}                      \n                    </label>\n                    <div>\n                      <textarea class="form-control" style="resize:none" rows="4" ng-model="transaction.obj.details" required\n                      ng-disabled="editMode">\n                      </textarea>\n                    </div>\n                  </div>\n                </div>\n\n              </fieldset>\n            </div>\n\n\n\n          </form> \n        </div>\n        \x3c!-- End of stage 0 --\x3e\n\n        \x3c!-- Product selection --\x3e\n        <div class="row" ng-show="stage == 1">\n          <div class="col-md-12">\n            <div class="panel panel-info">\n              <div class="panel-heading">\n                 \n                <div class="pull-left">\n                  <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                </div>\n              </div>\n              <div class="panel-body">\n                <form name="searchForm" role="form" novalidate ng-submit="transaction.search(\'product\', \'?use_case=1\')">\n                      <div class="input-group">\n                        <input type="text" class="form-control" placeholder="" name="searchText" ng-model="transaction.tmp.searchQuery" >\n                        <span class="input-group-btn">\n                          <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input">\n                            \n                          </button>\n                        </span>\n                      </div>\n                  </form>\n                  <table class="table table-hover table-border" ng-hide = "transaction.tmp.searchResult == \'\' || loadSearch">\n                    <colgroup>\n                      <col span="1" style="width: 10%;">\n                      <col span="1" style="width: 30%;">\n                      <col span="1" style="width: 30%;">\n                      <col span="1" style="width: 20%;">\n                      <col span="1" style="width: 10%;">\n                    </colgroup>\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>\n                          \n                        </th>\n                        <th>\n                           \n                        </th>\n                        <th>\n                           \n                        </th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr ng-repeat = "list in transaction.tmp.searchResult">\n                        <td>\n                          {{ $index + 1 }}\n                        </td>\n                        <td>{{list.model | lengthLimit:25}}</td>\n                        <td>{{list.serial_number | lengthLimit:20}}</td>\n                        <td>\n                          {{list.subgroup.title | lengthLimit:20}}\n                        </td>\n                        <td>\n                          <a ng-click="transaction.addProduct(list)" href>\n                            <i class="fa fa-check-square-o fa-lg"></i>\n                          </a>\n                        </td>\n                      </tr>\n                    </tbody>\n                </table>\n              </div>\n            </div>\n          \x3c!-- /.box-body --\x3e\n          </div>\n        </div>\n        \x3c!-- End of stage 1 --\x3e\n\n        \x3c!-- User selection --\x3e\n        <div class="row" ng-show="stage == 2">\n          <div class="col-md-12">\n            <div class="panel panel-info">\n              <div class="panel-heading">\n                  \n                <div class="pull-left">\n                  <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                </div>\n              </div>\n              <div class="panel-body">\n                <form name="searchForm" role="form" novalidate ng-submit="transaction.search(\'user\')">\n                      <div class="input-group">\n                        <input type="text" class="form-control" placeholder="" name="searchText" ng-model="transaction.tmp.searchQuery" >\n                        <span class="input-group-btn">\n                          <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input">\n                            \n                          </button>\n                        </span>\n                      </div>\n                  </form>\n                  <table class="table table-hover table-border" ng-hide = "transaction.tmp.searchResult == \'\' || loadSearch">\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>\n                          \n                        </th>\n                        <th>\n                           \n                        </th>\n                        <th>\n                           \n                        </th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr ng-repeat = "list in transaction.tmp.searchResult">\n                        <td>\n                          {{ $index + 1 }}\n                        </td>\n                        <td>{{list.first_name | lengthLimit:20}}</td>\n                        <td>{{list.last_name | lengthLimit:20}}</td>\n                        <td>\n                          {{list.card_no | lengthLimit:20}}\n                        </td>\n                        <td>\n                          <a ng-click="transaction.addDestination(\'User\',list)" href>\n                            <i class="fa fa-check-square-o fa-lg"></i>\n                          </a>\n                        </td>\n                      </tr>\n                    </tbody>\n                </table>\n              </div>\n            </div>\n          \x3c!-- /.box-body --\x3e\n          </div>\n        </div>\n        \x3c!-- End of stage 2 --\x3e\n\n        \x3c!-- Warehouse selection --\x3e\n        <div class="row" ng-show="stage == 3">\n          <div class="col-md-12">\n            <div class="panel panel-info">\n              <div class="panel-heading">\n                  \n                <div class="pull-left">\n                  <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                </div>\n              </div>\n              <div class="panel-body">\n                <form name="searchForm" role="form" novalidate ng-submit="transaction.search(\'warehouse\')">\n                      <div class="input-group">\n                        <input type="text" class="form-control" placeholder="" name="searchText" ng-model="transaction.tmp.searchQuery" >\n                        <span class="input-group-btn">\n                          <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input">\n                            \n                          </button>\n                        </span>\n                      </div>\n                  </form>\n                  <table class="table table-hover table-border" ng-hide = "transaction.tmp.searchResult == \'\' || loadSearch">\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>\n                           \n                        </th>\n                        <th>\n                          \n                        </th>\n                        <th>\n                           \n                        </th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr ng-repeat = "list in transaction.tmp.searchResult">\n                        <td>\n                          {{ $index + 1 }}\n                        </td>\n                        <td>{{list.title  | lengthLimit:20}}</td>\n                        <td>{{list.location | lengthLimit:20}}</td>\n                        <td dir="ltr">\n                          {{list.phone | lengthLimit:20}}\n                        </td>\n                        <td>\n                          <a ng-click="transaction.addDestination(\'Warehouse\',list)" href>\n                            <i class="fa fa-check-square-o fa-lg"></i>\n                          </a>\n                        </td>\n                      </tr>\n                    </tbody>\n                </table>\n              </div>\n            </div>\n          \x3c!-- /.box-body --\x3e\n          </div>\n        </div>\n        \x3c!-- End of stage 3 --\x3e\n\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage == 0 && !editMode"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "transaction"></delete-modal>\n\n\x3c!-- Select Modal --\x3e\n<div class="modal fade" id="selectModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog modal-lg" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        \x3c!-- <h3 class="modal-title"> </h3> --\x3e\n      </div>\n\n      <div class="modal-body">\n        \x3c!-- stage = 0 for product selection --\x3e\n        <search-stage ng-show = "stage == 0" obj="transaction.selectProductObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 1 for user source selection --\x3e\n        <search-stage ng-show = "stage == 1" obj="transaction.selectUserSourceObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n        \n        \x3c!-- stage = 2 for producer selection --\x3e\n        <search-stage ng-show = "stage == 2" obj="transaction.selectWarehouseSourceObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 3 for seller selection --\x3e\n        <search-stage ng-show = "stage == 3" obj="transaction.selectUserDestinationObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 4 for gaurantor selection --\x3e\n        <search-stage ng-show = "stage == 4" obj="transaction.selectWarehouseDestinationObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n        \x3c!-- stage = 5 for user source selection --\x3e\n        <search-stage ng-show = "stage == 5" obj="transaction.selectAuthorObj" controller = "transaction" target="reportFields" subbase="addOne" func="controller.closeSelectionModal()"></search-stage>\n\n      </div>\n      <div class="modal-footer">\n      </div>\x3c!-- /.modal-footer --\x3e\n    </div>\n  </div>\n</div>\n'),$templateCache.put("/dist/templates/user.html",'<div class="row">\n  <search-tools sobject="user.searchObject" scontroller="user"></search-tools>\n  <div class="col-md-12 col-sm-12 col-xs-12">\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa fa-users"></i> </h2>\n        <button type="button" ng-if = "checkWrite(\'user\')" class="btn btn-success btn-sm pull-left" ng-click="openModal(\'#userModal\')" name="button"> </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th></th>\n              <th> </th>\n              <th> </th>\n              <th> </th>\n              <th>  </th>\n              <th>  </th>\n              \n              <th></th>\n              <th ng-if = "checkWrite(\'user\')"></th>\n              <th ng-if = "checkWrite(\'user\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide = "load">\n            <tr ng-repeat = "list in user.note">\n              <td ng-click="user.getObject(list.id)">{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td ng-click="user.getObject(list.id)">{{list.first_name | lengthLimit:30}}</td>\n              <td ng-click="user.getObject(list.id)">{{list.last_name | lengthLimit:30}}</td>\n              <td ng-click="user.getObject(list.id)">{{list.card_no | lengthLimit:30}}</td>\n              <td ng-click="user.getObject(list.id)">{{list.clearance_level | userType}}</td>\n              <td ng-click="user.getObject(list.id)" style="direction:ltr;">{{list.phone | pNumber }}</td>\n              <td ng-click="user.getObject(list.id)" ng-show="list.extension_number" style="direction:ltr;">{{list.extension_number | pNumber }}</td>\n              <td ng-click="user.getObject(list.id)" ng-hide="list.extension_number"> --  --  </td>\n              \n              <td title="  ">\n                <a ng-click="user.getObject(list.id)" href>\n                  <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'user\') , \'fa-eye\' : !checkWrite(\'user\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td title="   " ng-if = "checkWrite(\'user\')">\n                <a ng-click = "user.openResetPassModal(list.id)" data-toggle="modal" ng-if="assetData.id !== list.id" href>\n                  <i class="fa fa-lg fa-key" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td title=" " ng-if = "checkWrite(\'user\')">\n                <a ng-click="user.toDeleteId = list.id; user.toDeleteTitle = list.first_name+\' \'+list.last_name" data-toggle="modal" ng-if="assetData.id !== list.id" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="user"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- User Modal --\x3e\n<div class="modal fade" id="userModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-disabled="userForm.$invalid || (user.obj.password !== user.tmp.confirm_pass && user.obj.clearance_level != 0)"\n          ng-click="user.sendOrEdit(editMode)" ng-show = "stage == 0" ng-if = "checkWrite(\'user\')" class="btn btn-success"></button>\n          <button type="button" class="btn btn-info" ng-show = "stage == 1" ng-click="stage = 0"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n          <div class="box-body">\n            <div class="row" ng-show = "stage == 0">\n              <form name="userForm" role="form" ng-hide="loadModal" novalidate ng-submit="userForm.$valid && user.sendOrEdit(editMode)">\n                <button type="submit" hidden></button>\n                <fieldset ng-disabled ="!checkWrite(\'user\')">\n                  <div class="col-md-6">\n                    <div class="form-group" ng-class="{\'has-success\' : userForm.firstname.$valid && user.obj.first_name}">\n                      <label>*</label>\n                      <input type="text" class="form-control" name="firstname" placeholder="" ng-model = "user.obj.first_name" required>\n                    </div>\n                  </div>\n                  <div class="col-md-6">\n                    <div class="form-group" ng-class="{\'has-success\' : userForm.lastname.$valid && user.obj.last_name}">\n                      <label> *</label>\n                      <input type="text" class="form-control" name="lastname" placeholder=" " ng-model = "user.obj.last_name" required>\n                    </div>\n                  </div>\n\n                  <div class="col-md-6">\n                    <div class="form-group" ng-class="{\'has-success\' : userForm.cardno.$valid && user.obj.card_no}">\n                      <label> *</label>\n                      <input type="text" name = "cardno" class="form-control form-ltr" placeholder=" " ng-model = "user.obj.card_no" required>\n                    </div>\n                  </div>\n\n                  <div class="col-md-6">\n                    <div class="form-group">\n                      <label> *</label>\n                      <select class="form-control" ng-model="user.obj.clearance_level" required>\n                        <option ng-value="0"></option>\n                        <option ng-value="1"></option>\n                        <option ng-value="2"> </option>\n                        <option ng-value="3"></option>\n                      </select>\n                    </div>\n                  </div>\n\n                  \n                  <div class="clearfix"></div>\n                  <hr>\n\n                  <div class="col-md-6" ng-if="!(editMode || user.obj.clearance_level == 0)">\n                    <div class="form-group" ng-class=" {\'has-error\' : userForm.password.$invalid && user.obj.password,\n                      \'has-success\' : !userForm.password.$invalid }  ">\n                      <label>*</label>\n                      <input type="password" class="form-control" name="password" placeholder="" ng-pattern = "/^[A-Za-z0-9]+$/"\n                      ng-model = "user.obj.password" ng-required = "!editMode && user.obj.clearance_level !== 0" ng-minlength="8" ng-maxlength="15" ng-model-options="{ allowInvalid: true }">\n                      <p ng-show="userForm.password.$error.minlength" class="input-error-p">   </p>\n                      <p ng-show="userForm.password.$error.maxlength" class="input-error-p">   </p>\n                      <p ng-show="userForm.password.$error.pattern" class="input-error-p">     </p>\n                    </div>\n                  </div>\n                  <div class="col-md-6" ng-if="!(editMode || user.obj.clearance_level == 0)">\n                    <div class="form-group" ng-class=" {\'has-error\' : userForm.confPass.$dirty && user.tmp.confirm_pass !== user.obj.password,\n                      \'has-success\' : user.tmp.confirm_pass === user.obj.password && user.tmp.confirm_pass}">\n                      <label> *</label>\n                      <input type="password" class="form-control" name="confPass" placeholder=" "\n                      ng-model = "user.tmp.confirm_pass" ng-required = "!editMode && user.obj.clearance_level !== 0" ng-model-options="{ allowInvalid: true }">\n                      <p ng-show="user.tmp.confirm_pass !== user.obj.password && !userForm.confPass.$pristine" class="input-error-p">    </p>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <hr ng-hide="editMode || user.obj.clearance_level == 0">\n                  \n                  <div class="col-md-6">\n                    <div class="form-group" ng-class=" {\'has-error\' : userForm.phone.$invalid && user.obj.phone,\n                      \'has-success\' : userForm.phone.$valid && user.obj.phone } ">\n                      <label> *</label>\n                      <input type="text" class="form-control form-ltr" name="phone" placeholder=" " ng-model = "user.obj.phone"\n                      ng-pattern = "/^[0-9-+]+$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }" required>\n                      <p ng-show="userForm.phone.$error.maxlength" class="input-error-p">    </p>\n                      <p ng-show="userForm.phone.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n                    </div>\n                  </div>\n                  \n                  <div class="col-md-6">\n                    <div class="form-group" ng-class=" {\'has-error\' : userForm.extension.$invalid && user.obj.extension_number,\n                      \'has-success\' : userForm.extension.$valid && user.obj.extension_number } ">\n                      <label> </label>\n                      <input type="text" class="form-control form-ltr" name="extension" placeholder=" " ng-model = "user.obj.extension_number"\n                      ng-pattern = "/^[0-9-+]*$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }">\n                      <p ng-show="userForm.extension.$error.maxlength" class="input-error-p">    </p>\n                      <p ng-show="userForm.extension.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n                    </div>\n                  </div>\n                  \n                  \n                  <div class="clearfix"></div>\n                  <div class="col-md-6">\n                    <div class="form-group">\n                      <label> *</label>\n                      <select class="form-control" ng-model = "user.obj.service_situation" ng-disabled="user.obj.id == assetData.id" required>\n                        <option ng-value="0">  </option>\n                        <option ng-value="1"> </option>\n                      </select>\n                    </div>\n                  </div>\n                  <div class="col-md-6">\n                    <div class="form-group" ng-class="{\'has-success\' : userForm.cat.$valid && user.obj.service_category}">\n                      <label> *</label>\n                      <input type="text" class="form-control" name="cat" placeholder=" " ng-model = "user.obj.service_category" required>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <div class="col-md-6">\n\n                    <div class="form-group">\n                      <label>   </label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="user.obj.warehouse.title" disabled>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!checkWrite(\'user\')" class="btn btn-primary btn-beside-input" ng-hide="user.obj.warehouse.title" ng-click="user.selectWareHouse()"> </button>\n                          <button type="button" ng-disabled="!checkWrite(\'user\')" class="btn btn-danger btn-beside-input" ng-show="user.obj.warehouse.title" ng-click="user.deleteKey(user.obj, \'warehouse\')"> </button>\n                        </span>\n                      </div>\n                    </div>\n\n                    <div class="form-group" ng-if="user.obj.clearance_level == 1">\n                      <label>  *</label>\n                      <div class="input-group">\n                        <input type="text" class="form-control" ng-model="user.obj.warehouse_under_management.title" ng-required="user.obj.clearance_level == 1" disabled>\n                        <span class="input-group-btn">\n                          <button type="button" ng-disabled="!checkWrite(\'user\')" class="btn btn-primary btn-beside-input" ng-hide="user.obj.warehouse_under_management.title" ng-click="user.selectThings(2, \'warehouse\', \'?parent_warehouse__ne=None\')"> </button>\n                          <button type="button" ng-disabled="!checkWrite(\'user\')" class="btn btn-danger btn-beside-input" ng-show="user.obj.warehouse_under_management.title" ng-click="user.deleteKey(user.obj, \'warehouse_under_management\')"> </button>\n                        </span>\n                      </div>\n                    </div>\n\n                  </div>\n                  <div class="col-md-4">\n                    <div class="form-group">\n                      <label> *</label>\n                      <br/>\n                      <div class="btn btn-info btn-sm" ngf-select="user.uploadPic()" ng-model="user.sigFile" name="file" ngf-pattern="\'.jpg,.png,.jpeg,.png\'"\n                        ngf-accept="\'image/*\'" ngf-max-size="2MB" ng-if="!user.obj.scanned_signature && checkWrite(\'user\')" ng-required="!user.obj.scanned_signature" ng-hide="uploading">  </div>\n                        \n                        <p ng-show = "uploading" style="text-align : center;">\n                          <i class="fa fa-refresh fa-spin fa-lg"></i>\n                              ...\n                        </p>\n                        \n                      <button type="button" class="btn btn-sm btn-danger" ng-if="user.obj.scanned_signature && checkWrite(\'user\')"\n                      ng-click=" user.obj.scanned_signature = null"> </button>\n\n                      <p ng-show="userForm.file.$error.maxSize" class="input-error-p">       </p>\n                      <p ng-show="userForm.file.$error.pattern" class="input-error-p">    </p>\n                      \n                    </div>\n                  </div>\n                  <div class="col-md-2">\n                    <a href="{{uploadUrl + user.obj.scanned_signature}}" data-lightbox=" " data-title=" ">\n                      <img class="img-responsive img-thumbnail" ng-src="{{uploadUrl + user.obj.scanned_signature}}"\n                      ng-if="user.obj.scanned_signature">\n                    </a>\n                  </div>\n                  <div class="clearfix"></div>\n                </fieldset>\n            </form>\n            </div>\n            \x3c!-- end of Stage 0 --\x3e\n\n            <div class="row" ng-show = "stage == 1">\n              <div class="col-md-12">\n                <div class="panel panel-info">\n                  <div class="panel-heading">\n                     \n                    <div class="pull-left">\n                      <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                    </div>\n                  </div>\n                  <div class="panel-body">\n                    <form name="searchForm" role="form" novalidate>\n                          <div class="input-group">\n                            <input type="text" class="form-control" name="searchText" ng-model="user.tmp.searchQuery" placeholder="">\n                            <span class="input-group-btn">\n                              <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="user.search(\'warehouse\')"></button>\n                            </span>\n                          </div>\n                      </form>\n                      <table class="table table-hover table-border" ng-hide = "user.tmp.searchResult == \'\' || loadSearch">\n                        <tbody>\n                          <tr>\n                            <th></th>\n                            <th> </th>\n                            <th></th>\n                            <th></th>\n                          </tr>\n\n                          <tr ng-repeat = "list in user.tmp.searchResult">\n                            <td>{{$index+1}}</td>\n                            <td>\n                              {{list.title | lengthLimit:20}}\n                            </td>\n                            <td>\n                              {{list.location | lengthLimit:20}}\n                            </td>\n                            <td>\n                              <a ng-click="user.selectTarget(list, user.obj, \'warehouse\', 0)" href>\n                                <i class="fa fa-check-square-o fa-lg"></i>\n                              </a>\n                            </td>\n                          </tr>\n                        </tbody>\n                    </table>\n                  </div>\n                </div>\n              \x3c!-- /.box-body --\x3e\n              </div>\n            </div>\n            \x3c!-- end of Stage 1 --\x3e\n\n            <search-stage ng-show = "stage == 2" obj="user.selectWarehouseUnderManagementObj" controller = "user"></search-stage>\n            \x3c!-- end of Stage 2 --\x3e\n\n          </div>\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n          <br>\n          -\n                  .\n          <hr ng-show = "stage === 0">\n        </p>\n        <div class="progress active" ng-hide = "uploadPercentage == 0 || stage == 0">\n          <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar"\n          aria-valuemin="0" id="uploadPercentBox" aria-valuemax="100" ng-style="{ \'width\' : uploadPercentage }">\n          {{uploadPercentage}}\n          </div>\n        </div>\n        \x3c!--\n        <ul>\n          <li ng-repeat="(key, errors) in userForm.$error track by $index"> <strong>{{ key }}</strong> errors\n            <ul>\n              <li ng-repeat="e in errors">{{ e.$name }} has an error: <strong>{{ key }}</strong>.</li>\n            </ul>\n          </li>\n        </ul>\n      --\x3e\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<delete-modal controller = "user"></delete-modal>\n\n\x3c!-- reset pass Modal --\x3e\n<div class="modal fade" id="resetPassModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog modal-sm" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="pull-left close" data-dismiss="modal" aria-label="Close" ng-hide ="loadModal">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h4 class="modal-title" id="myModalLabel" ng-hide = "editMode">   </h4>\n      </div>\n      <div class="modal-body">\n        <form name="resetPassForm" ng-hide="loadModal" novalidate \n        ng-submit="resetPassForm.$valid && user.resetPass(user.toResetPassId)">\n        <button type="submit" hidden></button>\n          <div class="form-group" ng-class="{ \'has-error\' : resetPassForm.pass.$invalid && !resetPassForm.pass.$pristine ,\n            \'has-success\' : !resetPassForm.password.$invalid && !resetPassForm.pass.$pristine }">\n            <label for="pass">  </label>\n            <input type="password" class="form-control form-ltr" name="pass" ng-pattern = "/^[A-Za-z0-9]+$/"\n            ng-minlength="8" ng-maxlength="15" ng-model="user.passToReset" ng-model-options="{ allowInvalid: true }" required>\n            <p ng-show="resetPassForm.pass.$error.minlength" class="input-error-p">   </p>\n            <p ng-show="resetPassForm.pass.$error.maxlength" class="input-error-p">   </p>\n            <p ng-show="resetPassForm.pass.$error.pattern" class="input-error-p">     </p>\n          </div>\n          <div class="form-group" ng-class=" {\'has-error\' : user.passToResetConf !== user.passToReset && user.passToResetConf,\n            \'has-success\' : user.passToResetConf == user.passToReset && !resetPassForm.confPass.$pristine}  ">\n            <label for="pass">   </label>\n            <input name="confPass" type="password" id="password" ng-model="user.passToResetConf" class="form-control form-ltr" ng-maxlength="15" ng-minlength="8"\n            ng-pattern = "/^[A-Za-z0-9]+$/" ng-model-options="{ allowInvalid: true }" required>\n            <p ng-show="user.passToResetConf !== user.passToReset && user.passToResetConf"\n            class="input-error-p">    </p>\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer" ng-hide="loadModal">\n        <button type="button" class="btn btn-danger" data-dismiss="modal"></button>\n        <button type="button" class="btn btn-success" ng-disabled="resetPassForm.$invalid || user.passToResetConf !== user.passToReset" ng-click="user.resetPass(user.toResetPassId)"></button>\n      </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("/dist/templates/warehouse.html",'<div class="row" esc-event="closeSide()">\n  \n  <div ng-class = "{\'col-xs-12\':!productShow , \'col-xs-6\' : productShow}">\n    <search-tools sobject="warehouse.searchObject" scontroller="warehouse"></search-tools>\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i></h2>\n        <button type="button" ng-if = "checkWrite(\'warehouse\')" class="btn btn-success btn-sm pull-left" name="button" ng-click="openModal()">\n           \n        </button>\n        <div class="clearfix"></div>\n      </div>\n      <div class="x_content">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th> </th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th ng-if = "checkWrite(\'warehouse\')"></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="load">\n            <tr ng-repeat = "list in warehouse.note" ng-class="{\'info\' : wareHouseId == list.id}">\n              <td>{{ (page-1)*perPage + $index + 1 | pNumber}}</td>\n              <td>\n                {{list.title | lengthLimit:30}}\n                <span class="label label-info" ng-if="!list.parent_warehouse"> </span>\n              </td>\n              <td>\n                {{list.location | lengthLimit:30}}\n              </td>\n              <td style="direction:ltr;">{{list.phone | pNumber}}</td>\n              <td>\n                <a ng-click="warehouse.getObject(list.id)" title="" href>\n                  <i class="fa fa-lg" ng-class = "{\'fa-pencil-square-o\':checkWrite(\'warehouse\') , \'fa-eye\' : !checkWrite(\'warehouse\')}" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td>\n                <a ng-click="warehouse.openSide(list)" title="  " ng-show="assetData.permissions.warehouse_products == \'read\'" href>\n                  <i class="fa fa-cubes fa-lg" aria-hidden="true"></i>\n                </a>\n              </td>\n              <td>\n                  <a href ng-click="warehouse.openMywarehouse(list.id)" title="     ">\n                      <i class="fa fa-mail-forward fa-lg" aria-hidden="true"></i>                    \n                  </a>\n              </td>\n              <td ng-if = "checkWrite(\'warehouse\')">\n                <a ng-click="warehouse.toDeleteId = list.id; warehouse.toDeleteTitle = list.title" title="" data-toggle="modal" data-target="#deleteModal" href>\n                  <i class="fa fa-lg fa-trash-o" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="meta" itempage="page" controller="warehouse"></req-pagination>\n      </div>\n    </div>\n  </div>\n  <div class="col-xs-6" ng-show="productShow" >\n    <div class="col-xs-12">\n      <div class="x-panel-search">\n        <form class="filter-form">\n          <input title=" " type="text" class="form-control product-search-option" placeholder="" ng-model="warehouse.productPageConf.searchOpt.model__icontains">\n          <input title=" " type="text" class="form-control product-search-option" placeholder="" ng-model="warehouse.productPageConf.searchOpt.serial_number__icontains">\n          <select title=" " class="form-control product-search-option" ng-model="warehouse.productPageConf.searchOpt.product_filter">\n            <option value="">--   --</option>\n            <option value="0"></option>\n            <option value="3"></option>\n            <option value="1"> </option>\n          </select>\n          <button type="submit" class="btn btn-info filter-btn" ng-click = "warehouse.getProducts()"></button>\n        </form>\n      </div>\n    </div>\n    <div class="x_panel">\n      <div class="x_title">\n        <h2><i class="fa"></i>   \n          "{{selectedWarehouse | lengthLimit:30}}"\n          <small ng-if="warehouse.productsMeta.total && !load">\n            ( : {{warehouse.productsMeta.total | pNumber}})\n          </small>\n\n          <small ng-if="products_total_price && !load">\n              ( : {{products_total_price | currency:\'\':0 | productPrice | pNumber}}\n              {{ "" + " " }}\n              )\n          </small>\n        </h2>\n        <button type="button" class="btn btn-warning btn-sm pull-left" name="button" ng-click="closeSide()">\n          \n        </button>\n        <export-file exptype="warehouse" id="wareHouseId"></export-file>\n        <div class="clearfix"></div>\n      </div>\n      <div class="load-spinner" ng-show = "loadSide" style="text-align:center">\n        <i class="fa fa-spinner fa-pulse fa-3x" ></i>\n      </div>\n\n      <div class="x_content" ng-hide = "loadSide">\n        <table class="table table-striped jambo_table asset-tables">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody ng-hide="loadSide">\n            <tr ng-repeat = "goods in warehouse.products">\n              <td>{{ (warehouse.productsPage-1)*10 + $index + 1 | pNumber}}</td>\n              <td>\n                {{goods.model | lengthLimit:20}}\n              </td>\n              <td>\n                {{goods.serial_number | lengthLimit:20}}\n              </td>\n              <td>\n                {{goods.subgroup.title | lengthLimit:30}}\n              </td>\n              <td>\n                <a ng-click="warehouse.openProductModal(goods)" title="  " href>\n                  <i class="fa fa-lg fa-info-circle" aria-hidden="true"></i>\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <req-pagination itemmeta="warehouse.productsMeta" itempage="warehouse.productsPage" controller="warehouse" config="warehouse.productPageConf"></req-pagination>\n      </div>\n    </div>\n  </div>\n</div>\n\n\x3c!-- warehouse Modal --\x3e\n<div class="modal fade" id="warehouseModal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <div class="pull-left">\n          <button type="button" ng-disabled="!warehouseForm.$valid" ng-click="warehouse.sendOrEdit(editMode)" ng-if = "checkWrite(\'warehouse\')" class="btn btn-success" ng-show = "stage == 0"></button>\n          <button type="button" class="btn btn-info" ng-show = "stage == 1" ng-click="stage = 0"></button>\n          <button type="button" class="btn btn-danger" ng-click="reset()" data-dismiss="modal"></button>\n        </div>\n        <div class="pull-left single-export" ng-show="editMode">\n          <export-file exptype="warehouse" id="warehouse.obj.id"></export-file>\n        </div>\n        <div class="pull-left load-spinner" ng-show = "loadModal">\n          <i class="fa fa-spinner fa-pulse fa-2x" ></i>\n        </div>\n        <h3 class="modal-title" ng-hide="editMode">  </h3>\n        <h3 class="modal-title" ng-show="editMode"> </h3>\n      </div>\n      <div class="modal-body">\n        <div ng-show = "stage == 0">\n          <fieldset ng-disabled="!checkWrite(\'warehouse\')">\n            <form name="warehouseForm" role="form" ng-hide="loadModal" novalidate \n            ng-submit="warehouseForm.$valid && warehouse.sendOrEdit(editMode)">\n            <button type="submit" hidden></button>\n              <div class="form-group" ng-class="{\'has-success\' : warehouseForm.title.$valid && warehouse.obj.title}">\n                <label> *</label>\n                <input type="text" class="form-control" name="title" placeholder=" " ng-model = "warehouse.obj.title" required>\n              </div>\n              <div class="form-group" ng-class="{\'has-success\' : warehouseForm.location.$valid && warehouse.obj.location}">\n                <label>*</label>\n                <input type="text" class="form-control" name="location" placeholder="" ng-model = "warehouse.obj.location" required>\n              </div>\n              <div class="form-group" ng-class="{\'has-error\' : warehouseForm.phone.$invalid && warehouse.obj.phone,\n                \'has-success\' : warehouseForm.phone.$valid && warehouse.obj.phone }">\n                <label> *</label>\n                <input type="text" class="form-control ltr-input" name="phone" placeholder=" " ng-model = "warehouse.obj.phone"\n                ng-pattern = "/^[0-9-+]+$/" ng-maxlength="16" ng-model-options="{ allowInvalid: true }" required>\n                <p ng-show="warehouseForm.phone.$error.maxlength" class="input-error-p">    </p>\n                <p ng-show="warehouseForm.phone.$error.pattern" class="input-error-p">     \'-\'  \'+\'  </p>\n              </div>\n              <label></label>\n              <div class="input-group">\n                <input type="text" class="form-control" ng-model="warehouse.obj.clerk.last_name" disabled>\n                <span class="input-group-btn">\n                  <button type="button" ng-if="!warehouse.obj.clerk.last_name" class="btn btn-primary btn-beside-input" ng-disabled = "!checkWrite(\'warehouse\')" ng-click="warehouse.selectUser()"> </button>\n                  <button type="button" ng-if="warehouse.obj.clerk.last_name" class="btn btn-danger btn-beside-input" ng-disabled = "!checkWrite(\'warehouse\')" ng-click="warehouse.deleteKey(warehouse.obj, \'clerk\')"> </button>\n                </span>\n              </div>\n            </form>\n          </fieldset>\n        </div>\n        <div class="row" ng-show = "stage == 1">\n          <div class="col-md-12">\n            <div class="panel panel-info">\n              <div class="panel-heading">\n                 \n                <div class="pull-left">\n                  <i ng-show = "loadSearch" class="fa fa-refresh fa-spin"></i>\n                </div>\n              </div>\n              <div class="panel-body">\n                <form name="searchForm" role="form" novalidate>\n                  <div class="input-group">\n                    <input type="text" class="form-control" name="searchText" ng-model="warehouse.tmp.searchQuery" placeholder="">\n                    <span class="input-group-btn">\n                      <button type="submit" ng-disabled = "searchForm.$invalid" class="btn btn-info btn-beside-input" ng-click="warehouse.search(\'user\')"> </button>\n                    </span>\n                  </div>\n                </form>\n                  <table class="table table-hover table-border" ng-hide = "warehouse.tmp.searchResult == \'\' || loadSearch">\n                    <tbody>\n                      <tr>\n                        <th></th>\n                        <th></th>\n                        <th> </th>\n                        <th> </th>\n                        <th></th>\n                      </tr>\n\n                      <tr ng-repeat = "list in warehouse.tmp.searchResult | filterObjById:assetData.id">\n                        <td>{{$index+1}}</td>\n                        <td>\n                          {{list.first_name | lengthLimit:30}}\n                        </td>\n                        <td>\n                          {{list.last_name | lengthLimit:30}}\n                        </td>\n                        <td>\n                          {{list.clearance_level | userType}}\n                        </td>\n                        <td>\n                          <a ng-click="warehouse.selectTarget(list, warehouse.obj, \'clerk\', 0)" href>\n                            <i class="fa fa-check-square-o fa-lg"></i>\n                          </a>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n              </div>\n            </div>\n          \x3c!-- /.box-body --\x3e\n          </div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <p ng-show = "stage === 0"> \n                *    \n        </p>\n      </div>\n    </div>\x3c!-- /.modal-content --\x3e\n  </div>\x3c!-- /.modal-dialog --\x3e\n</div>\x3c!-- /.modal --\x3e\n\n<product-stat controller = "warehouse"></product-stat>\n\n<delete-modal controller = "warehouse"></delete-modal>\n')}]),app.service("crud",function($localStorage,requestHelper,mainAsset,$window){crudService=this,this.initModals=function(scope,controller,apiName,variables,extraReset){scope.meta={},scope.reset=function(){extraReset||(extraReset=function(){return!0}),scope.load=!1,scope.loadModal=!1,scope.loadSearch=!1,scope.editMode=!1,scope.uploadPercentage=0,scope.uploading=!1,scope.stage=0,scope.loadSide=!1,controller.obj={},controller.tmp={},extraReset();for(variable in variables)variable=""},scope.reset(),scope.openModal=function(){mainAsset.openModal("#"+apiName+"Modal")},scope.closeModal=function(){mainAsset.closeModal("#"+apiName+"Modal"),scope.reset()},$("#"+apiName+"Modal").on("hide.bs.modal",function(){scope.reset()})},this.init=function(scope,controller,apiName,objConfig,getConfig){scope.uploadUrl=mainAsset.getUploadUrl(),scope.perPage="10",void 0===objConfig&&(objConfig=function(obj){return obj}),void 0===getConfig&&(getConfig=function(obj){return obj}),controller.notEmpty=function(string){return void 0!==string&&""!==string&&string+""!="undefined"&&string+""!="NaN"},controller.makeUrl=function(page,config){void 0===config&&(config={}),void 0===page&&(page=1);var addOne=config.addOne,keys={};if(config.url){url=config.url+"?page="+page+"&per_page=10";for(opt in config.searchOpt)keys[opt]=config.searchOpt[opt]}else{if(controller.relateWarehouseId)url=scope.apiUrl+"?related_warehouse="+controller.relateWarehouseId+"&page="+page+"&per_page="+scope.perPage;else var url=scope.apiUrl+"?page="+page+"&per_page="+scope.perPage;if(addOne)for(key in addOne.extra)keys[key]=addOne.extra[key];if(controller.searchValue){for(var i=0;i<controller.searchObject.length;i++)keys[controller.searchObject[i].field+"__icontains"]=controller.searchValue[controller.searchObject[i].field];""!=controller.searchValue.type&&void 0!=controller.searchValue.type&&(keys.sort=controller.searchValue.order+controller.searchValue.type)}}for(name in keys)controller.notEmpty(keys[name])&&(url+="&"+name+"="+keys[name]);return mainAsset.log(url),url},scope.getUrl=controller.makeUrl(scope.page,controller.paginationConfig),scope.assetData=$localStorage.assetData,scope.checkWrite=function(param){return"write"==$localStorage.assetData.permissions[param]},controller.getData=function(callback,url){if(url)crudGetUrl=url;else var crudGetUrl=scope.getUrl;scope.preRequest={type:"get",url:crudGetUrl,scope:scope,callback:function(response){callback?callback(response):(scope.meta=response.data.meta,response.data.data.total_price?scope.total_price=response.data.data.total_price:delete scope.total_price,controller.note=response.data.data[apiName+"s"]),mainAsset.log(response)},progressBar:!0},requestHelper.get(scope.preRequest.url,scope.preRequest.scope,scope.preRequest.callback,scope.preRequest.progressBar)},apiName&&controller.getData(),controller.getFilteredData=function(){scope.page=1,scope.getUrl=controller.makeUrl(scope.page,controller.paginationConfig),controller.getData()},controller.selectTarget=function(_source,_base,_target,_stage,_callback){_base[_target]=_source,void 0!==_stage&&(scope.stage=_stage),_callback&&eval(_callback)},controller.getObject=function(id){scope.toEditId=id,scope.editMode=!0,scope.loadModal=!0,mainAsset.openModal("#"+apiName+"Modal"),scope.preRequest={type:"get",url:scope.apiUrl+"/"+id,scope:scope,callback:function(response){controller.obj=getConfig(response.data.data),mainAsset.log(controller.obj),scope.loadModal=!1,scope.loadSide=!1},progressBar:!1},requestHelper.get(scope.preRequest.url,scope.preRequest.scope,scope.preRequest.callback,scope.preRequest.progressBar)},controller.sendOrEdit=function(editMode,obj,url,callback){var sendObj=new Object;if(scope.loadModal=!0,obj?sendObj=angular.copy(obj):(delete(sendObj=angular.copy(controller.obj)).id,sendObj=objConfig(sendObj)),url)sendOrEditUrl=url;else var sendOrEditUrl=scope.apiUrl;mainAsset.log(sendObj),editMode?(scope.preRequest={type:"put",url:sendOrEditUrl+"/"+scope.toEditId,json:sendObj,scope:scope,callback:function(response){callback?callback(response):($("#"+apiName+"Modal").modal("hide"),controller.getData(),scope.reset())},progressBar:!1},requestHelper.put(scope.preRequest.url,scope.preRequest.json,scope.preRequest.scope,scope.preRequest.callback,scope.preRequest.progressBar)):(scope.preRequest={type:"post",url:sendOrEditUrl,json:sendObj,scope:scope,callback:function(response){callback?callback(response):($("#"+apiName+"Modal").modal("hide"),controller.getData(),scope.reset())},progressBar:!1},requestHelper.post(scope.preRequest.url,scope.preRequest.json,scope.preRequest.scope,scope.preRequest.callback,scope.preRequest.progressBar))},controller.deleteObject=function(id,afterDelete){scope.loadModal=!0,scope.preRequest={type:"delete",url:scope.apiUrl+"/"+id,scope:scope,callback:function(response){1==controller.note.length&&(1!=scope.page&&(scope.page-=1),scope.getUrl=controller.makeUrl(scope.page,controller.paginationConfig)),controller.getData(),$("#deleteModal").modal("hide"),"function"==typeof afterDelete&&afterDelete(id)},progressBar:!1},requestHelper.delete(scope.preRequest.url,scope.preRequest.scope,scope.preRequest.callback)},controller.search=function(cat,field,filter){var filterSection="";filter&&filter.key&&filter.value&&(filterSection="&"+filter.key+"="+filter.value),scope.loadSearch=!0;var searchUrl=mainAsset.getUrl()+cat;field?-1==field.indexOf("?")&&""!=field?searchUrl+="?"+field+filterSection:searchUrl+=field+filterSection:searchUrl+="?"+filterSection,controller.tmp.searchQuery&&""!=controller.tmp.searchQuery&&(searchUrl+="&text_search="+controller.tmp.searchQuery),void 0!=controller.relateWarehouseId&&""!=controller.relateWarehouseId&&(searchUrl+="&related_warehouse="+controller.relateWarehouseId),mainAsset.log(searchUrl),scope.preRequest={type:"get",url:searchUrl,scope:scope,callback:function(response){controller.tmp.searchResult=response.data.data[cat+"s"],scope.loadSearch=!1},progressBar:!1},requestHelper.get(scope.preRequest.url,scope.preRequest.scope,scope.preRequest.callback)},controller.selectThings=function(stage,object,field){scope.stage=stage,controller.tmp.searchQuery="",controller.tmp.searchResult=[],controller.search(object,field)},controller.returnBtn=function(){scope.stage=0},controller.deleteKey=function(obj,key){delete obj[key]},controller.openSelectionModal=function(stage_,field_,var_){mainAsset.openModal("#selectModal"),controller.selectThings(stage_,field_,var_)},controller.closeSelectionModal=function(){mainAsset.closeModal("#selectModal"),scope.reset()}}}),app.directive("reqPagination",function(){return{restrict:"E",replace:!1,scope:{itempage:"=",itemmeta:"=",config:"=",controller:"="},link:function(scope,element,attr){function safeApply(fn){var phase=scope.$root.$$phase;"$apply"==phase||"$digest"==phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)}if(scope.$parent.$parent.apiUrl?scope.dParent=scope.$parent.$parent:scope.dParent=scope.$parent,scope.config)paginationConfig=scope.config;else var paginationConfig={};scope.itemmeta||(scope.itemmeta={}),scope.pagination=function(status){var pageMeta=scope.itemmeta;switch(status){case"old":return null===pageMeta.next;case"new":return null==pageMeta.prev;case"end":return!(pageMeta.pages>1&&pageMeta.page<pageMeta.pages-1);case"first":return!(pageMeta.page>2);case"first_mid":return!(pageMeta.page-1-1>1);case"end_mid":var nextPage=pageMeta.page+1;return!(pageMeta.pages-nextPage>1)}},scope.pageSet=function(mode){if(!scope.pagination(mode)){switch(mode){case"new":scope.itempage-=1;break;case"old":scope.itempage+=1;break;case"first":scope.itempage=1;break;case"end":scope.itempage=scope.itemmeta.pages}safeApply(scope.itempage)}paginationConfig.url?paginationConfig.getFunc(scope.itempage):(scope.dParent.getUrl=scope.controller.makeUrl(scope.itempage,paginationConfig),scope.controller.getData())}},templateUrl:"/dist/js/app/directive/pagination.html"}}),app.directive("searchTools",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{sobject:"=",scontroller:"="},link:function(scope,element,attr){$("#more-filters").on("click",function(){$("div#report-field").toggle(),$("#more-filters").hide(),$("#less-filters").show()}),$("#less-filters").on("click",function(){$("div#report-field").toggle(),$("#more-filters").show(),$("#less-filters").hide(),scope.scontroller.addOne.reportFields={},scope.$apply()});var reportDivExist=$("#report-field").length>0,reportFiltersExist=$("#report-field").children().length>0;reportDivExist&&reportFiltersExist||$("div.more-filter-link-container").hide()},templateUrl:"/dist/js/app/directive/search.html"}}),app.directive("searchStage",function(){return{restrict:"E",replace:!0,scope:{obj:"=",controller:"=",filterId:"@",target:"@",subbase:"@",func:"@"},link:function(scope,element,attr){scope.target||(scope.target="obj"),scope.subbase&&""!=scope.subbase||(scope.subbase=void 0),scope.func&&""!=scope.func||(scope.func=void 0),scope.filterId&&""!=scope.filterId||(scope.filterId=void 0)},templateUrl:"/dist/js/app/directive/searchStage.html"}}),app.directive("creatProduct",function(mainAsset,requestHelper){return{restrict:"E",replace:!0,scope:{controller:"="},link:function(scope,element,attr){scope.$parent.$parent.apiUrl?scope.dParent=scope.$parent.$parent:scope.dParent=scope.$parent,scope.uploadUrl=mainAsset.getUploadUrl(),scope.controller.bundleHolderId="",scope.selectProducerObj={title:{fa:" ",en:"producer"},searchItem:{fa:" ",en:"producer"},searchAt:{fa:" ",en:"brand_name"},table:[{fa:" ",en:"brand_name"}]},scope.selectGuarantorObj={title:{fa:"",en:"guarantor"},searchItem:{fa:"",en:"guarantor"},searchAt:{fa:" ",en:"company_name"},table:[{fa:" ",en:"company_name"},{fa:"",en:"office_phone"}]},scope.controller.productReset=function(){scope.dParent.load=!1,scope.dParent.loadModal=!1,scope.dParent.loadSearch=!1,scope.dParent.uploadPercentage=0,scope.dParent.uploading=!1,scope.dParent.stage=0,scope.dParent.editMode=!1,scope.makeDuplicate=!1,scope.controller.product={},scope.controller.tmp.meta={},scope.controller.bundleHolderId=""},scope.setGroupStage=function(){scope.controller.tmp.searchD=!1,scope.controller.tmp.searchQuery="",scope.dParent.stage=3,scope.dParent.loadSearch=!0;var searchUrl=mainAsset.getUrl()+"group?depth__lt=2&page=1&per_page=25";requestHelper.get(searchUrl,scope.dParent,function(response){scope.controller.tmp.searchResult=response.data.data.groups,scope.dParent.loadSearch=!1})},scope.loadMeta=function(id){scope.dParent.loadModal=!0;var metaUrl=mainAsset.getUrl()+"group/"+id;requestHelper.get(metaUrl,scope.dParent,function(response){scope.controller.tmp.meta=response.data.data;var reqMetaData=response.data.data.meta_template;scope.controller.product.meta_data=[];for(var i=0;i<reqMetaData.length;i++)scope.controller.product.meta_data[i]={key:reqMetaData[i].key,value:null};scope.dParent.loadSearch=!1})},scope.controller.product.qr_code="",scope.controller.uploadProductPic=function(){!scope.productForm.productPic.$error.maxSize&&scope.controller.qrCodeFile&&requestHelper.uploadFileReq(scope.controller.qrCodeFile,"signature",scope,function(data){scope.controller.product.qr_code=data.data.file_url})},scope.objConfig=function(obj){if(sendCopyObj=angular.copy(obj),sendCopyObj.guarantor=sendCopyObj.guarantor.id,sendCopyObj.producer=sendCopyObj.producer.id,sendCopyObj.subgroup=sendCopyObj.subgroup.id,sendCopyObj.is_out_of_system||(sendCopyObj.is_out_of_system=!1),sendCopyObj.deprication_type=Number(sendCopyObj.deprication_type),sendCopyObj.is_bundle||(sendCopyObj.is_bundle=!1,delete sendCopyObj.children),scope.dParent.editMode?(delete sendCopyObj.deprication_time,delete sendCopyObj.holder,delete sendCopyObj.parent_bundle,delete sendCopyObj.is_bundle,delete sendCopyObj.price,delete sendCopyObj.id,delete sendCopyObj.name):sendCopyObj.is_bundle||(sendCopyObj.is_out_of_system=!0),sendCopyObj.guarantee_end_date=mainAsset.toGregorianDate(sendCopyObj.guarantee_end_date),sendCopyObj.guarantee_start_date=mainAsset.toGregorianDate(sendCopyObj.guarantee_start_date),sendCopyObj.production_date=mainAsset.toGregorianDate(sendCopyObj.production_date),sendCopyObj.children){sendCopyObj.children=[];for(i=0;i<obj.children.length;i++)sendCopyObj.children.push(obj.children[i].id)}sendCopyObj.meta_data||(sendCopyObj.meta_data=[]);for(var i=obj.meta_data.length-1;i>=0;i--)obj.meta_data[i].value||sendCopyObj.meta_data.splice(i,1);return sendCopyObj},scope.closeModal=function(){scope.controller.tmp={},scope.controller.bundleHolderId="",scope.controller.tmp.formShow=!0,$("#productModal").modal("hide"),scope.controller.product={}},scope.sendOrEdit=function(eMode){scope.controller.sendOrEdit(eMode,scope.objConfig(scope.controller.product),mainAsset.getUrl()+"product",function(data){scope.controller.creatProductCallback(data.data),scope.makeDuplicate?(scope.controller.product.serial_number="",delete scope.controller.product.qr_code,scope.controller.product.children=[]):($("#productModal").modal("hide"),scope.controller.productReset())})},scope.controller.deleteChild=function(index){scope.controller.product.children.splice(index,1),0!=scope.controller.product.children.length||scope.controller.product.holder||(scope.controller.bundleHolderId="",scope.controller.bundleProductSearch())},scope.controller.checkDuplicate=function(obj,array){var checkResult=!0;array||(array=[]);for(var i=0;i<array.length;i++)array[i].id==obj.id&&(checkResult=!1);return checkResult},scope.controller.addBundleProduct=function(list){scope.controller.product.children||(scope.controller.product.children=[]),0!=scope.controller.product.children.length||scope.controller.product.holder||(scope.controller.bundleHolderId=list.holder.obj.id,scope.controller.bundleProductSearch()),scope.controller.product.children.push(list)},scope.controller.openBundleSelection=function(){var searchQuery="?use_case=2";scope.controller.product.holder?scope.controller.bundleHolderId=scope.controller.product.holder.obj.id:scope.controller.bundleHolderId||(scope.controller.bundleHolderId=""),"string"==typeof scope.controller.bundleHolderId&&""!=scope.controller.bundleHolderId&&(searchQuery+="&holder="+scope.controller.bundleHolderId),scope.controller.selectThings(2,"product",searchQuery)},scope.controller.bundleProductSearch=function(){var searchQuery="?use_case=2";"string"==typeof scope.controller.bundleHolderId&&""!=scope.controller.bundleHolderId&&(searchQuery+="&holder="+scope.controller.bundleHolderId),scope.controller.search("product",searchQuery),scope.controller.tmp.searchD=!0}},templateUrl:"/dist/js/app/directive/creatproduct.html"}}),app.directive("productStat",function(mainAsset,requestHelper){return{restrict:"E",replace:!0,scope:{controller:"="},link:function(scope,element,attr){scope.$parent.$parent.apiUrl?scope.dParent=scope.$parent.$parent:scope.dParent=scope.$parent,scope.controller.getProductStat=function(id){scope.dParent.loadModal=!0;var getUrl=mainAsset.getUrl()+"product/"+id+"/stats";requestHelper.get(getUrl,scope.dParent,function(response){scope.controller.productStat=response.data.data,scope.controller.productStat.qr_code=scope.dParent.uploadUrl+scope.controller.productStat.qr_code,mainAsset.log(scope.controller.productStat),scope.dParent.loadModal=!1})},scope.controller.openProductModal=function(goods){mainAsset.openModal("#productStatModal"),scope.controller.getProductStat(goods.id)}},templateUrl:"/dist/js/app/directive/productstat.html"}}),app.directive("exportFile",function(mainAsset,requestHelper){return{restrict:"E",replace:!0,scope:{exptype:"@",id:"="},link:function(scope,element,attr){scope.$parent.$parent.apiUrl?scope.dParent=scope.$parent.$parent:scope.dParent=scope.$parent,scope.makeExport=function(expFromat){if(scope.id)exportConf={file_type:expFromat,id:scope.id};else var exportConf={file_type:expFromat,request_url:scope.dParent.getUrl};var makeExportUrl=mainAsset.getUrl()+"export/"+scope.exptype;requestHelper.post(makeExportUrl,exportConf,scope,function(response){var notifText='      <a target="_blank" href="'+response.data.data.download_url+'">  </a>  ';new PNotify({title:" ",text:notifText,type:"info"});var link=document.createElement("a");link.download=name,link.target="_blank",link.href=response.data.data.download_url,link.click()},!0)}},templateUrl:"/dist/js/app/directive/exportToFile.html"}}),app.directive("toggle",function(){return{restrict:"A",link:function(scope,element,attrs){"tooltip"==attrs.toggle&&$(element).tooltip(),"popover"==attrs.toggle&&$(element).popover()}}}),app.directive("deleteModal",function(){return{restrict:"E",replace:!0,scope:{controller:"="},templateUrl:"/dist/js/app/directive/deleteModal.html"}}),app.directive("enterEvent",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){if(13===event.which){var enterEventList=attrs.enterEvent.split(",");scope.$eval(enterEventList[0])?scope.$apply(function(){scope.$eval(enterEventList[1])}):enterEventList[2]?scope.$apply(function(){scope.$eval(enterEventList[2])}):new PNotify({title:"",text:"  .",type:"error"}),event.preventDefault()}})}}),app.directive("escEvent",function(){return function(scope,element,attrs){element.bind("keydown keypress keyup",function(event){27!==event.which&&27!==event.keyCode||(scope.$apply(function(){scope.$eval(attrs.escEvent)}),event.preventDefault())})}}),app.directive("transactionStat",function(mainAsset,requestHelper){return{restrict:"E",replace:!0,scope:{controller:"="},link:function(scope,element,attr){scope.controller.getTransactionStat=function(id){scope.$parent.loadingTransactionData=!0;var getUrl=mainAsset.getUrl()+"transaction/"+id;requestHelper.get(getUrl,scope.$parent,function(response){scope.controller.transactionStat=response.data.data,mainAsset.log(scope.controller.transactionStat),scope.$parent.loadingTransactionData=!1})},scope.controller.openTransactionStatModal=function(id){mainAsset.openModal("#transactionStatModal"),scope.controller.getTransactionStat(id)}},templateUrl:"/dist/js/app/directive/transactionStat.html"}}),app.service("requestHelper",function($localStorage,$http,Upload,mainAsset,$window,$cookies){scope=null,httpService=this,headers={"Content-Type":"application/json; charset=UTF-8"},httpService.headers=headers,httpService.init=function(scope){httpService.scope=scope,scope.assetData=$localStorage.assetData,scope.assetData?headers["Access-Token"]=scope.assetData.access_token:($localStorage.$reset(),setTimeout(function(){$window.location.href="../index.html"},500))},httpService.startLoading=function(needProgressBar){void 0===needProgressBar&&(needProgressBar=!1),needProgressBar&&(NProgress.start(),httpService.scope.load=!0)},httpService.stopLoading=function(){NProgress.done(),httpService.scope.load=!1,httpService.scope.loadModal=!1,httpService.scope.loadSearch=!1,httpService.scope.loadSide=!1},httpService.successCallback=function(response,callback,notifyEnable){void 0===callback&&(callback=function(){}),void 0===notifyEnable&&(notifyEnable=!0),callback(response);var notif={};response.data.message&&response.data.message.type?notif.type=response.data.message.type:notif.type="info","info"==notif.type?notif.title="":notif.title="",response.data.message&&response.data.message.fa?mainAsset.convertMarkdownToHtml(response.data.message.fa,function(content_){notif.text=content_}):notif.text="   ",notifyEnable&&new PNotify(notif),httpService.stopLoading()},httpService.errorCallback=function(response,scope){var notif={};response.data.message&&"warn"==response.data.message.type?(notif.type="warn",notif.title="",mainAsset.convertMarkdownToHtml(response.data.message.fa,function(content_){notif.text=content_})):(notif.type="error",notif.title=""),response.data.message&&response.data.message.fa?mainAsset.convertMarkdownToHtml(response.data.message.fa,function(content_){notif.text=content_}):notif.text="   .",PNotify.prototype.options.delay=30*notif.text.length,"warn"==notif.type?new PNotify({title:notif.title,text:notif.text,type:notif.type,icon:"glyphicon glyphicon-question-sign",hide:!1,confirm:{confirm:!0,buttons:[{text:"",addClass:"btn"},{text:"",addClass:"btn"}]},buttons:{closer:!1,sticker:!1},history:{history:!1},addclass:"stack-modal",stack:{dir1:"down",dir2:"right",modal:!0}}).get().on("pnotify.confirm",function(){httpService.doConfirm(httpService.scope.preRequest)}).on("pnotify.cancel",function(){}):new PNotify(notif),PNotify.prototype.options.delay=2e3,mainAsset.log(response),401===response.status&&($localStorage.$reset(),setTimeout(function(){$window.location.href="../index.html"},500)),httpService.stopLoading()},httpService.get=function(url,scope,callback,progressBar){httpService.init(scope),httpService.startLoading(progressBar),$http.get(url,{headers:headers}).then(function(response){httpService.successCallback(response,callback,!1)},function(response){httpService.errorCallback(response,scope)})},httpService.put=function(url,json,scope,callback,progressBar){httpService.init(scope),httpService.startLoading(progressBar),$http.put(url,json,{headers:headers}).then(function(response){httpService.successCallback(response,callback)},function(response){httpService.errorCallback(response,scope)})},httpService.post=function(url,json,scope,callback,progressBar){httpService.init(scope),httpService.startLoading(progressBar),$http.post(url,json,{headers:headers}).then(function(response){httpService.successCallback(response,callback)},function(response){httpService.errorCallback(response,scope)})},httpService.delete=function(url,scope,callback,progressBar){httpService.init(scope),httpService.startLoading(progressBar),$http.delete(url,{headers:headers}).then(function(response){httpService.successCallback(response,callback)},function(response){httpService.errorCallback(response,scope),$(".modal").modal("hide")})},httpService.uploadFileReq=function(file,type,scope,callback){scope.uploading=!0,Upload.upload({url:mainAsset.getUploadUrl(),headers:httpService.headers,data:{image:file,type:type}}).then(function(resp){mainAsset.log("Success uploaded. Response: "),scope.uploadPercentage=0,callback(resp.data),scope.uploading=!1},function(resp){scope.uploading=!1,scope.uploadPercentage=0,httpService.errorCallback(resp.status,scope)},function(evt){scope.uploadPercentage=parseInt(100*evt.loaded/evt.total)+"%"})},httpService.openConfirmModal=function(_message,scope){mainAsset.openModal("#confirmModal"),scope.confirmMessage=_message},httpService.uploadDatabase=function(_scope,_request){httpService.init(_scope),httpService.scope.uploading=!0,Upload.upload({url:_request.url,method:_request.method,headers:httpService.headers,data:{database:_request.data}}).then(function(resp){httpService.scope.uploading=!1,httpService.scope.uploadPercentage=0,"function"==typeof _request.successCallback?_request.successCallback(resp):httpService.successCallback(resp)},function(resp){"function"==typeof _request.errorCallback?_request.errorCallback(resp):(httpService.scope.uploading=!1,httpService.scope.uploadPercentage=0,httpService.errorCallback(resp))},function(evt){"function"==typeof _request.handler?_request.handler(evt):httpService.scope.uploadPercentage=parseInt(100*evt.loaded/evt.total)+"%"})},httpService.doConfirm=function(_reqObj){httpService.scope.loadModal=!0,httpService.headers["Force-Action"]=!0,_reqObj.editedCallback=function(response){_reqObj.callback&&_reqObj.callback(response),delete httpService.headers["Force-Action"]},"get"==_reqObj.type?httpService.get(_reqObj.url,_reqObj.scope,_reqObj.editedCallback,_reqObj.progressBar):"put"==_reqObj.type?httpService.put(_reqObj.url,_reqObj.json,_reqObj.scope,_reqObj.editedCallback,_reqObj.progressBar):"post"==_reqObj.type?httpService.post(_reqObj.url,_reqObj.json,_reqObj.scope,_reqObj.editedCallback,_reqObj.progressBar):"delete"==_reqObj.type?httpService.delete(_reqObj.url,_reqObj.scope,_reqObj.editedCallback,_reqObj.progressBar):"uploadDatabase"==_reqObj.type?(_reqObj.successCallback=function(response){_reqObj.editedCallback(response),$localStorage.$reset(),setTimeout(function(){$window.location.href="../index.html"},500)},httpService.uploadDatabase(_reqObj.scope,_reqObj)):(mainAsset.log("confirm object with invalid type request"),httpService.scope.loadModal=!1)}}),angular.module("assetAdminPanel").controller("changepassCtrl",function($scope,$http,mainAsset,$localStorage,requestHelper){var controller=this;$scope.assetData=$localStorage.assetData,$scope.serverUrl=mainAsset.getUrl(),this.changePassUrl=$scope.serverUrl+"user/"+$scope.assetData.id+"/password",this.changePassword=function(){requestHelper.put(controller.changePassUrl,controller.obj,$scope,function(){controller.obj={},controller.tmp={}},!0)}}),angular.module("assetAdminPanel").controller("configCtrl",function($scope,$http,$cookieStore,mainAsset,requestHelper){var controller=this;$scope.loadModal=!0,$scope.ValidIpAddressRegex="^([0-9]{1,3})[.]([0-9]{1,3})[.]([0-9]{1,3})[.]([0-9]{1,3})(([:][0-9]{1,5}){0,1})$",$scope.ValidHostnameRegex="^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$",$scope.assetData=$cookieStore.get("assetData"),$scope.serverUrl=mainAsset.getUrl(),$("#myTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$("#myTabs a:first").tab("show");$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+"config",this.configUrl=$scope.serverUrl+"config",this.obj={},requestHelper.init($scope),$scope.ipConfigObject={allowPort:!0},controller.validateResult={touched:!1,ldap_touched:!1,syslog_touched:!1},controller.loadConfig=function(){$scope.loadModal=!0,requestHelper.get(controller.configUrl,$scope,function(response){mainAsset.log(response.data.data),controller.initialConfig=response.data.data,controller.obj=angular.copy(controller.initialConfig),$scope.loadModal=!1,controller.validateResult.touched=!1},function(response){mainAsset.log("Error loading config:"),mainAsset.log(response),$scope.loadModal=!1,controller.validateResult.touched=!1})},controller.loadConfig(),controller.setConfig=function(configType){var requestUrl=controller.configUrl+"/"+configType,obj=controller.obj[configType];$scope.loadModal=!0,requestHelper.put(requestUrl,obj,$scope,function(response){controller.loadConfig(),mainAsset.log(response.data.data),$scope.loadModal=!1,$("#ldap-submit").hide(),$("#syslog-submit").hide(),controller.validateResult.ldap_touched=!1,controller.validateResult.syslog_touched=!1},"")},controller.configChange=function(configType){angular.equals(controller.initialConfig[configType],controller.obj[configType])?$("#"+configType+"-submit").hide():$("#"+configType+"-submit").show(),controller.validateResult.touched=!0,controller.validateResult[configType+"_touched"]=!0}}),angular.module("assetAdminPanel").controller("databaseCtrl",function($scope,$http,$cookieStore,mainAsset,requestHelper,$window,Upload,crud){var controller=this;$scope.uploadPercentage=0,$scope.assetData=$cookieStore.get("assetData"),$scope.serverUrl=mainAsset.getUrl(),$scope.uploadUrl=mainAsset.getUploadUrl(),controller.downloadUrl=null,$("#myTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$("#myTabs a:first").tab("show"),this.databaseUrl=$scope.serverUrl+"database",crud.init($scope,controller,""),this.download=function(){controller.downloadUrl=null,requestHelper.post(controller.databaseUrl+"/backup",{},$scope,function(response){$window.open(response.data.data.download_url,"_blanck"),controller.downloadUrl=response.data.data.download_url},!0)},this.downloadFile=function(){controller.downloadUrl=null,requestHelper.post($scope.uploadUrl+"/database/backup",{},$scope,function(response){$window.open($scope.uploadUrl+response.data.data.download_url,"_blanck"),controller.downloadUrl=$scope.uploadUrl+response.data.data.download_url},!0)},requestHelper.init($scope),this.upload=function(){!$scope.restoreForm.file.$error.pattern&&controller.file&&($scope.preRequest={type:"uploadDatabase",method:"PUT",scope:$scope,url:controller.databaseUrl,data:controller.file,successCallback:"",errorCallback:"",handler:""},requestHelper.uploadDatabase($scope,$scope.preRequest))},this.uploadServer=function(){!$scope.uploadForm.file.$error.pattern&&controller.uploadFile&&($scope.uploading=!0,$scope.preRequest={type:"uploadServer",method:"PUT",scope:$scope,url:$scope.uploadUrl+"/database",data:{database:controller.uploadFile},successCallback:"",errorCallback:"",handler:""},requestHelper.uploadDatabase($scope,$scope.preRequest))}}),angular.module("assetAdminPanel").controller("emptydatabaseCtrl",function($scope,$http,$localStorage,mainAsset,requestHelper,crud,$window){var controller=this;controller.emptySuccess=!1,$scope.assetData=$localStorage.assetData,$scope.serverUrl=mainAsset.getUrl(),$("#myTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$("#myTabs a:first").tab("show"),this.databaseUrl=$scope.serverUrl+"database",$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+"database",crud.init($scope,controller,""),this.empty=function(){$scope.preRequest={type:"delete",url:controller.databaseUrl,scope:$scope,callback:function(response){controller.emptySuccess=!0,$localStorage.$reset(),setTimeout(function(){$window.location.href="../index.html"},500)},progressBar:!1},requestHelper.delete($scope.preRequest.url,$scope.preRequest.scope,$scope.preRequest.callback,$scope.preRequest.progressBar)}}),angular.module("assetAdminPanel").controller("groupCtrl",function($scope,$cookieStore,mainAsset,requestHelper,crud){var controller=this;controller.searchObject=[{fname:"",field:"title"}],controller.resetExt=function(){controller.selectGroupObj={title:{fa:"",en:"parent"},searchItem:{fa:"",en:"group"},searchAt:{fa:"",en:"title"},table:[{fa:"",en:"title"},{fa:"",en:"description"}],searchFilter:{key:"depth__lt",value:"6"}}},controller.resetExt(),$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),controller.obj={},controller.addOne={},controller.addOne.extra={},controller.addOne.extra.depth__lt="2",controller.paginationConfig={addOne:controller.addOne},$scope.apiUrl=mainAsset.getUrl()+"group",controller.getConfig=function(obj){return controller.selectGroupObj.searchFilter.key="parent_for",controller.selectGroupObj.searchFilter.value=obj.id,obj},controller.objConfig=function(obj){return sendCopyObj=angular.copy(obj),sendCopyObj.children&&delete sendCopyObj.children,delete sendCopyObj.level,delete sendCopyObj.depth,sendCopyObj.parent&&(sendCopyObj.parent=sendCopyObj.parent.id),sendCopyObj.meta_template=sendCopyObj.self_meta_template||[],delete sendCopyObj.self_meta_template,sendCopyObj},controller.deleteParent=function(obj){delete obj.parent},crud.initModals($scope,controller,"group",[],controller.resetExt),crud.init($scope,controller,"group",controller.objConfig,controller.getConfig),this.deleteMeta=function(index){controller.obj.self_meta_template.splice(index,1)},this.addMeta=function(type){var newMeta={key:"",type:type};controller.obj.self_meta_template||(controller.obj.self_meta_template=[]),controller.obj.self_meta_template.push(newMeta)},this.getFilteredData=function(){var editedObj=angular.copy(controller.addOne);editedObj.extra.depth__lt?editedObj.extra.depth__lt=controller.addOne.extra.depth__lt:editedObj.extra.depth__lt="2",$scope.page=1,$scope.getUrl=controller.makeUrl($scope.page,controller.paginationConfig),controller.getData()}}),angular.module("assetAdminPanel").controller("guarantorCtrl",function($scope,mainAsset,requestHelper,crud){var controller=this;controller.searchObject=[{fname:" ",field:"company_name"},{fname:"",field:"address",show_in_order:!1},{fname:" ",field:"office_phone",show_in_order:!1}],$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+"guarantor",controller.objConfig=function(obj){return sendCopyObj=angular.copy(obj),sendCopyObj.website_address&&""!=sendCopyObj.website_address?-1==sendCopyObj.website_address.indexOf("http")&&(sendCopyObj.website_address="http://"+sendCopyObj.website_address):delete sendCopyObj.website_address,sendCopyObj},controller.obj={},crud.initModals($scope,controller,"guarantor",[controller.obj.company_name,controller.obj.website_address,controller.obj.office_phone,controller.obj.address]),crud.init($scope,controller,"guarantor",controller.objConfig)}),angular.module("assetAdminPanel").controller("homeCtrl",function($scope,$localStorage,requestHelper,mainAsset){$scope.assetData=$localStorage.assetData,mainAsset.log($scope.assetData)}),angular.module("assetAdminPanel").controller("invoiceCtrl",function($scope,$cookieStore,mainAsset,requestHelper,crud,ADMdtpConvertor,$q){var controller=this;controller.apiName="invoice",$scope.editMode=!0,$scope.selectStage=0,controller.searchObject=[{fname:" ",field:"invoice_no"}],controller.setFormHeight=function(){var formHeight=$(window).height()/2;$("#invoiceEditCreateForm").css("height",formHeight),$("#invoiceEditCreateForm").css("overflow-y","auto")},controller.product={},$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),controller.obj={},controller.addOne={},controller.addOne.extra={},controller.addOne.reportFields={},controller.paginationConfig={addOne:controller.addOne},$scope.apiUrl=mainAsset.getUrl()+controller.apiName,controller.objConfig=function(obj){var obj2=new Object;return obj2=angular.copy(obj),obj2.datetime=mainAsset.toGregorianDate(controller.obj.datetime),obj2.price=0,controller.obj.products.forEach(function(item,index){obj2.price+=item.price}),obj2.products=[],controller.obj.products.forEach(function(item,index){obj2.products.push({id:item.id,price:item.price})}),delete obj2.id,obj2.seller=controller.obj.seller.id,obj2.buyer=controller.obj.buyer.id,obj2},controller.getConfig=function(obj){return obj.datetime=mainAsset.toJalaliDate(obj.datetime,{deleteTime:!0}),$scope.editMode=!0,controller.tmp.formShow=!0,obj},controller.openModal=function(name){mainAsset.openModal("#"+name+"Modal")},controller.closeModal=function(name){mainAsset.closeModal("#"+name+"Modal")},crud.initModals($scope,controller,controller.apiName,[]),crud.init($scope,controller,controller.apiName,controller.objConfig,controller.getConfig),controller.tmp.formShow=!1,controller.setNewInvoiceForm=function(){$scope.reset(),controller.tmp.formShow=!0},controller.readInvoice=function(id){$scope.reset(),$scope.loadSide=!0,controller.tmp.formShow=!0,controller.getObject(id)},controller.selectBuyer=function(){controller.tmp.searchQuery="",$scope.selectStage=1,controller.openModal("select"),void 0==controller.tmp.searchField&&(controller.tmp.searchField=""),controller.tmp.searchQuery=controller.tmp.searchField,controller.search("user")},controller.selectSeller=function(){controller.tmp.searchQuery="",$scope.selectStage=2,controller.openModal("select"),void 0==controller.tmp.searchField&&(controller.tmp.searchField=""),controller.tmp.searchQuery=controller.tmp.searchField,controller.search("seller")},controller.openProductModal=function(){controller.openModal("product")},controller.selectProduct=function(){controller.tmp.searchQuery="",$scope.selectStage=3,controller.openModal("select"),controller.search("product","?use_case=0")},controller.pushProduct=function(item){void 0===controller.obj.products&&(controller.obj.products=[]),item.price=null,controller.obj.products.push(item)},controller.deselect=function(item_index){controller.obj.products.remove(item_index)},controller.creatProductCallback=function(goods){controller.obj.products||(controller.obj.products=[]),goods.price=null,controller.obj.products.push(goods)},this.checkDuplicate=function(obj,array){var checkResult=!0;array||(array=[]);for(var i=0;i<array.length;i++)array[i].id==obj.id&&(checkResult=!1);return checkResult},this.uploadPic=function(){mainAsset.log($scope.invoiceForm.file.$error),!$scope.invoiceForm.file.$error.maxSize&&controller.scannedFile&&requestHelper.uploadFileReq(controller.scannedFile,"invoice",$scope,function(data){controller.obj.scanned_invoice=data.data.file_url})},controller.checkTotalPrice=function(){var bank=0;return controller.obj.products.forEach(function(item,index){bank+=item.price}),mainAsset.log(bank),bank!=controller.obj.price},controller.validateForm=function(){var notifObj={};if(notifObj.type="error",notifObj.title="   ",$scope.invoiceForm.invoice_no.$valid){if(void 0==controller.obj.datetime||""==controller.obj.datetime)return notifObj.text="    .",new PNotify(notifObj),!1;if(void 0==controller.obj.buyer)return notifObj.text="   .",new PNotify(notifObj),!1;if(void 0==controller.obj.seller)return notifObj.text="   .",new PNotify(notifObj),!1;if(controller.checkTotalPrice())return notifObj.text="      ",new PNotify(notifObj),!1;if(controller.obj.products.length!=controller.obj.num_of_products)return notifObj.text="       ",new PNotify(notifObj),!1;if(void 0==controller.obj.products||0==controller.obj.products.length)return notifObj.text="        .",new PNotify(notifObj),!1;if(void 0==controller.obj.scanned_invoice||""==controller.obj.scanned_invoice)return $scope.uploading?(notifObj.text="      .",new PNotify(notifObj),!1):(notifObj.text="    .",new PNotify(notifObj),!1);var validPriceFlag=!0;return controller.obj.products.forEach(function(item,index){(item.price<0||void 0==item.price)&&(validPriceFlag=!1)}),validPriceFlag?($scope.loadSide=!0,controller.sendOrEdit($scope.editMode),!0):(notifObj.text="      ",new PNotify(notifObj),!1)}return notifObj.text="    .",new PNotify(notifObj),!1},controller.getFilteredData=function(){var editedObj=angular.copy(controller.addOne),ex=editedObj.extra;Object.assign(ex,controller.addOne.reportFields),ex.datetime__gte&&(ex.datetime__gte=mainAsset.toGregorianDate(ex.datetime__gte)),ex.datetime__lte&&(ex.datetime__lte=mainAsset.toGregorianDate(ex.datetime__lte)),$scope.page=1,controller.paginationConfig.addOne=editedObj,$scope.getUrl=controller.makeUrl($scope.page,controller.paginationConfig),controller.getData()}}),angular.module("assetAdminPanel").controller("loginCtrl",function($scope,$http,$localStorage,$window,mainAsset,requestHelper){var controller=this;if($scope.serverUrl=mainAsset.getUrl(),this.loginUrl=$scope.serverUrl+"user/login",$scope.header={"Content-Type":"application/json; charset=UTF-8"},this.user="",this.pass="",$localStorage.assetData){var nowTime=new Date;if((nowTime=Math.floor(nowTime.getTime()/1e3))-$localStorage.assetData.login_time>$localStorage.assetData.expire_duration)for(;$localStorage.assetData;)delete $localStorage.assetData;else $window.location.href="/panel/#/home"}this.login=function(){NProgress.start();var loginData={};loginData.username=controller.user,loginData.password=controller.pass,$http.post(controller.loginUrl,loginData,{headers:$scope.header}).then(function(response){var loginTime=new Date;$localStorage.assetData=response.data.data,$localStorage.assetData.login_time=Math.floor(loginTime.getTime()/1e3),NProgress.done(),$window.location.href="/panel/#/home"},function(response){NProgress.done(),mainAsset.log(response),new PNotify({title:" ",text:response.data.message.fa,type:"error"})})},this.makeTargetUrl=function(perList,baseUrl){}}),angular.module("assetAdminPanel").controller("logoutCtrl",function($scope,$localStorage,requestHelper,mainAsset){var controller=this;if($scope.serverUrl=mainAsset.getUrl(),$scope.assetData=$localStorage.assetData,this.logoutUrl=$scope.serverUrl+"user/logout",$scope.load=!0,$localStorage.assetData)for(requestHelper.delete(controller.logoutUrl,$scope,function(){localStorage.removeItem("ngStorage-assetData"),$scope.load=!1},!1);$localStorage.assetData;)delete $localStorage.assetData;else $scope.load=!1}),angular.module("assetAdminPanel").controller("mainCtrl",function($scope,requestHelper,$localStorage,$window,mainAsset,$route){var mainController=this;if($localStorage.assetData){var nowTime=new Date;if((nowTime=Math.floor(nowTime.getTime()/1e3))-$localStorage.assetData.login_time>$localStorage.assetData.expire_duration){for(;$localStorage.assetData;)delete $localStorage.assetData;setTimeout(function(){$window.location.href="../index.html"},1e3)}else $scope.userData=$localStorage.assetData,$scope.per=$localStorage.assetData.permissions}else setTimeout(function(){$window.location.href="../index.html"},1e3);$(document).on("click","ul#menu1",function(e){$("ul#menu1 a").is(e.target)||$("ul#menu1 strong").is(e.target)||e.stopPropagation()}),this.checkPer=function(param){return"none"!=$scope.per[param]&&void 0!==$scope.per[param]},$(document).on("click",".pre-a > span > p > a",function(){$window.location.reload()}),$scope.notifList=[],$scope.notifDisplayLimit=5,mainController.loadingNotif=0,this.loadNotifications=function(){var url=mainAsset.getUrl()+"notification";mainController.loadingNotif=1,requestHelper.get(url,$scope,function(response){angular.equals($scope.notifList,response.data.data.notifications)?mainController.loadingNotif=0:($scope.notifList=response.data.data.notifications,setTimeout(function(){for(var i=0;i<Math.min($scope.notifDisplayLimit,$scope.notifList.length);i++)marked($scope.notifList[i].message,function(err,content){$("#msg-"+i)[0].innerHTML=content});mainController.loadingNotif=0,$scope.$apply()},500))})},this.loadNotifications(),$scope.currentDatetime=new Date;setInterval(function(){$scope.currentDatetime=new Date,$scope.$apply()},6e4)}),angular.module("assetAdminPanel").controller("mywarehouseCtrl",function($scope,$localStorage,requestHelper,mainAsset,crud,$routeParams){function setWarehouse(obj){controller.warehouse=obj,setTimeout(function(){$("#myTabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),$("#myTabs a:first").tab("show")},200)}var controller=this;if($scope.reset=function(){$scope.load=!1,$scope.loadModal=!1,$scope.loadSearch=!1,$scope.editMode=!1,$scope.uploadPercentage=0,$scope.uploading=!1,$scope.stage=0,$scope.loadSide=!1,controller.obj={},controller.tmp={}},controller.deleteKey=function(obj,key){delete obj[key]},$scope.reset(),$scope.assetData=$localStorage.assetData,controller.pageType=0,controller.warehouseFilter=-1,$scope.tabStage=0,$routeParams.linked_warehouse){controller.pageType=2;var url=mainAsset.getUrl()+"warehouse/"+$routeParams.linked_warehouse;requestHelper.get(url,$scope,function(response){controller.warehouse=response.data.data,$localStorage.assetData.warehouse_under_management=controller.warehouse,$localStorage.assetData.selectedWarehouse=controller.warehouse,setWarehouse($localStorage.assetData.warehouse_under_management),$routeParams.id=$routeParams.linked_warehouse})}else $routeParams.ticket_id&&$scope.assetData.warehouse_under_management?(setWarehouse($scope.assetData.warehouse_under_management),controller.pageType=0,$scope.tabStage=1):$routeParams.pageType?(controller.pageType=$routeParams.pageType,$scope.assetData.warehouse_under_management&&(controller.warehouseFilter=$scope.assetData.warehouse_under_management.id),$localStorage.assetData.selectedWarehouse?($routeParams.id=$localStorage.assetData.selectedWarehouse.id,setWarehouse($localStorage.assetData.selectedWarehouse)):controller.deleteKey(controller,"warehouse")):$scope.assetData.warehouse_under_management?setWarehouse($scope.assetData.warehouse_under_management):(controller.pageType=2,$scope.tabStage=0);controller.ctrlList=[{src:"",name:""},{src:"../dist/templates/ticket.html",ctrl:"ticketCtrl as ticket"},{src:"../dist/templates/transaction.html",ctrl:"transactionCtrl as transaction"},{src:"../dist/templates/product.html",ctrl:"productCtrl as product"},{src:"../dist/templates/user.html",ctrl:"userCtrl as user"}],this.selectWareHouseModal=function(){controller.tmp.searchQuery="",mainAsset.openModal("#warehouseModal"),controller.search("warehouse")},this.selectWarehouse=function(obj){mainAsset.closeModal("#warehouseModal"),$routeParams.id=obj.id,$localStorage.assetData.selectedWarehouse=obj,setWarehouse(obj)},controller.search=function(cat,field,filter){var filterSection="";filter&&filter.key&&filter.value&&(filterSection="&"+filter.key+"="+filter.value),$scope.loadSearch=!0;var searchUrl=mainAsset.getUrl()+cat;field?-1==field.indexOf("?")&&""!=field?searchUrl+="?"+field+filterSection:searchUrl+=field+filterSection:searchUrl+="?"+filterSection,controller.tmp.searchQuery&&""!=controller.tmp.searchQuery&&(searchUrl+="&text_search="+controller.tmp.searchQuery),mainAsset.log(searchUrl),requestHelper.get(searchUrl,$scope,function(response){controller.tmp.searchResult=response.data.data[cat+"s"],$scope.loadSearch=!1})},controller.deleteWarehouse=function(){controller.deleteKey(controller,"warehouse"),$localStorage.assetData.selectedWarehouse=null}}),angular.module("assetAdminPanel").controller("notificationCtrl",function($scope,mainAsset,requestHelper,crud,$routeParams){var controller=this,apiName="notification",scope=$scope;$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+apiName,crud.initModals($scope,controller,apiName),crud.init($scope,controller,apiName),controller.doConvert=function(){for(var i=0;i<controller.note.length;i++)mainAsset.convertMarkdownToHtml(controller.note[i].message,function(content_){$("#notif-"+i)[0].innerHTML=content_})},controller.getData=function(url,callback){if(url)crudGetUrl=url;else var crudGetUrl=scope.getUrl;requestHelper.get(crudGetUrl,scope,function(response){callback?callback(response):(scope.meta=response.data.meta,response.data.data.total_price?scope.total_price=response.data.data.total_price:delete scope.total_price,controller.note=response.data.data[apiName+"s"],setTimeout(controller.doConvert,400)),mainAsset.log(response)},!0)},controller.getData($scope.apiUrl)}),angular.module("assetAdminPanel").controller("producerCtrl",function($scope,$cookieStore,mainAsset,requestHelper,crud){var controller=this;controller.searchObject=[{fname:" ",field:"brand_name"}],$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),$scope.apiUrl=mainAsset.getUrl()+"producer",controller.obj={},crud.initModals($scope,controller,"producer",[controller.obj.brand_name]),crud.init($scope,controller,"producer")}),angular.module("assetAdminPanel").controller("productCtrl",function($scope,mainAsset,requestHelper,crud,ADMdtpConvertor,$routeParams){var controller=this;controller.searchObject=[{fname:" ",field:"model"},{fname:" ",field:"serial_number"},{fname:"",field:"price",show_in_search:!1}],controller.selectProducerObj={title:{fa:" ",en:"producer"},searchItem:{fa:" ",en:"producer"},searchAt:{fa:" ",en:"brand_name"},table:[{fa:" ",en:"brand_name"}]},controller.selectSellerObj={title:{fa:"",en:"seller"},searchItem:{fa:"",en:"seller"},searchAt:{fa:" ",en:"last_name"},table:[{fa:"",en:"first_name"},{fa:" ",en:"last_name"},{fa:" ",en:"store_name"},{fa:"",en:"address"}]},controller.selectGuarantorObj={title:{fa:"",en:"guarantor"},searchItem:{fa:"",en:"guarantor"},searchAt:{fa:" ",en:"company_name"},table:[{fa:" ",en:"company_name"},{fa:"",en:"address"}]},controller.selectGroupObj={title:{fa:"",en:"group"},searchItem:{fa:" ",en:"group"},searchAt:{fa:"",en:"title"},table:[{fa:"",en:"title"},{fa:"",en:"description"}]},controller.selectProductObj={title:{fa:"",en:"parent_bundle"},searchItem:{fa:"",en:"product"},searchAt:{fa:"",en:"model"},table:[{fa:"",en:"model"},{fa:" ",en:"serial_number"}],searchFilter:{key:"is_bundle",value:"True"}},controller.selectUserHolderObj={title:{fa:" ",en:"holder"},searchItem:{fa:"",en:"user"},searchAt:{fa:" ",en:"last_name"},table:[{fa:"",en:"first_name"},{fa:" ",en:"last_name"},{fa:" ",en:"card_no"},{fa:" ",en:"clearance_level",filter:"userType"}]},$scope.page=1,controller.product={},controller.obj={},controller.addOne={},controller.addOne.extra={},controller.addOne.reportFields={},controller.paginationConfig={addOne:controller.addOne},controller.relateWarehouseId=$routeParams.id,$scope.apiUrl=mainAsset.getUrl()+"product",controller.creatProductCallback=function(){controller.getData()},controller.getConfig=function(obj){return obj.deprication_type+="",obj.guarantee_end_date=mainAsset.toJalaliDate(obj.guarantee_end_date),obj.guarantee_start_date=mainAsset.toJalaliDate(obj.guarantee_start_date),obj.production_date=mainAsset.toJalaliDate(obj.production_date),controller.tmp.meta={meta_template:[]},controller.tmp.meta=obj.subgroup,controller.product=obj,obj},crud.initModals($scope,controller,"product"),crud.init($scope,controller,"product",controller.objConfig,controller.getConfig),controller.obj.qr_code="",this.uploadPic=function(){mainAsset.log($scope.productForm.file.$error),!$scope.productForm.file.$error.maxSize&&controller.qrCodeFile&&requestHelper.uploadFileReq(controller.qrCodeFile,"qrcode",$scope,function(data){delete controller.qrCodeFile,controller.obj.qr_code=data.data.file_url})},this.selectReportOption=function(id,title,titleFiled,variable,targetObj){targetObj||(targetObj=controller.addOne.extra),variable?(targetObj[variable]||(targetObj[variable]={}),targetObj[variable][titleFiled]=title,targetObj[variable].id=id,mainAsset.closeModal("#selectModal")):mainAsset.log("unable to set report option: not a valid variable")},this.getFilteredData=function(){var editedObj=angular.copy(controller.addOne),ex=editedObj.extra;Object.assign(ex,controller.addOne.reportFields),ex.group&&(ex.group=ex.group.id),ex.holder&&(ex.holder=ex.holder.id),delete ex.holder_type,ex.producer&&(ex.producer=ex.producer.id),ex.guarantor&&(ex.guarantor=ex.guarantor.id),ex.related_warehouse&&(ex.related_warehouse=ex.related_warehouse.id),ex.seller&&(ex.seller=ex.seller.id),ex.return_datetime__gte&&(ex.return_datetime__gte=mainAsset.toGregorianDate(ex.return_datetime__gte)),ex.return_datetime__lte&&(ex.return_datetime__lte=mainAsset.toGregorianDate(ex.return_datetime__lte)),ex.deprecated&&(ex.deprication_time__lte=moment().utcOffset(0).format("YYYY-MM-DDTHH:mm:ss")),delete ex.deprecated,ex.requested_for_repair?ex.requested_for_repair="True":delete ex.requested_for_repair,$scope.page=1,controller.paginationConfig.addOne=editedObj,$scope.getUrl=controller.makeUrl($scope.page,controller.paginationConfig),controller.getData()}}),angular.module("assetAdminPanel").controller("sellerCtrl",function($scope,$cookieStore,mainAsset,requestHelper,crud){var controller=this;controller.searchObject=[{fname:"",field:"first_name"},{fname:" ",field:"last_name"},{fname:" ",field:"store_name"},{fname:"",field:"phone"},{fname:" ",field:"cellphone"}],$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),$scope.apiUrl=mainAsset.getUrl()+"seller",controller.obj={},crud.initModals($scope,controller,"seller",[controller.obj.first_name,controller.obj.last_name,controller.obj.store_name,controller.obj.phone,controller.obj.cellphone,controller.obj.address]),crud.init($scope,controller,"seller")}),angular.module("assetAdminPanel").controller("ticketCtrl",function($scope,$http,$localStorage,$cookieStore,mainAsset,requestHelper,crud,ADMdtpConvertor,$routeParams,$sce){var controller=this;headers=requestHelper.headers,controller.searchObject=[{fname:"",field:"title"},{fname:" ",field:"datetime",show_in_search:!1}],$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),$scope.currentUser=$localStorage.assetData,controller.obj={},controller.tmp={},controller.tmp.formShow=!1,$scope.selectStage=0,controller.addOne={},controller.addOne.extra={},controller.addOne.reportFields={},controller.selectProductObj={title:{fa:"",en:"product"},searchItem:{fa:"",en:"product"},searchAt:{fa:"",en:"model"},table:[{fa:" ",en:"model"},{fa:" ",en:"serial_number"}],searchFilter:{key:"use_case",value:"0"}},controller.selectTransactionObj={title:{fa:"",en:"transaction"},searchItem:{fa:"",en:"transaction"},searchAt:{fa:"",en:"unique_id"},table:[{fa:"",en:"unique_id"},{fa:" ",en:"product",filter:"productName"},{fa:"",en:"source",filter:"userOrWarehouseName"},{fa:"",en:"destination",filter:"userOrWarehouseName"},{fa:" ",en:"reason",filter:"reasonType"},{fa:" ",en:"transaction_type",filter:"transactionType"}]},controller.selectDestinationObj={title:{fa:" ",en:"to_warehouse"},searchItem:{fa:"",en:"warehouse"},searchAt:{fa:"",en:"title"},table:[{fa:" ",en:"title"},{fa:"",en:"location"}]},controller.selectFromWarehouseObj={title:{fa:" ",en:"from_warehouse"},searchItem:{fa:"",en:"warehouse"},searchAt:{fa:"",en:"title"},table:[{fa:" ",en:"title"},{fa:"",en:"location"}]},controller.paginationConfig={addOne:controller.addOne},$scope.apiUrl=mainAsset.getUrl()+"ticket",$routeParams.id?controller.relateWarehouseId=$routeParams.id:controller.relateWarehouseId=$localStorage.assetData.warehouse_under_management.id,$scope.userId=$localStorage.assetData.id,controller.centralWarehouse=!1,controller.objConfig=function(obj){var outObj=angular.copy(obj);return $scope.editMode||(outObj.product&&(outObj.product=outObj.product.id),outObj.from_warehouse=controller.relateWarehouseId,outObj.transaction?outObj.transaction=outObj.transaction.id:delete outObj.transaction,outObj.to_warehouse&&""!=outObj.to_warehouse&&controller.allowedSource?outObj.to_warehouse=outObj.to_warehouse.id:delete outObj.to_warehouse,outObj.reason=parseInt(outObj.reason),outObj.ticket_type=parseInt(outObj.ticket_type)),outObj},controller.getConfig=function(obj){return setTimeout(function(){$(".message-list-container")[0].scrollTop=$(".message-list-container")[0].scrollHeight},500),obj},crud.initModals($scope,controller,"ticket",[]),crud.init($scope,controller,"ticket",controller.objConfig,controller.getConfig),controller.allowedSource=!1,controller.addProduct=function(list){controller.obj.product=list,$scope.stage=0},controller.setNewTicketForm=function(){$scope.reset(),controller.tmp.formShow=!0},controller.readTicket=function(id){$scope.reset(),$scope.loadSide=!0,controller.tmp.formShow=!0,controller.getObject(id),setTimeout(controller.reloadCounts,500)},controller.reloadCounts=function(){var url=assetPanelData.serverUrl+"ticket";requestHelper.get(url,$scope,function(response){for(var i=0;i<controller.note.length;i++)controller.note[i].sender_unread_count=response.data.data.tickets[i].sender_unread_count,controller.note[i].receiver_unread_count=response.data.data.tickets[i].receiver_unread_count},"")},controller.createTicket=function(editMode_){$scope.loadSide=!0,controller.sendOrEdit(editMode_)},controller.selectObj=function(field_,item_){controller.obj[field_]=item_,mainAsset.closeModal("#selectModal")},controller.closeModal=function(){mainAsset.closeModal("#selectModal")},controller.setSourceType=function(){var url=assetPanelData.serverUrl+"warehouse/"+controller.relateWarehouseId;requestHelper.get(url,$scope,function(response){mainAsset.log(response.data.data),response.data.data.parent_warehouse?(controller.allowedSource=!1,controller.centralWarehouse=!1):(controller.allowedSource=!0,controller.centralWarehouse=!0)},!0)},controller.setSourceType(),controller.addMessage=function(){var url=assetPanelData.serverUrl+"ticket/"+controller.obj.id+"/message",sendObj={};if(controller.tmp.text&&""!=controller.tmp.text)sendObj.text=controller.tmp.text;else{if(!controller.tmp.transaction)return void new PNotify({title:"",text:"            .",type:"error"});sendObj.attachments=[{type:"transaction",data:controller.tmp.transaction.id}]}$scope.sendingMessage=!0;var responseFunction;responseFunction=2==controller.obj.status?function(response){controller.obj=response.data.data,mainAsset.log(response.data.data),delete controller.tmp.text,delete controller.tmp.transaction,setTimeout(function(){$(".message-list-container")[0].scrollTop=$(".message-list-container")[0].scrollHeight},500),$scope.sendingMessage=!1,controller.getData()}:function(response){controller.obj=response.data.data,mainAsset.log(response.data.data),delete controller.tmp.text,delete controller.tmp.transaction,setTimeout(function(){$(".message-list-container")[0].scrollTop=$(".message-list-container")[0].scrollHeight},500),$scope.sendingMessage=!1},$http.put(url,sendObj,{headers:headers}).then(responseFunction,function(response){requestHelper.errorCallback(response),$scope.sendingMessage=!1})},controller.changeStatus=function(status_){var url=assetPanelData.serverUrl+"ticket/"+controller.obj.id+"/status/"+status_;$scope.loadStatus=!0,$http.put(url,{},{headers:headers}).then(function(response){requestHelper.successCallback(response),controller.obj=response.data.data,mainAsset.log(response.data.data),$scope.loadStatus=!1,controller.getData()},function(response){requestHelper.errorCallback(response),$scope.loadStatus=!1})},controller.getFilteredData=function(){var editedObj=angular.copy(controller.addOne);Object.assign(editedObj.extra,controller.addOne.reportFields),editedObj.extra.datetime__gte?editedObj.extra.datetime__gte=mainAsset.toGregorianDate(controller.addOne.extra.datetime__gte):editedObj.extra.datetime__gte="",editedObj.extra.datetime__lte?editedObj.extra.datetime__lte=mainAsset.toGregorianDate(controller.addOne.extra.datetime__lte):editedObj.extra.datetime__lte="",editedObj.extra.from_warehouse&&(editedObj.extra.from_warehouse=editedObj.extra.from_warehouse.id),editedObj.extra.not_closed&&(editedObj.extra.status__ne="2"),delete editedObj.extra.not_closed,$scope.page=1,controller.paginationConfig.addOne=editedObj,$scope.getUrl=controller.makeUrl($scope.page,controller.paginationConfig),controller.getData()},controller.setPurchaseReport=function(){controller.addOne.extra.ticket_type="1",controller.addOne.extra.status__ne="2",$("#ticket_type_report_field").prop("disabled",!0),$("#ticket_status_finished").prop("disabled",!0),controller.closeSelectionModal()},controller.clearPurchaseReport=function(){$("#ticket_type_report_field").prop("disabled",!1),$("#ticket_status_finished").prop("disabled",!1),delete controller.addOne.extra.status__ne,delete controller.addOne.extra.ticket_type,controller.deleteKey(controller.addOne.reportFields,"from_warehouse")},$routeParams.ticket_id&&(controller.readTicket($routeParams.ticket_id),setTimeout(function(){$("#myTabs li#tab1").tab("show")},200))}),angular.module("assetAdminPanel").controller("transactionCtrl",function($scope,$cookieStore,mainAsset,requestHelper,crud,ADMdtpConvertor,$routeParams){var controller=this;controller.searchObject=[{fname:"",field:"unique_id"}],controller.selectProductObj={title:{fa:"",en:"product"},searchItem:{fa:"",en:"product"},searchAt:{fa:"",en:"model"},table:[{fa:"",en:"model"},{fa:" ",en:"serial_number"}],searchFilter:{key:"use_case",value:"1"}},controller.selectUserSourceObj={title:{fa:" ",en:"source"},searchItem:{fa:"",en:"user"},searchAt:{fa:" ",en:"last_name"},table:[{fa:"",en:"first_name"},{fa:" ",en:"last_name"},{fa:" ",en:"card_no"},{fa:" ",en:"clearance_level",filter:"userType"}]},controller.selectUserDestinationObj={title:{fa:" ",en:"destination"},searchItem:{fa:"",en:"user"},searchAt:{fa:" ",en:"last_name"},table:[{fa:"",en:"first_name"},{fa:" ",en:"last_name"},{fa:" ",en:"card_no"},{fa:" ",en:"clearance_level",filter:"userType"}]},controller.selectWarehouseSourceObj={title:{fa:" ",en:"source"},searchItem:{fa:"",en:"warehouse"},searchAt:{fa:"",en:"title"},table:[{fa:"",en:"title"},{fa:"",en:"location"}]},controller.selectWarehouseDestinationObj={title:{fa:" ",en:"destination"},searchItem:{fa:"",en:"warehouse"},searchAt:{fa:"",en:"title"},table:[{fa:"",en:"title"},{fa:"",en:"location"}]},controller.selectAuthorObj={title:{fa:"   ",en:"auth_by"},searchItem:{fa:"",en:"user"},searchAt:{fa:" ",en:"last_name"},table:[{fa:"",en:"first_name"},{fa:" ",en:"last_name"},{fa:" ",en:"card_no"},{fa:" ",en:"clearance_level",filter:"userType"}]},$scope.page=1,$scope.assetData=$cookieStore.get("assetData"),controller.obj={},controller.addOne={},controller.addOne.extra={},controller.addOne.reportFields={},controller.addOne.extra.reason="",controller.addOne.extra.transaction_type="",controller.addOne.extra.time__gte="",controller.addOne.extra.time__lte="",controller.paginationConfig={addOne:controller.addOne},$scope.apiUrl=mainAsset.getUrl()+"transaction",controller.relateWarehouseId=$routeParams.id,controller.trConfig=function(obj){var finalObj=angular.copy(obj);return finalObj.transaction_type=parseInt(obj.transaction_type),finalObj.reason=parseInt(obj.reason),finalObj.product=obj.product.id,delete finalObj.time,delete finalObj.destination.obj,finalObj},controller.trGetConfig=function(obj){return obj.datetime=mainAsset.toJalaliDate(obj.datetime),obj.reason=obj.reason+"",obj.transaction_type=obj.transaction_type+"",obj},crud.initModals($scope,controller,"transaction",[]),crud.init($scope,controller,"transaction",controller.trConfig,controller.trGetConfig),controller.addProduct=function(list){controller.obj.product=list,$scope.stage=0},controller.addDestination=function(type_,item){controller.obj.destination={type:type_,id:item.id,obj:{}},item.last_name?controller.obj.destination.obj.last_name=item.last_name:controller.obj.destination.obj.title=item.title,$scope.stage=0},controller.getFilteredData=function(){var editedObj=angular.copy(controller.addOne),ex=editedObj.extra;Object.assign(ex,controller.addOne.reportFields),ex.reason&&(ex.reason=parseInt(ex.reason)),ex.transaction_type&&(ex.transaction_type=parseInt(ex.transaction_type)),ex.datetime__gte&&(""==ex.datetime__gte?delete ex.datetime__gte:ex.datetime__gte=mainAsset.toGregorianDate(ex.datetime__gte,{noTime:!0})),ex.datetime__lte&&(""==ex.datetime__lte?delete ex.datetime__lte:ex.datetime__lte=mainAsset.toGregorianDate(ex.datetime__lte,{noTime:!0})),ex.product&&(ex.product=ex.product.id),ex.auth_by&&(ex.auth_by=ex.auth_by.id),ex.source&&(ex.source=ex.source.id),delete ex.source_type,ex.destination&&(ex.destination=ex.destination.id),delete ex.destination_type,$scope.page=1,controller.paginationConfig.addOne=editedObj,$scope.getUrl=controller.makeUrl($scope.page,controller.paginationConfig),controller.getData()},$routeParams.product_id&&($scope.openModal(),$scope.loadModal=!0,requestHelper.get(mainAsset.getUrl()+"product/"+$routeParams.product_id,$scope,function(response){controller.obj.product=response.data.data,controller.obj.holder=controller.obj.product.holder,$scope.loadModal=!1}),requestHelper.get(mainAsset.getUrl()+"warehouse/"+$routeParams.destination_id,$scope,function(response){controller.obj.destination={type:"Warehouse",obj:response.data.data},$scope.loadModal=!1}))}),angular.module("assetAdminPanel").controller("userCtrl",function($scope,mainAsset,requestHelper,crud,$routeParams){var controller=this;$scope.uploadUrl=mainAsset.getUploadUrl(),controller.searchObject=[{fname:"",field:"first_name"},{fname:" ",field:"last_name"},{fname:" ",field:"card_no"}],controller.selectWarehouseUnderManagementObj={title:{fa:"  ",en:"warehouse_under_management"},searchItem:{fa:"",en:"warehouse"},searchAt:{fa:"",en:"title"},table:[{fa:" ",en:"title"},{fa:"",en:"location"}],searchFilter:{key:"parent_warehouse__ne",value:"None"}},$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+"user",controller.relateWarehouseId=$routeParams.id,controller.objConfig=function(obj){return sendCopyObj=angular.copy(obj),sendCopyObj.warehouse&&(sendCopyObj.warehouse=sendCopyObj.warehouse.id),sendCopyObj.warehouse_under_management&&1==sendCopyObj.clearance_level?sendCopyObj.warehouse_under_management=sendCopyObj.warehouse_under_management.id:delete sendCopyObj.warehouse_under_management,0==sendCopyObj.clearance_level&&delete sendCopyObj.password,delete sendCopyObj.products,sendCopyObj.extension_number&&""==sendCopyObj.extension_number&&delete sendCopyObj.extension_number,sendCopyObj},crud.initModals($scope,controller,"user"),crud.init($scope,controller,"user",controller.objConfig),this.resetPass=function(id){$scope.loadModal=!0,requestHelper.put($scope.apiUrl+"/"+id+"/password",{new_password:controller.passToReset},$scope,function(response){$("#resetPassModal").modal("hide"),$scope.loadModal=!1})},mainAsset.log($scope),this.openResetPassModal=function(id){controller.toResetPassId=id,controller.passToReset=null,controller.passToResetConf="",$scope.resetPassForm&&($scope.resetPassForm.pass.$pristine=!0),mainAsset.openModal("#resetPassModal")},controller.obj.scanned_signature="",this.uploadPic=function(){mainAsset.log($scope.userForm.file.$error),!$scope.userForm.file.$error.maxSize&&controller.sigFile&&requestHelper.uploadFileReq(controller.sigFile,"signature",$scope,function(data){controller.obj.scanned_signature=data.data.file_url})},controller.selectWareHouse=function(){$scope.stage=1,controller.tmp.searchQuery="",controller.search("warehouse")},$routeParams.chp_user_id&&controller.openResetPassModal($routeParams.chp_user_id),$routeParams.user_id&&controller.getObject($routeParams.user_id)}),angular.module("assetAdminPanel").controller("warehouseCtrl",function($scope,mainAsset,requestHelper,crud,$routeParams,$location,$localStorage){var controller=this;controller.searchObject=[{fname:"",field:"title"}],$scope.productShow=!1,$scope.page=1,$scope.apiUrl=mainAsset.getUrl()+"warehouse",controller.objConfig=function(obj){return sendCopyObj=angular.copy(obj),sendCopyObj.clerk&&(sendCopyObj.clerk=sendCopyObj.clerk.id),$scope.editMode&&delete sendCopyObj.parent_warehouse,sendCopyObj},controller.obj={},crud.initModals($scope,controller,"warehouse",[controller.obj.title,controller.obj.location,controller.obj.phone]),crud.init($scope,controller,"warehouse",controller.objConfig),controller.selectUser=function(){$scope.stage=1,controller.tmp.searchQuery="",controller.search("user")},controller.getProducts=function(page){$scope.loadSide=!0;var getUrl=controller.makeUrl(page,controller.productPageConf);requestHelper.get(getUrl,$scope,function(response){mainAsset.log(response.data.data),controller.products=response.data.data.products,controller.productsMeta=response.data.meta,controller.productsPage=response.data.meta.page,response.data.data.total_price?$scope.products_total_price=response.data.data.total_price:delete $scope.products_total_price,$scope.loadSide=!1})},controller.productPageConf={getFunc:controller.getProducts,searchOpt:{}},controller.openSide=function(obj){$scope.wareHouseId=obj.id,controller.productPageConf.searchOpt={},controller.productPageConf.searchOpt.product_filter="0",$scope.selectedWarehouse=obj.title,controller.productPageConf.url=$scope.apiUrl+"/"+$scope.wareHouseId+"/products",$scope.productShow=!0,controller.getProducts()},$scope.closeSide=function(){$scope.productShow=!1,$scope.wareHouseId=""},$routeParams.warehouse_id&&controller.getObject($routeParams.warehouse_id),controller.openMywarehouse=function(_id){$location.url("/mywarehouse?linked_warehouse="+_id+"&pageType=2")},controller.afterDelete=function(_id){$localStorage.assetData.selectedWarehouse.id==_id&&($localStorage.assetData.selectedWarehouse=null)}});